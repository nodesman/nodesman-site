// Generated by CoffeeScript 1.9.1
(function() {
  var Capability, _,
    slice = [].slice;

  _ = require('underscore');

  Capability = (function() {
    function Capability(capObj) {
      var prop;
      if (_.isString(capObj)) {
        this.browserName = capObj;
      } else {
        for (prop in capObj) {
          if (capObj.hasOwnProperty(prop)) {
            this[prop] = capObj[prop] || '';
          }
        }
      }
    }

    Capability.prototype.key = function() {
      var key;
      key = '';
      if (this.os || this.os_version || this.browser || this.browser_version) {
        key = this._mergeProp(this.os, this.os_version, this.browser, this.browser_version);
      } else if (this.platform || this.device || this.browserName) {
        key = this._mergeProp(this.platform, this.device, this.browserName);
      }
      return key;
    };

    Capability.prototype._mergeProp = function() {
      var i, key, len, prop, props;
      props = 1 <= arguments.length ? slice.call(arguments, 0) : [];
      key = '';
      for (i = 0, len = props.length; i < len; i++) {
        prop = props[i];
        if (prop) {
          key += prop + ' - ';
        }
      }
      key = key.substring(0, key.length - 3);
      return key;
    };

    return Capability;

  })();

  module.exports = Capability;

}).call(this);

window.Modernizr=function(e,t,i){function n(e){p.cssText=e}function s(e,t){return typeof e===t}var o,r,a,l="2.7.1",c={},h=!0,u=t.documentElement,d="modernizr",f=t.createElement(d),p=f.style,g=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),m={},v=[],y=v.slice,b=function(e,i,n,s){var o,r,a,l,c=t.createElement("div"),h=t.body,f=h||t.createElement("body");if(parseInt(n,10))for(;n--;)a=t.createElement("div"),a.id=s?s[n]:d+(n+1),c.appendChild(a);return o=["&#173;",'<style id="s',d,'">',e,"</style>"].join(""),c.id=d,(h?c:f).innerHTML+=o,f.appendChild(c),h||(f.style.background="",f.style.overflow="hidden",l=u.style.overflow,u.style.overflow="hidden",u.appendChild(f)),r=i(c,e),h?c.parentNode.removeChild(c):(f.parentNode.removeChild(f),u.style.overflow=l),!!r},w=function(t){var i=e.matchMedia||e.msMatchMedia;if(i)return i(t).matches;var n;return b("@media "+t+" { #"+d+" { position: absolute; } }",function(t){n="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),n},x={}.hasOwnProperty;a=s(x,"undefined")||s(x.call,"undefined")?function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")}:function(e,t){return x.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var i=y.call(arguments,1),n=function(){if(this instanceof n){var s=function(){};s.prototype=t.prototype;var o=new s,r=t.apply(o,i.concat(y.call(arguments)));return Object(r)===r?r:o}return t.apply(e,i.concat(y.call(arguments)))};return n}),m.touch=function(){var i;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?i=!0:b(["@media (",g.join("touch-enabled),("),d,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){i=9===e.offsetTop}),i};for(var C in m)a(m,C)&&(r=C.toLowerCase(),c[r]=m[C](),v.push((c[r]?"":"no-")+r));return c.addTest=function(e,t){if("object"==typeof e)for(var n in e)a(e,n)&&c.addTest(n,e[n]);else{if(e=e.toLowerCase(),c[e]!==i)return c;t="function"==typeof t?t():t,"undefined"!=typeof h&&h&&(u.className+=" "+(t?"":"no-")+e),c[e]=t}return c},n(""),f=o=null,function(e,t){function i(e,t){var i=e.createElement("p"),n=e.getElementsByTagName("head")[0]||e.documentElement;return i.innerHTML="x<style>"+t+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var e=y.elements;return"string"==typeof e?e.split(" "):e}function s(e){var t=v[e[g]];return t||(t={},m++,e[g]=m,v[m]=t),t}function o(e,i,n){if(i||(i=t),h)return i.createElement(e);n||(n=s(i));var o;return o=n.cache[e]?n.cache[e].cloneNode():p.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e),!o.canHaveChildren||f.test(e)||o.tagUrn?o:n.frag.appendChild(o)}function r(e,i){if(e||(e=t),h)return e.createDocumentFragment();i=i||s(e);for(var o=i.frag.cloneNode(),r=0,a=n(),l=a.length;l>r;r++)o.createElement(a[r]);return o}function a(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(i){return y.shivMethods?o(i,e,t):t.createElem(i)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(y,t.frag)}function l(e){e||(e=t);var n=s(e);return y.shivCSS&&!c&&!n.hasCSS&&(n.hasCSS=!!i(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),h||a(e,n),e}var c,h,u="3.7.0",d=e.html5||{},f=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",m=0,v={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",c="hidden"in e,h=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(i){c=!0,h=!0}}();var y={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:u,shivCSS:d.shivCSS!==!1,supportsUnknownElements:h,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:l,createElement:o,createDocumentFragment:r};e.html5=y,l(t)}(this,t),c._version=l,c._prefixes=g,c.mq=w,c.testStyles=b,u.className=u.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(h?" js "+v.join(" "):""),c}(this,this.document),function(e,t,i){function n(e){return"[object Function]"==m.call(e)}function s(e){return"string"==typeof e}function o(){}function r(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function a(){var e=v.shift();y=1,e?e.t?p(function(){("c"==e.t?d.injectCss:d.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),a()):y=0}function l(e,i,n,s,o,l,c){function h(t){if(!f&&r(u.readyState)&&(b.r=f=1,!y&&a(),u.onload=u.onreadystatechange=null,t)){"img"!=e&&p(function(){x.removeChild(u)},50);for(var n in k[i])k[i].hasOwnProperty(n)&&k[i][n].onload()}}var c=c||d.errorTimeout,u=t.createElement(e),f=0,m=0,b={t:n,s:i,e:o,a:l,x:c};1===k[i]&&(m=1,k[i]=[]),"object"==e?u.data=i:(u.src=i,u.type=e),u.width=u.height="0",u.onerror=u.onload=u.onreadystatechange=function(){h.call(this,m)},v.splice(s,0,b),"img"!=e&&(m||2===k[i]?(x.insertBefore(u,w?null:g),p(h,c)):k[i].push(u))}function c(e,t,i,n,o){return y=0,t=t||"j",s(e)?l("c"==t?_:C,e,t,this.i++,i,n,o):(v.splice(this.i++,0,e),1==v.length&&a()),this}function h(){var e=d;return e.loader={load:c,i:0},e}var u,d,f=t.documentElement,p=e.setTimeout,g=t.getElementsByTagName("script")[0],m={}.toString,v=[],y=0,b="MozAppearance"in f.style,w=b&&!!t.createRange().compareNode,x=w?f:g.parentNode,f=e.opera&&"[object Opera]"==m.call(e.opera),f=!!t.attachEvent&&!f,C=b?"object":f?"script":"img",_=f?"script":C,S=Array.isArray||function(e){return"[object Array]"==m.call(e)},T=[],k={},D={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};d=function(e){function t(e){var t,i,n,e=e.split("!"),s=T.length,o=e.pop(),r=e.length,o={url:o,origUrl:o,prefixes:e};for(i=0;r>i;i++)n=e[i].split("="),(t=D[n.shift()])&&(o=t(o,n));for(i=0;s>i;i++)o=T[i](o);return o}function r(e,s,o,r,a){var l=t(e),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(s&&(s=n(s)?s:s[e]||s[r]||s[e.split("/").pop().split("?")[0]]),l.instead?l.instead(e,s,o,r,a):(k[l.url]?l.noexec=!0:k[l.url]=1,o.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":i,l.noexec,l.attrs,l.timeout),(n(s)||n(c))&&o.load(function(){h(),s&&s(l.origUrl,a,r),c&&c(l.origUrl,a,r),k[l.url]=2})))}function a(e,t){function i(e,i){if(e){if(s(e))i||(u=function(){var e=[].slice.call(arguments);d.apply(this,e),f()}),r(e,u,t,0,c);else if(Object(e)===e)for(l in a=function(){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i}(),e)e.hasOwnProperty(l)&&(!i&&!--a&&(n(u)?u=function(){var e=[].slice.call(arguments);d.apply(this,e),f()}:u[l]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),f()}}(d[l])),r(e[l],u,t,l,c))}else!i&&f()}var a,l,c=!!e.test,h=e.load||e.both,u=e.callback||o,d=u,f=e.complete||o;i(c?e.yep:e.nope,!!h),h&&i(h)}var l,c,u=this.yepnope.loader;if(s(e))r(e,0,u,0);else if(S(e))for(l=0;l<e.length;l++)c=e[l],s(c)?r(c,0,u,0):S(c)?d(c):Object(c)===c&&a(c,u);else Object(e)===e&&a(e,u)},d.addPrefix=function(e,t){D[e]=t},d.addFilter=function(e){T.push(e)},d.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",u=function(){t.removeEventListener("DOMContentLoaded",u,0),t.readyState="complete"},0)),e.yepnope=h(),e.yepnope.executeStack=a,e.yepnope.injectJs=function(e,i,n,s,l,c){var h,u,f=t.createElement("script"),s=s||d.errorTimeout;f.src=e;for(u in n)f.setAttribute(u,n[u]);i=c?a:i||o,f.onreadystatechange=f.onload=function(){!h&&r(f.readyState)&&(h=1,i(),f.onload=f.onreadystatechange=null)},p(function(){h||(h=1,i(1))},s),l?f.onload():g.parentNode.insertBefore(f,g)},e.yepnope.injectCss=function(e,i,n,s,r,l){var c,s=t.createElement("link"),i=l?a:i||o;s.href=e,s.rel="stylesheet",s.type="text/css";for(c in n)s.setAttribute(c,n[c]);r||(g.parentNode.insertBefore(s,g),p(i,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},/*! Respond.js v1.4.2: min/max-width media query polyfill
 * Copyright 2013 Scott Jehl
 * Licensed under MIT
 * http://j.mp/respondjs */
!function(e){"use strict";e.matchMedia=e.matchMedia||function(e){var t,i=e.documentElement,n=i.firstElementChild||i.firstChild,s=e.createElement("body"),o=e.createElement("div");return o.id="mq-test-1",o.style.cssText="position:absolute;top:-100em",s.style.background="none",s.appendChild(o),function(e){return o.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(s,n),t=42===o.offsetWidth,i.removeChild(s),{matches:t,media:e}}}(e.document)}(this),function(e){"use strict";function t(){x(!0)}var i={};e.respond=i,i.update=function(){};var n=[],s=function(){var t=!1;try{t=new e.XMLHttpRequest}catch(i){t=new e.ActiveXObject("Microsoft.XMLHTTP")}return function(){return t}}(),o=function(e,t){var i=s();i&&(i.open("GET",e,!0),i.onreadystatechange=function(){4!==i.readyState||200!==i.status&&304!==i.status||t(i.responseText)},4!==i.readyState&&i.send(null))},r=function(e){return e.replace(i.regex.minmaxwh,"").match(i.regex.other)};if(i.ajax=o,i.queue=n,i.unsupportedmq=r,i.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,comments:/\/\*[^*]*\*+([^/][^*]*\*+)*\//gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,maxw:/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,minmaxwh:/\(\s*m(in|ax)\-(height|width)\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/gi,other:/\([^\)]*\)/g},i.mediaQueriesSupported=e.matchMedia&&null!==e.matchMedia("only all")&&e.matchMedia("only all").matches,!i.mediaQueriesSupported){var a,l,c,h=e.document,u=h.documentElement,d=[],f=[],p=[],g={},m=30,v=h.getElementsByTagName("head")[0]||u,y=h.getElementsByTagName("base")[0],b=v.getElementsByTagName("link"),w=function(){var e,t=h.createElement("div"),i=h.body,n=u.style.fontSize,s=i&&i.style.fontSize,o=!1;return t.style.cssText="position:absolute;font-size:1em;width:1em",i||(i=o=h.createElement("body"),i.style.background="none"),u.style.fontSize="100%",i.style.fontSize="100%",i.appendChild(t),o&&u.insertBefore(i,u.firstChild),e=t.offsetWidth,o?u.removeChild(i):i.removeChild(t),u.style.fontSize=n,s&&(i.style.fontSize=s),e=c=parseFloat(e)},x=function(t){var i="clientWidth",n=u[i],s="CSS1Compat"===h.compatMode&&n||h.body[i]||n,o={},r=b[b.length-1],g=(new Date).getTime();if(t&&a&&m>g-a)return e.clearTimeout(l),void(l=e.setTimeout(x,m));a=g;for(var y in d)if(d.hasOwnProperty(y)){var C=d[y],_=C.minw,S=C.maxw,T=null===_,k=null===S,D="em";_&&(_=parseFloat(_)*(_.indexOf(D)>-1?c||w():1)),S&&(S=parseFloat(S)*(S.indexOf(D)>-1?c||w():1)),C.hasquery&&(T&&k||!(T||s>=_)||!(k||S>=s))||(o[C.media]||(o[C.media]=[]),o[C.media].push(f[C.rules]))}for(var E in p)p.hasOwnProperty(E)&&p[E]&&p[E].parentNode===v&&v.removeChild(p[E]);p.length=0;for(var N in o)if(o.hasOwnProperty(N)){var M=h.createElement("style"),R=o[N].join("\n");M.type="text/css",M.media=N,v.insertBefore(M,r.nextSibling),M.styleSheet?M.styleSheet.cssText=R:M.appendChild(h.createTextNode(R)),p.push(M)}},C=function(e,t,n){var s=e.replace(i.regex.comments,"").replace(i.regex.keyframes,"").match(i.regex.media),o=s&&s.length||0;t=t.substring(0,t.lastIndexOf("/"));var a=function(e){return e.replace(i.regex.urls,"$1"+t+"$2$3")},l=!o&&n;t.length&&(t+="/"),l&&(o=1);for(var c=0;o>c;c++){var h,u,p,g;l?(h=n,f.push(a(e))):(h=s[c].match(i.regex.findStyles)&&RegExp.$1,f.push(RegExp.$2&&a(RegExp.$2))),p=h.split(","),g=p.length;for(var m=0;g>m;m++)u=p[m],r(u)||d.push({media:u.split("(")[0].match(i.regex.only)&&RegExp.$2||"all",rules:f.length-1,hasquery:u.indexOf("(")>-1,minw:u.match(i.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:u.match(i.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}x()},_=function(){if(n.length){var t=n.shift();o(t.href,function(i){C(i,t.href,t.media),g[t.href]=!0,e.setTimeout(function(){_()},0)})}},S=function(){for(var t=0;t<b.length;t++){var i=b[t],s=i.href,o=i.media,r=i.rel&&"stylesheet"===i.rel.toLowerCase();s&&r&&!g[s]&&(i.styleSheet&&i.styleSheet.rawCssText?(C(i.styleSheet.rawCssText,s,o),g[s]=!0):(!/^([a-zA-Z:]*\/\/)/.test(s)&&!y||s.replace(RegExp.$1,"").split("/")[0]===e.location.host)&&("//"===s.substring(0,2)&&(s=e.location.protocol+s),n.push({href:s,media:o})))}_()};S(),i.update=S,i.getEmValue=w,e.addEventListener?e.addEventListener("resize",t,!1):e.attachEvent&&e.attachEvent("onresize",t)}}(this),/*! jQuery v1.11.2 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=e.length,i=st.type(e);return"function"===i||st.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}function n(e,t,i){if(st.isFunction(t))return st.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return st.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(dt.test(t))return st.filter(t,e,i);t=st.filter(t,e)}return st.grep(e,function(e){return st.inArray(e,t)>=0!==i})}function s(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=wt[e]={};return st.each(e.match(bt)||[],function(e,i){t[i]=!0}),t}function r(){pt.addEventListener?(pt.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1)):(pt.detachEvent("onreadystatechange",a),e.detachEvent("onload",a))}function a(){(pt.addEventListener||"load"===event.type||"complete"===pt.readyState)&&(r(),st.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){var n="data-"+t.replace(Tt,"-$1").toLowerCase();if(i=e.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:St.test(i)?st.parseJSON(i):i}catch(s){}st.data(e,t,i)}else i=void 0}return i}function c(e){var t;for(t in e)if(("data"!==t||!st.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function h(e,t,i,n){if(st.acceptData(e)){var s,o,r=st.expando,a=e.nodeType,l=a?st.cache:e,c=a?e[r]:e[r]&&r;if(c&&l[c]&&(n||l[c].data)||void 0!==i||"string"!=typeof t)return c||(c=a?e[r]=X.pop()||st.guid++:r),l[c]||(l[c]=a?{}:{toJSON:st.noop}),("object"==typeof t||"function"==typeof t)&&(n?l[c]=st.extend(l[c],t):l[c].data=st.extend(l[c].data,t)),o=l[c],n||(o.data||(o.data={}),o=o.data),void 0!==i&&(o[st.camelCase(t)]=i),"string"==typeof t?(s=o[t],null==s&&(s=o[st.camelCase(t)])):s=o,s}}function u(e,t,i){if(st.acceptData(e)){var n,s,o=e.nodeType,r=o?st.cache:e,a=o?e[st.expando]:st.expando;if(r[a]){if(t&&(n=i?r[a]:r[a].data)){st.isArray(t)?t=t.concat(st.map(t,st.camelCase)):t in n?t=[t]:(t=st.camelCase(t),t=t in n?[t]:t.split(" ")),s=t.length;for(;s--;)delete n[t[s]];if(i?!c(n):!st.isEmptyObject(n))return}(i||(delete r[a].data,c(r[a])))&&(o?st.cleanData([e],!0):it.deleteExpando||r!=r.window?delete r[a]:r[a]=null)}}}function d(){return!0}function f(){return!1}function p(){try{return pt.activeElement}catch(e){}}function g(e){var t=Lt.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function m(e,t){var i,n,s=0,o=typeof e.getElementsByTagName!==_t?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==_t?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],i=e.childNodes||e;null!=(n=i[s]);s++)!t||st.nodeName(n,t)?o.push(n):st.merge(o,m(n,t));return void 0===t||t&&st.nodeName(e,t)?st.merge([e],o):o}function v(e){Mt.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return st.nodeName(e,"table")&&st.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==st.find.attr(e,"type"))+"/"+e.type,e}function w(e){var t=Yt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function x(e,t){for(var i,n=0;null!=(i=e[n]);n++)st._data(i,"globalEval",!t||st._data(t[n],"globalEval"))}function C(e,t){if(1===t.nodeType&&st.hasData(e)){var i,n,s,o=st._data(e),r=st._data(t,o),a=o.events;if(a){delete r.handle,r.events={};for(i in a)for(n=0,s=a[i].length;s>n;n++)st.event.add(t,i,a[i][n])}r.data&&(r.data=st.extend({},r.data))}}function _(e,t){var i,n,s;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!it.noCloneEvent&&t[st.expando]){s=st._data(t);for(n in s.events)st.removeEvent(t,n,s.handle);t.removeAttribute(st.expando)}"script"===i&&t.text!==e.text?(b(t).text=e.text,w(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),it.html5Clone&&e.innerHTML&&!st.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Mt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function S(t,i){var n,s=st(i.createElement(t)).appendTo(i.body),o=e.getDefaultComputedStyle&&(n=e.getDefaultComputedStyle(s[0]))?n.display:st.css(s[0],"display");return s.detach(),o}function T(e){var t=pt,i=Zt[e];return i||(i=S(e,t),"none"!==i&&i||(Kt=(Kt||st("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Kt[0].contentWindow||Kt[0].contentDocument).document,t.write(),t.close(),i=S(e,t),Kt.detach()),Zt[e]=i),i}function k(e,t){return{get:function(){var i=e();return null!=i?i?void delete this.get:(this.get=t).apply(this,arguments):void 0}}}function D(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,s=di.length;s--;)if(t=di[s]+i,t in e)return t;return n}function E(e,t){for(var i,n,s,o=[],r=0,a=e.length;a>r;r++)n=e[r],n.style&&(o[r]=st._data(n,"olddisplay"),i=n.style.display,t?(o[r]||"none"!==i||(n.style.display=""),""===n.style.display&&Et(n)&&(o[r]=st._data(n,"olddisplay",T(n.nodeName)))):(s=Et(n),(i&&"none"!==i||!s)&&st._data(n,"olddisplay",s?i:st.css(n,"display"))));for(r=0;a>r;r++)n=e[r],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[r]||"":"none"));return e}function N(e,t,i){var n=li.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function M(e,t,i,n,s){for(var o=i===(n?"border":"content")?4:"width"===t?1:0,r=0;4>o;o+=2)"margin"===i&&(r+=st.css(e,i+Dt[o],!0,s)),n?("content"===i&&(r-=st.css(e,"padding"+Dt[o],!0,s)),"margin"!==i&&(r-=st.css(e,"border"+Dt[o]+"Width",!0,s))):(r+=st.css(e,"padding"+Dt[o],!0,s),"padding"!==i&&(r+=st.css(e,"border"+Dt[o]+"Width",!0,s)));return r}function R(e,t,i){var n=!0,s="width"===t?e.offsetWidth:e.offsetHeight,o=ei(e),r=it.boxSizing&&"border-box"===st.css(e,"boxSizing",!1,o);if(0>=s||null==s){if(s=ti(e,t,o),(0>s||null==s)&&(s=e.style[t]),ni.test(s))return s;n=r&&(it.boxSizingReliable()||s===e.style[t]),s=parseFloat(s)||0}return s+M(e,t,i||(r?"border":"content"),n,o)+"px"}function A(e,t,i,n,s){return new A.prototype.init(e,t,i,n,s)}function F(){return setTimeout(function(){fi=void 0}),fi=st.now()}function I(e,t){var i,n={height:e},s=0;for(t=t?1:0;4>s;s+=2-t)i=Dt[s],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function P(e,t,i){for(var n,s=(bi[t]||[]).concat(bi["*"]),o=0,r=s.length;r>o;o++)if(n=s[o].call(i,t,e))return n}function L(e,t,i){var n,s,o,r,a,l,c,h,u=this,d={},f=e.style,p=e.nodeType&&Et(e),g=st._data(e,"fxshow");i.queue||(a=st._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,st.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],c=st.css(e,"display"),h="none"===c?st._data(e,"olddisplay")||T(e.nodeName):c,"inline"===h&&"none"===st.css(e,"float")&&(it.inlineBlockNeedsLayout&&"inline"!==T(e.nodeName)?f.zoom=1:f.display="inline-block")),i.overflow&&(f.overflow="hidden",it.shrinkWrapBlocks()||u.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}));for(n in t)if(s=t[n],gi.exec(s)){if(delete t[n],o=o||"toggle"===s,s===(p?"hide":"show")){if("show"!==s||!g||void 0===g[n])continue;p=!0}d[n]=g&&g[n]||st.style(e,n)}else c=void 0;if(st.isEmptyObject(d))"inline"===("none"===c?T(e.nodeName):c)&&(f.display=c);else{g?"hidden"in g&&(p=g.hidden):g=st._data(e,"fxshow",{}),o&&(g.hidden=!p),p?st(e).show():u.done(function(){st(e).hide()}),u.done(function(){var t;st._removeData(e,"fxshow");for(t in d)st.style(e,t,d[t])});for(n in d)r=P(p?g[n]:0,n,u),n in g||(g[n]=r.start,p&&(r.end=r.start,r.start="width"===n||"height"===n?1:0))}}function z(e,t){var i,n,s,o,r;for(i in e)if(n=st.camelCase(i),s=t[n],o=e[i],st.isArray(o)&&(s=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),r=st.cssHooks[n],r&&"expand"in r){o=r.expand(o),delete e[n];for(i in o)i in e||(e[i]=o[i],t[i]=s)}else t[n]=s}function O(e,t,i){var n,s,o=0,r=yi.length,a=st.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=fi||F(),i=Math.max(0,c.startTime+c.duration-t),n=i/c.duration||0,o=1-n,r=0,l=c.tweens.length;l>r;r++)c.tweens[r].run(o);return a.notifyWith(e,[c,o,i]),1>o&&l?i:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:st.extend({},t),opts:st.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:fi||F(),duration:i.duration,tweens:[],createTween:function(t,i){var n=st.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(s)return this;for(s=!0;n>i;i++)c.tweens[i].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),h=c.props;for(z(h,c.opts.specialEasing);r>o;o++)if(n=yi[o].call(c,e,h,c.opts))return n;return st.map(h,P,c),st.isFunction(c.opts.start)&&c.opts.start.call(e,c),st.fx.timer(st.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,s=0,o=t.toLowerCase().match(bt)||[];if(st.isFunction(i))for(;n=o[s++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function j(e,t,i,n){function s(a){var l;return o[a]=!0,st.each(e[a]||[],function(e,a){var c=a(t,i,n);return"string"!=typeof c||r||o[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)}),l}var o={},r=e===qi;return s(t.dataTypes[0])||!o["*"]&&s("*")}function W(e,t){var i,n,s=st.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((s[n]?e:i||(i={}))[n]=t[n]);return i&&st.extend(!0,e,i),e}function B(e,t,i){for(var n,s,o,r,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("Content-Type"));if(s)for(r in a)if(a[r]&&a[r].test(s)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}n||(n=r)}o=o||n}return o?(o!==l[0]&&l.unshift(o),i[o]):void 0}function q(e,t,i,n){var s,o,r,a,l,c={},h=e.dataTypes.slice();if(h[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(o=h.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=h.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(r=c[l+" "+o]||c["* "+o],!r)for(s in c)if(a=s.split(" "),a[1]===o&&(r=c[l+" "+a[0]]||c["* "+a[0]])){r===!0?r=c[s]:c[s]!==!0&&(o=a[0],h.unshift(a[1]));break}if(r!==!0)if(r&&e["throws"])t=r(t);else try{t=r(t)}catch(u){return{state:"parsererror",error:r?u:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function $(e,t,i,n){var s;if(st.isArray(t))st.each(t,function(t,s){i||Yi.test(e)?n(e,s):$(e+"["+("object"==typeof s?t:"")+"]",s,i,n)});else if(i||"object"!==st.type(t))n(e,t);else for(s in t)$(e+"["+s+"]",t[s],i,n)}function U(){try{return new e.XMLHttpRequest}catch(t){}}function V(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Y(e){return st.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var X=[],Q=X.slice,J=X.concat,G=X.push,K=X.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,it={},nt="1.11.2",st=function(e,t){return new st.fn.init(e,t)},ot=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rt=/^-ms-/,at=/-([\da-z])/gi,lt=function(e,t){return t.toUpperCase()};st.fn=st.prototype={jquery:nt,constructor:st,selector:"",length:0,toArray:function(){return Q.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Q.call(this)},pushStack:function(e){var t=st.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return st.each(this,e,t)},map:function(e){return this.pushStack(st.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(Q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:X.sort,splice:X.splice},st.extend=st.fn.extend=function(){var e,t,i,n,s,o,r=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[a]||{},a++),"object"==typeof r||st.isFunction(r)||(r={}),a===l&&(r=this,a--);l>a;a++)if(null!=(s=arguments[a]))for(n in s)e=r[n],i=s[n],r!==i&&(c&&i&&(st.isPlainObject(i)||(t=st.isArray(i)))?(t?(t=!1,o=e&&st.isArray(e)?e:[]):o=e&&st.isPlainObject(e)?e:{},r[n]=st.extend(c,o,i)):void 0!==i&&(r[n]=i));return r},st.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===st.type(e)},isArray:Array.isArray||function(e){return"array"===st.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!st.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==st.type(e)||e.nodeType||st.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(it.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&st.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(rt,"ms-").replace(at,lt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var s,o=0,r=e.length,a=i(e);if(n){if(a)for(;r>o&&(s=t.apply(e[o],n),s!==!1);o++);else for(o in e)if(s=t.apply(e[o],n),s===!1)break}else if(a)for(;r>o&&(s=t.call(e[o],o,e[o]),s!==!1);o++);else for(o in e)if(s=t.call(e[o],o,e[o]),s===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ot,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?st.merge(n,"string"==typeof e?[e]:e):G.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(K)return K.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,s=e.length;i>n;)e[s++]=t[n++];if(i!==i)for(;void 0!==t[n];)e[s++]=t[n++];return e.length=s,e},grep:function(e,t,i){for(var n,s=[],o=0,r=e.length,a=!i;r>o;o++)n=!t(e[o],o),n!==a&&s.push(e[o]);return s},map:function(e,t,n){var s,o=0,r=e.length,a=i(e),l=[];if(a)for(;r>o;o++)s=t(e[o],o,n),null!=s&&l.push(s);else for(o in e)s=t(e[o],o,n),null!=s&&l.push(s);return J.apply([],l)},guid:1,proxy:function(e,t){var i,n,s;return"string"==typeof t&&(s=e[t],t=e,e=s),st.isFunction(e)?(i=Q.call(arguments,2),n=function(){return e.apply(t||this,i.concat(Q.call(arguments)))},n.guid=e.guid=e.guid||st.guid++,n):void 0},now:function(){return+new Date},support:it}),st.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ct=function(e){function t(e,t,i,n){var s,o,r,a,l,c,u,f,p,g;if((t?t.ownerDocument||t:j)!==A&&R(t),t=t||A,i=i||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return i;if(!n&&I){if(11!==a&&(s=yt.exec(e)))if(r=s[1]){if(9===a){if(o=t.getElementById(r),!o||!o.parentNode)return i;if(o.id===r)return i.push(o),i}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(r))&&O(t,o)&&o.id===r)return i.push(o),i}else{if(s[2])return K.apply(i,t.getElementsByTagName(e)),i;if((r=s[3])&&x.getElementsByClassName)return K.apply(i,t.getElementsByClassName(r)),i}if(x.qsa&&(!P||!P.test(e))){if(f=u=H,p=t,g=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=T(e),(u=t.getAttribute("id"))?f=u.replace(wt,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+d(c[l]);p=bt.test(e)&&h(t.parentNode)||t,g=c.join(",")}if(g)try{return K.apply(i,p.querySelectorAll(g)),i}catch(m){}finally{u||t.removeAttribute("id")}}}return D(e.replace(lt,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>C.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[H]=!0,e}function s(e){var t=A.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var i=e.split("|"),n=e.length;n--;)C.attrHandle[i[n]]=t}function r(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function a(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function c(e){return n(function(t){return t=+t,n(function(i,n){for(var s,o=e([],i.length,t),r=o.length;r--;)i[s=o[r]]&&(i[s]=!(n[s]=i[s]))})})}function h(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function u(){}function d(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function f(e,t,i){var n=t.dir,s=i&&"parentNode"===n,o=B++;return t.first?function(t,i,o){for(;t=t[n];)if(1===t.nodeType||s)return e(t,i,o)}:function(t,i,r){var a,l,c=[W,o];if(r){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,i,r))return!0}else for(;t=t[n];)if(1===t.nodeType||s){if(l=t[H]||(t[H]={}),(a=l[n])&&a[0]===W&&a[1]===o)return c[2]=a[2];if(l[n]=c,c[2]=e(t,i,r))return!0}}}function p(e){return e.length>1?function(t,i,n){for(var s=e.length;s--;)if(!e[s](t,i,n))return!1;return!0}:e[0]}function g(e,i,n){for(var s=0,o=i.length;o>s;s++)t(e,i[s],n);return n}function m(e,t,i,n,s){for(var o,r=[],a=0,l=e.length,c=null!=t;l>a;a++)(o=e[a])&&(!i||i(o,n,s))&&(r.push(o),c&&t.push(a));return r}function v(e,t,i,s,o,r){return s&&!s[H]&&(s=v(s)),o&&!o[H]&&(o=v(o,r)),n(function(n,r,a,l){var c,h,u,d=[],f=[],p=r.length,v=n||g(t||"*",a.nodeType?[a]:a,[]),y=!e||!n&&t?v:m(v,d,e,a,l),b=i?o||(n?e:p||s)?[]:r:y;if(i&&i(y,b,a,l),s)for(c=m(b,f),s(c,[],a,l),h=c.length;h--;)(u=c[h])&&(b[f[h]]=!(y[f[h]]=u));if(n){if(o||e){if(o){for(c=[],h=b.length;h--;)(u=b[h])&&c.push(y[h]=u);o(null,b=[],c,l)}for(h=b.length;h--;)(u=b[h])&&(c=o?et(n,u):d[h])>-1&&(n[c]=!(r[c]=u))}}else b=m(b===r?b.splice(p,b.length):b),o?o(null,r,b,l):K.apply(r,b)})}function y(e){for(var t,i,n,s=e.length,o=C.relative[e[0].type],r=o||C.relative[" "],a=o?1:0,l=f(function(e){return e===t},r,!0),c=f(function(e){return et(t,e)>-1},r,!0),h=[function(e,i,n){var s=!o&&(n||i!==E)||((t=i).nodeType?l(e,i,n):c(e,i,n));return t=null,s}];s>a;a++)if(i=C.relative[e[a].type])h=[f(p(h),i)];else{if(i=C.filter[e[a].type].apply(null,e[a].matches),i[H]){for(n=++a;s>n&&!C.relative[e[n].type];n++);return v(a>1&&p(h),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(lt,"$1"),i,n>a&&y(e.slice(a,n)),s>n&&y(e=e.slice(n)),s>n&&d(e))}h.push(i)}return p(h)}function b(e,i){var s=i.length>0,o=e.length>0,r=function(n,r,a,l,c){var h,u,d,f=0,p="0",g=n&&[],v=[],y=E,b=n||o&&C.find.TAG("*",c),w=W+=null==y?1:Math.random()||.1,x=b.length;for(c&&(E=r!==A&&r);p!==x&&null!=(h=b[p]);p++){if(o&&h){for(u=0;d=e[u++];)if(d(h,r,a)){l.push(h);break}c&&(W=w)}s&&((h=!d&&h)&&f--,n&&g.push(h))}if(f+=p,s&&p!==f){for(u=0;d=i[u++];)d(g,v,r,a);if(n){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=J.call(l));v=m(v)}K.apply(l,v),c&&!n&&v.length>0&&f+i.length>1&&t.uniqueSort(l)}return c&&(W=w,E=y),g};return s?n(r):r}var w,x,C,_,S,T,k,D,E,N,M,R,A,F,I,P,L,z,O,H="sizzle"+1*new Date,j=e.document,W=0,B=0,q=i(),$=i(),U=i(),V=function(e,t){return e===t&&(M=!0),0},Y=1<<31,X={}.hasOwnProperty,Q=[],J=Q.pop,G=Q.push,K=Q.push,Z=Q.slice,et=function(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st=nt.replace("w","w#"),ot="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+st+"))|)"+it+"*\\]",rt=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(it+"+","g"),lt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ct=new RegExp("^"+it+"*,"+it+"*"),ht=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ut=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),dt=new RegExp(rt),ft=new RegExp("^"+st+"$"),pt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,wt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),Ct=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},_t=function(){R()};try{K.apply(Q=Z.call(j.childNodes),j.childNodes),Q[j.childNodes.length].nodeType}catch(St){K={apply:Q.length?function(e,t){G.apply(e,Z.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}x=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},R=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:j;return n!==A&&9===n.nodeType&&n.documentElement?(A=n,F=n.documentElement,i=n.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",_t,!1):i.attachEvent&&i.attachEvent("onunload",_t)),I=!S(n),x.attributes=s(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=s(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=vt.test(n.getElementsByClassName),x.getById=s(function(e){return F.appendChild(e).id=H,!n.getElementsByName||!n.getElementsByName(H).length}),x.getById?(C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&I){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},C.filter.ID=function(e){var t=e.replace(xt,Ct);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var t=e.replace(xt,Ct);return function(e){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),C.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],s=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[s++];)1===i.nodeType&&n.push(i);return n}return o},C.find.CLASS=x.getElementsByClassName&&function(e,t){return I?t.getElementsByClassName(e):void 0},L=[],P=[],(x.qsa=vt.test(n.querySelectorAll))&&(s(function(e){F.appendChild(e).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+it+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+H+"-]").length||P.push("~="),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+H+"+*").length||P.push(".#.+[+~]")}),s(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+it+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(x.matchesSelector=vt.test(z=F.matches||F.webkitMatchesSelector||F.mozMatchesSelector||F.oMatchesSelector||F.msMatchesSelector))&&s(function(e){x.disconnectedMatch=z.call(e,"div"),z.call(e,"[s!='']:x"),L.push("!=",rt)}),P=P.length&&new RegExp(P.join("|")),L=L.length&&new RegExp(L.join("|")),t=vt.test(F.compareDocumentPosition),O=t||vt.test(F.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return M=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!x.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===j&&O(j,e)?-1:t===n||t.ownerDocument===j&&O(j,t)?1:N?et(N,e)-et(N,t):0:4&i?-1:1)}:function(e,t){if(e===t)return M=!0,0;var i,s=0,o=e.parentNode,a=t.parentNode,l=[e],c=[t];if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:N?et(N,e)-et(N,t):0;if(o===a)return r(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[s]===c[s];)s++;return s?r(l[s],c[s]):l[s]===j?-1:c[s]===j?1:0},n):A},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==A&&R(e),i=i.replace(ut,"='$1']"),!(!x.matchesSelector||!I||L&&L.test(i)||P&&P.test(i)))try{var n=z.call(e,i);if(n||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(s){}return t(i,A,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==A&&R(e),O(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==A&&R(e);var i=C.attrHandle[t.toLowerCase()],n=i&&X.call(C.attrHandle,t.toLowerCase())?i(e,t,!I):void 0;return void 0!==n?n:x.attributes||!I?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,s=0;if(M=!x.detectDuplicates,N=!x.sortStable&&e.slice(0),e.sort(V),M){for(;t=e[s++];)t===e[s]&&(n=i.push(s));for(;n--;)e.splice(i[n],1)}return N=null,e},_=t.getText=function(e){var t,i="",n=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=_(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[n++];)i+=_(t);return i},C=t.selectors={cacheLength:50,createPseudo:n,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,Ct),e[3]=(e[3]||e[4]||e[5]||"").replace(xt,Ct),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return pt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&dt.test(i)&&(t=T(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xt,Ct).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(s){var o=t.attr(s,e);return null==o?"!="===i:i?(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(at," ")+" ").indexOf(n)>-1:"|="===i?o===n||o.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n,s){var o="nth"!==e.slice(0,3),r="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===s?function(e){return!!e.parentNode}:function(t,i,l){var c,h,u,d,f,p,g=o!==r?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(m){if(o){for(;g;){for(u=t;u=u[g];)if(a?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[r?m.firstChild:m.lastChild],r&&y){for(h=m[H]||(m[H]={}),c=h[e]||[],f=c[0]===W&&c[1],d=c[0]===W&&c[2],u=f&&m.childNodes[f];u=++f&&u&&u[g]||(d=f=0)||p.pop();)if(1===u.nodeType&&++d&&u===t){h[e]=[W,f,d];break}}else if(y&&(c=(t[H]||(t[H]={}))[e])&&c[0]===W)d=c[1];else for(;(u=++f&&u&&u[g]||(d=f=0)||p.pop())&&((a?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++d||(y&&((u[H]||(u[H]={}))[e]=[W,d]),u!==t)););return d-=s,d===n||d%n===0&&d/n>=0}}},PSEUDO:function(e,i){var s,o=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[H]?o(i):o.length>1?(s=[e,e,"",i],C.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,s=o(e,i),r=s.length;r--;)n=et(e,s[r]),e[n]=!(t[n]=s[r])}):function(e){return o(e,0,s)}):o}},pseudos:{not:n(function(e){var t=[],i=[],s=k(e.replace(lt,"$1"));return s[H]?n(function(e,t,i,n){for(var o,r=s(e,null,n,[]),a=e.length;a--;)(o=r[a])&&(e[a]=!(t[a]=o))}):function(e,n,o){return t[0]=e,s(t,null,o,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(xt,Ct),function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:n(function(e){return ft.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xt,Ct).toLowerCase(),function(t){var i;do if(i=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===F},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,i){return[0>i?i+t:i]}),even:c(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:c(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:c(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:c(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=l(w);return u.prototype=C.filters=C.pseudos,C.setFilters=new u,T=t.tokenize=function(e,i){var n,s,o,r,a,l,c,h=$[e+" "];if(h)return i?0:h.slice(0);for(a=e,l=[],c=C.preFilter;a;){(!n||(s=ct.exec(a)))&&(s&&(a=a.slice(s[0].length)||a),l.push(o=[])),n=!1,(s=ht.exec(a))&&(n=s.shift(),o.push({value:n,type:s[0].replace(lt," ")}),a=a.slice(n.length));for(r in C.filter)!(s=pt[r].exec(a))||c[r]&&!(s=c[r](s))||(n=s.shift(),o.push({value:n,type:r,matches:s}),a=a.slice(n.length));if(!n)break}return i?a.length:a?t.error(e):$(e,l).slice(0)},k=t.compile=function(e,t){var i,n=[],s=[],o=U[e+" "];if(!o){for(t||(t=T(e)),i=t.length;i--;)o=y(t[i]),o[H]?n.push(o):s.push(o);o=U(e,b(s,n)),o.selector=e}return o},D=t.select=function(e,t,i,n){var s,o,r,a,l,c="function"==typeof e&&e,u=!n&&T(e=c.selector||e);if(i=i||[],1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(r=o[0]).type&&x.getById&&9===t.nodeType&&I&&C.relative[o[1].type]){if(t=(C.find.ID(r.matches[0].replace(xt,Ct),t)||[])[0],!t)return i;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(s=pt.needsContext.test(e)?0:o.length;s--&&(r=o[s],!C.relative[a=r.type]);)if((l=C.find[a])&&(n=l(r.matches[0].replace(xt,Ct),bt.test(o[0].type)&&h(t.parentNode)||t))){if(o.splice(s,1),e=n.length&&d(o),!e)return K.apply(i,n),i;
break}}return(c||k(e,u))(n,t,!I,i,bt.test(e)&&h(t.parentNode)||t),i},x.sortStable=H.split("").sort(V).join("")===H,x.detectDuplicates=!!M,R(),x.sortDetached=s(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),s(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&s(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),s(function(e){return null==e.getAttribute("disabled")})||o(tt,function(e,t,i){var n;return i?void 0:e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);st.find=ct,st.expr=ct.selectors,st.expr[":"]=st.expr.pseudos,st.unique=ct.uniqueSort,st.text=ct.getText,st.isXMLDoc=ct.isXML,st.contains=ct.contains;var ht=st.expr.match.needsContext,ut=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,dt=/^.[^:#\[\.,]*$/;st.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?st.find.matchesSelector(n,e)?[n]:[]:st.find.matches(e,st.grep(t,function(e){return 1===e.nodeType}))},st.fn.extend({find:function(e){var t,i=[],n=this,s=n.length;if("string"!=typeof e)return this.pushStack(st(e).filter(function(){for(t=0;s>t;t++)if(st.contains(n[t],this))return!0}));for(t=0;s>t;t++)st.find(e,n[t],i);return i=this.pushStack(s>1?st.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&ht.test(e)?st(e):e||[],!1).length}});var ft,pt=e.document,gt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=st.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:gt.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||ft).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof st?t[0]:t,st.merge(this,st.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:pt,!0)),ut.test(i[1])&&st.isPlainObject(t))for(i in t)st.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if(n=pt.getElementById(i[2]),n&&n.parentNode){if(n.id!==i[2])return ft.find(e);this.length=1,this[0]=n}return this.context=pt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):st.isFunction(e)?"undefined"!=typeof ft.ready?ft.ready(e):e(st):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),st.makeArray(e,this))};mt.prototype=st.fn,ft=st(pt);var vt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};st.extend({dir:function(e,t,i){for(var n=[],s=e[t];s&&9!==s.nodeType&&(void 0===i||1!==s.nodeType||!st(s).is(i));)1===s.nodeType&&n.push(s),s=s[t];return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),st.fn.extend({has:function(e){var t,i=st(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(st.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,s=this.length,o=[],r=ht.test(e)||"string"!=typeof e?st(e,t||this.context):0;s>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(r?r.index(i)>-1:1===i.nodeType&&st.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?st.unique(o):o)},index:function(e){return e?"string"==typeof e?st.inArray(this[0],st(e)):st.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(st.unique(st.merge(this.get(),st(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),st.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return st.dir(e,"parentNode")},parentsUntil:function(e,t,i){return st.dir(e,"parentNode",i)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return st.dir(e,"nextSibling")},prevAll:function(e){return st.dir(e,"previousSibling")},nextUntil:function(e,t,i){return st.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return st.dir(e,"previousSibling",i)},siblings:function(e){return st.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return st.sibling(e.firstChild)},contents:function(e){return st.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:st.merge([],e.childNodes)}},function(e,t){st.fn[e]=function(i,n){var s=st.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=st.filter(n,s)),this.length>1&&(yt[e]||(s=st.unique(s)),vt.test(e)&&(s=s.reverse())),this.pushStack(s)}});var bt=/\S+/g,wt={};st.Callbacks=function(e){e="string"==typeof e?wt[e]||o(e):st.extend({},e);var t,i,n,s,r,a,l=[],c=!e.once&&[],h=function(o){for(i=e.memory&&o,n=!0,r=a||0,a=0,s=l.length,t=!0;l&&s>r;r++)if(l[r].apply(o[0],o[1])===!1&&e.stopOnFalse){i=!1;break}t=!1,l&&(c?c.length&&h(c.shift()):i?l=[]:u.disable())},u={add:function(){if(l){var n=l.length;!function o(t){st.each(t,function(t,i){var n=st.type(i);"function"===n?e.unique&&u.has(i)||l.push(i):i&&i.length&&"string"!==n&&o(i)})}(arguments),t?s=l.length:i&&(a=n,h(i))}return this},remove:function(){return l&&st.each(arguments,function(e,i){for(var n;(n=st.inArray(i,l,n))>-1;)l.splice(n,1),t&&(s>=n&&s--,r>=n&&r--)}),this},has:function(e){return e?st.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=c=i=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,i||u.disable(),this},locked:function(){return!c},fireWith:function(e,i){return!l||n&&!c||(i=i||[],i=[e,i.slice?i.slice():i],t?c.push(i):h(i)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},st.extend({Deferred:function(e){var t=[["resolve","done",st.Callbacks("once memory"),"resolved"],["reject","fail",st.Callbacks("once memory"),"rejected"],["notify","progress",st.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return st.Deferred(function(i){st.each(t,function(t,o){var r=st.isFunction(e[t])&&e[t];s[o[1]](function(){var e=r&&r.apply(this,arguments);e&&st.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===n?i.promise():this,r?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?st.extend(e,n):n}},s={};return n.pipe=n.then,st.each(t,function(e,o){var r=o[2],a=o[3];n[o[1]]=r.add,a&&r.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),s[o[0]]=function(){return s[o[0]+"With"](this===s?n:this,arguments),this},s[o[0]+"With"]=r.fireWith}),n.promise(s),e&&e.call(s,s),s},when:function(e){var t,i,n,s=0,o=Q.call(arguments),r=o.length,a=1!==r||e&&st.isFunction(e.promise)?r:0,l=1===a?e:st.Deferred(),c=function(e,i,n){return function(s){i[e]=this,n[e]=arguments.length>1?Q.call(arguments):s,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(r>1)for(t=new Array(r),i=new Array(r),n=new Array(r);r>s;s++)o[s]&&st.isFunction(o[s].promise)?o[s].promise().done(c(s,n,o)).fail(l.reject).progress(c(s,i,t)):--a;return a||l.resolveWith(n,o),l.promise()}});var xt;st.fn.ready=function(e){return st.ready.promise().done(e),this},st.extend({isReady:!1,readyWait:1,holdReady:function(e){e?st.readyWait++:st.ready(!0)},ready:function(e){if(e===!0?!--st.readyWait:!st.isReady){if(!pt.body)return setTimeout(st.ready);st.isReady=!0,e!==!0&&--st.readyWait>0||(xt.resolveWith(pt,[st]),st.fn.triggerHandler&&(st(pt).triggerHandler("ready"),st(pt).off("ready")))}}}),st.ready.promise=function(t){if(!xt)if(xt=st.Deferred(),"complete"===pt.readyState)setTimeout(st.ready);else if(pt.addEventListener)pt.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1);else{pt.attachEvent("onreadystatechange",a),e.attachEvent("onload",a);var i=!1;try{i=null==e.frameElement&&pt.documentElement}catch(n){}i&&i.doScroll&&!function s(){if(!st.isReady){try{i.doScroll("left")}catch(e){return setTimeout(s,50)}r(),st.ready()}}()}return xt.promise(t)};var Ct,_t="undefined";for(Ct in st(it))break;it.ownLast="0"!==Ct,it.inlineBlockNeedsLayout=!1,st(function(){var e,t,i,n;i=pt.getElementsByTagName("body")[0],i&&i.style&&(t=pt.createElement("div"),n=pt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==_t&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",it.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(n))}),function(){var e=pt.createElement("div");if(null==it.deleteExpando){it.deleteExpando=!0;try{delete e.test}catch(t){it.deleteExpando=!1}}e=null}(),st.acceptData=function(e){var t=st.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return 1!==i&&9!==i?!1:!t||t!==!0&&e.getAttribute("classid")===t};var St=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Tt=/([A-Z])/g;st.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?st.cache[e[st.expando]]:e[st.expando],!!e&&!c(e)},data:function(e,t,i){return h(e,t,i)},removeData:function(e,t){return u(e,t)},_data:function(e,t,i){return h(e,t,i,!0)},_removeData:function(e,t){return u(e,t,!0)}}),st.fn.extend({data:function(e,t){var i,n,s,o=this[0],r=o&&o.attributes;if(void 0===e){if(this.length&&(s=st.data(o),1===o.nodeType&&!st._data(o,"parsedAttrs"))){for(i=r.length;i--;)r[i]&&(n=r[i].name,0===n.indexOf("data-")&&(n=st.camelCase(n.slice(5)),l(o,n,s[n])));st._data(o,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){st.data(this,e)}):arguments.length>1?this.each(function(){st.data(this,e,t)}):o?l(o,e,st.data(o,e)):void 0},removeData:function(e){return this.each(function(){st.removeData(this,e)})}}),st.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=st._data(e,t),i&&(!n||st.isArray(i)?n=st._data(e,t,st.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=st.queue(e,t),n=i.length,s=i.shift(),o=st._queueHooks(e,t),r=function(){st.dequeue(e,t)};"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===t&&i.unshift("inprogress"),delete o.stop,s.call(e,r,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return st._data(e,i)||st._data(e,i,{empty:st.Callbacks("once memory").add(function(){st._removeData(e,t+"queue"),st._removeData(e,i)})})}}),st.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?st.queue(this[0],e):void 0===t?this:this.each(function(){var i=st.queue(this,e,t);st._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&st.dequeue(this,e)})},dequeue:function(e){return this.each(function(){st.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,s=st.Deferred(),o=this,r=this.length,a=function(){--n||s.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)i=st._data(o[r],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),s.promise(t)}});var kt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Dt=["Top","Right","Bottom","Left"],Et=function(e,t){return e=t||e,"none"===st.css(e,"display")||!st.contains(e.ownerDocument,e)},Nt=st.access=function(e,t,i,n,s,o,r){var a=0,l=e.length,c=null==i;if("object"===st.type(i)){s=!0;for(a in i)st.access(e,t,a,i[a],!0,o,r)}else if(void 0!==n&&(s=!0,st.isFunction(n)||(r=!0),c&&(r?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(st(e),i)})),t))for(;l>a;a++)t(e[a],i,r?n:n.call(e[a],a,t(e[a],i)));return s?e:c?t.call(e):l?t(e[0],i):o},Mt=/^(?:checkbox|radio)$/i;!function(){var e=pt.createElement("input"),t=pt.createElement("div"),i=pt.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",it.leadingWhitespace=3===t.firstChild.nodeType,it.tbody=!t.getElementsByTagName("tbody").length,it.htmlSerialize=!!t.getElementsByTagName("link").length,it.html5Clone="<:nav></:nav>"!==pt.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,i.appendChild(e),it.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,i.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",it.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,it.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){it.noCloneEvent=!1}),t.cloneNode(!0).click()),null==it.deleteExpando){it.deleteExpando=!0;try{delete t.test}catch(n){it.deleteExpando=!1}}}(),function(){var t,i,n=pt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(it[t+"Bubbles"]=i in e)||(n.setAttribute(i,"t"),it[t+"Bubbles"]=n.attributes[i].expando===!1);n=null}();var Rt=/^(?:input|select|textarea)$/i,At=/^key/,Ft=/^(?:mouse|pointer|contextmenu)|click/,It=/^(?:focusinfocus|focusoutblur)$/,Pt=/^([^.]*)(?:\.(.+)|)$/;st.event={global:{},add:function(e,t,i,n,s){var o,r,a,l,c,h,u,d,f,p,g,m=st._data(e);if(m){for(i.handler&&(l=i,i=l.handler,s=l.selector),i.guid||(i.guid=st.guid++),(r=m.events)||(r=m.events={}),(h=m.handle)||(h=m.handle=function(e){return typeof st===_t||e&&st.event.triggered===e.type?void 0:st.event.dispatch.apply(h.elem,arguments)},h.elem=e),t=(t||"").match(bt)||[""],a=t.length;a--;)o=Pt.exec(t[a])||[],f=g=o[1],p=(o[2]||"").split(".").sort(),f&&(c=st.event.special[f]||{},f=(s?c.delegateType:c.bindType)||f,c=st.event.special[f]||{},u=st.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&st.expr.match.needsContext.test(s),namespace:p.join(".")},l),(d=r[f])||(d=r[f]=[],d.delegateCount=0,c.setup&&c.setup.call(e,n,p,h)!==!1||(e.addEventListener?e.addEventListener(f,h,!1):e.attachEvent&&e.attachEvent("on"+f,h))),c.add&&(c.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),s?d.splice(d.delegateCount++,0,u):d.push(u),st.event.global[f]=!0);e=null}},remove:function(e,t,i,n,s){var o,r,a,l,c,h,u,d,f,p,g,m=st.hasData(e)&&st._data(e);if(m&&(h=m.events)){for(t=(t||"").match(bt)||[""],c=t.length;c--;)if(a=Pt.exec(t[c])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f){for(u=st.event.special[f]||{},f=(n?u.delegateType:u.bindType)||f,d=h[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)r=d[o],!s&&g!==r.origType||i&&i.guid!==r.guid||a&&!a.test(r.namespace)||n&&n!==r.selector&&("**"!==n||!r.selector)||(d.splice(o,1),r.selector&&d.delegateCount--,u.remove&&u.remove.call(e,r));l&&!d.length&&(u.teardown&&u.teardown.call(e,p,m.handle)!==!1||st.removeEvent(e,f,m.handle),delete h[f])}else for(f in h)st.event.remove(e,f+t[c],i,n,!0);st.isEmptyObject(h)&&(delete m.handle,st._removeData(e,"events"))}},trigger:function(t,i,n,s){var o,r,a,l,c,h,u,d=[n||pt],f=tt.call(t,"type")?t.type:t,p=tt.call(t,"namespace")?t.namespace.split("."):[];if(a=h=n=n||pt,3!==n.nodeType&&8!==n.nodeType&&!It.test(f+st.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),r=f.indexOf(":")<0&&"on"+f,t=t[st.expando]?t:new st.Event(f,"object"==typeof t&&t),t.isTrigger=s?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:st.makeArray(i,[t]),c=st.event.special[f]||{},s||!c.trigger||c.trigger.apply(n,i)!==!1)){if(!s&&!c.noBubble&&!st.isWindow(n)){for(l=c.delegateType||f,It.test(l+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),h=a;h===(n.ownerDocument||pt)&&d.push(h.defaultView||h.parentWindow||e)}for(u=0;(a=d[u++])&&!t.isPropagationStopped();)t.type=u>1?l:c.bindType||f,o=(st._data(a,"events")||{})[t.type]&&st._data(a,"handle"),o&&o.apply(a,i),o=r&&a[r],o&&o.apply&&st.acceptData(a)&&(t.result=o.apply(a,i),t.result===!1&&t.preventDefault());if(t.type=f,!s&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(d.pop(),i)===!1)&&st.acceptData(n)&&r&&n[f]&&!st.isWindow(n)){h=n[r],h&&(n[r]=null),st.event.triggered=f;try{n[f]()}catch(g){}st.event.triggered=void 0,h&&(n[r]=h)}return t.result}},dispatch:function(e){e=st.event.fix(e);var t,i,n,s,o,r=[],a=Q.call(arguments),l=(st._data(this,"events")||{})[e.type]||[],c=st.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(r=st.event.handlers.call(this,e,l),t=0;(s=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,o=0;(n=s.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(n.namespace))&&(e.handleObj=n,e.data=n.data,i=((st.event.special[n.origType]||{}).handle||n.handler).apply(s.elem,a),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,s,o,r=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(s=[],o=0;a>o;o++)n=t[o],i=n.selector+" ",void 0===s[i]&&(s[i]=n.needsContext?st(i,this).index(l)>=0:st.find(i,this,null,[l]).length),s[i]&&s.push(n);s.length&&r.push({elem:l,handlers:s})}return a<t.length&&r.push({elem:this,handlers:t.slice(a)}),r},fix:function(e){if(e[st.expando])return e;var t,i,n,s=e.type,o=e,r=this.fixHooks[s];for(r||(this.fixHooks[s]=r=Ft.test(s)?this.mouseHooks:At.test(s)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,e=new st.Event(o),t=n.length;t--;)i=n[t],e[i]=o[i];return e.target||(e.target=o.srcElement||pt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,s,o=t.button,r=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||pt,s=n.documentElement,i=n.body,e.pageX=t.clientX+(s&&s.scrollLeft||i&&i.scrollLeft||0)-(s&&s.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(s&&s.scrollTop||i&&i.scrollTop||0)-(s&&s.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&r&&(e.relatedTarget=r===e.target?t.toElement:r),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return st.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return st.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var s=st.extend(new st.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?st.event.trigger(s,null,t):st.event.dispatch.call(t,s),s.isDefaultPrevented()&&i.preventDefault()}},st.removeEvent=pt.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===_t&&(e[n]=null),e.detachEvent(n,i))},st.Event=function(e,t){return this instanceof st.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?d:f):this.type=e,t&&st.extend(this,t),this.timeStamp=e&&e.timeStamp||st.now(),void(this[st.expando]=!0)):new st.Event(e,t)},st.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},st.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){st.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,s=e.relatedTarget,o=e.handleObj;return(!s||s!==n&&!st.contains(n,s))&&(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),it.submitBubbles||(st.event.special.submit={setup:function(){return st.nodeName(this,"form")?!1:void st.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=st.nodeName(t,"input")||st.nodeName(t,"button")?t.form:void 0;i&&!st._data(i,"submitBubbles")&&(st.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),st._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&st.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return st.nodeName(this,"form")?!1:void st.event.remove(this,"._submit")}}),it.changeBubbles||(st.event.special.change={setup:function(){return Rt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(st.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),st.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),st.event.simulate("change",this,e,!0)})),!1):void st.event.add(this,"beforeactivate._change",function(e){var t=e.target;Rt.test(t.nodeName)&&!st._data(t,"changeBubbles")&&(st.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||st.event.simulate("change",this.parentNode,e,!0)}),st._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return st.event.remove(this,"._change"),!Rt.test(this.nodeName)}}),it.focusinBubbles||st.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){st.event.simulate(t,e.target,st.event.fix(e),!0)};st.event.special[t]={setup:function(){var n=this.ownerDocument||this,s=st._data(n,t);s||n.addEventListener(e,i,!0),st._data(n,t,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this,s=st._data(n,t)-1;s?st._data(n,t,s):(n.removeEventListener(e,i,!0),st._removeData(n,t))}}}),st.fn.extend({on:function(e,t,i,n,s){var o,r;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(o in e)this.on(o,t,i,e[o],s);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),n===!1)n=f;else if(!n)return this;return 1===s&&(r=n,n=function(e){return st().off(e),r.apply(this,arguments)},n.guid=r.guid||(r.guid=st.guid++)),this.each(function(){st.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,s;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,st(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return(t===!1||"function"==typeof t)&&(i=t,t=void 0),i===!1&&(i=f),this.each(function(){st.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){st.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?st.event.trigger(e,t,i,!0):void 0}});var Lt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",zt=/ jQuery\d+="(?:null|\d+)"/g,Ot=new RegExp("<(?:"+Lt+")[\\s/>]","i"),Ht=/^\s+/,jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Wt=/<([\w:]+)/,Bt=/<tbody/i,qt=/<|&#?\w+;/,$t=/<(?:script|style|link)/i,Ut=/checked\s*(?:[^=]|=\s*.checked.)/i,Vt=/^$|\/(?:java|ecma)script/i,Yt=/^true\/(.*)/,Xt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Qt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:it.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Jt=g(pt),Gt=Jt.appendChild(pt.createElement("div"));Qt.optgroup=Qt.option,Qt.tbody=Qt.tfoot=Qt.colgroup=Qt.caption=Qt.thead,Qt.th=Qt.td,st.extend({clone:function(e,t,i){var n,s,o,r,a,l=st.contains(e.ownerDocument,e);if(it.html5Clone||st.isXMLDoc(e)||!Ot.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Gt.innerHTML=e.outerHTML,Gt.removeChild(o=Gt.firstChild)),!(it.noCloneEvent&&it.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||st.isXMLDoc(e)))for(n=m(o),a=m(e),r=0;null!=(s=a[r]);++r)n[r]&&_(s,n[r]);if(t)if(i)for(a=a||m(e),n=n||m(o),r=0;null!=(s=a[r]);r++)C(s,n[r]);else C(e,o);return n=m(o,"script"),n.length>0&&x(n,!l&&m(e,"script")),n=a=s=null,o},buildFragment:function(e,t,i,n){for(var s,o,r,a,l,c,h,u=e.length,d=g(t),f=[],p=0;u>p;p++)if(o=e[p],o||0===o)if("object"===st.type(o))st.merge(f,o.nodeType?[o]:o);else if(qt.test(o)){for(a=a||d.appendChild(t.createElement("div")),l=(Wt.exec(o)||["",""])[1].toLowerCase(),h=Qt[l]||Qt._default,a.innerHTML=h[1]+o.replace(jt,"<$1></$2>")+h[2],s=h[0];s--;)a=a.lastChild;if(!it.leadingWhitespace&&Ht.test(o)&&f.push(t.createTextNode(Ht.exec(o)[0])),!it.tbody)for(o="table"!==l||Bt.test(o)?"<table>"!==h[1]||Bt.test(o)?0:a:a.firstChild,s=o&&o.childNodes.length;s--;)st.nodeName(c=o.childNodes[s],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(st.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else f.push(t.createTextNode(o));for(a&&d.removeChild(a),it.appendChecked||st.grep(m(f,"input"),v),p=0;o=f[p++];)if((!n||-1===st.inArray(o,n))&&(r=st.contains(o.ownerDocument,o),a=m(d.appendChild(o),"script"),r&&x(a),i))for(s=0;o=a[s++];)Vt.test(o.type||"")&&i.push(o);return a=null,d},cleanData:function(e,t){for(var i,n,s,o,r=0,a=st.expando,l=st.cache,c=it.deleteExpando,h=st.event.special;null!=(i=e[r]);r++)if((t||st.acceptData(i))&&(s=i[a],o=s&&l[s])){if(o.events)for(n in o.events)h[n]?st.event.remove(i,n):st.removeEvent(i,n,o.handle);l[s]&&(delete l[s],c?delete i[a]:typeof i.removeAttribute!==_t?i.removeAttribute(a):i[a]=null,X.push(s))}}}),st.fn.extend({text:function(e){return Nt(this,function(e){return void 0===e?st.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?st.filter(e,this):this,s=0;null!=(i=n[s]);s++)t||1!==i.nodeType||st.cleanData(m(i)),i.parentNode&&(t&&st.contains(i.ownerDocument,i)&&x(m(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&st.cleanData(m(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&st.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return st.clone(this,e,t)})},html:function(e){return Nt(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(zt,""):void 0;if(!("string"!=typeof e||$t.test(e)||!it.htmlSerialize&&Ot.test(e)||!it.leadingWhitespace&&Ht.test(e)||Qt[(Wt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(jt,"<$1></$2>");try{for(;n>i;i++)t=this[i]||{},1===t.nodeType&&(st.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(s){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,st.cleanData(m(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=J.apply([],e);var i,n,s,o,r,a,l=0,c=this.length,h=this,u=c-1,d=e[0],f=st.isFunction(d);if(f||c>1&&"string"==typeof d&&!it.checkClone&&Ut.test(d))return this.each(function(i){var n=h.eq(i);f&&(e[0]=d.call(this,i,n.html())),n.domManip(e,t)});if(c&&(a=st.buildFragment(e,this[0].ownerDocument,!1,this),i=a.firstChild,1===a.childNodes.length&&(a=i),i)){for(o=st.map(m(a,"script"),b),s=o.length;c>l;l++)n=a,l!==u&&(n=st.clone(n,!0,!0),s&&st.merge(o,m(n,"script"))),t.call(this[l],n,l);if(s)for(r=o[o.length-1].ownerDocument,st.map(o,w),l=0;s>l;l++)n=o[l],Vt.test(n.type||"")&&!st._data(n,"globalEval")&&st.contains(r,n)&&(n.src?st._evalUrl&&st._evalUrl(n.src):st.globalEval((n.text||n.textContent||n.innerHTML||"").replace(Xt,"")));a=i=null}return this}}),st.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){st.fn[e]=function(e){for(var i,n=0,s=[],o=st(e),r=o.length-1;r>=n;n++)i=n===r?this:this.clone(!0),st(o[n])[t](i),G.apply(s,i.get());return this.pushStack(s)}});var Kt,Zt={};!function(){var e;it.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,n;return i=pt.getElementsByTagName("body")[0],i&&i.style?(t=pt.createElement("div"),n=pt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==_t&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(pt.createElement("div")).style.width="5px",e=3!==t.offsetWidth),i.removeChild(n),e):void 0}}();var ei,ti,ii=/^margin/,ni=new RegExp("^("+kt+")(?!px)[a-z%]+$","i"),si=/^(top|right|bottom|left)$/;e.getComputedStyle?(ei=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},ti=function(e,t,i){var n,s,o,r,a=e.style;return i=i||ei(e),r=i?i.getPropertyValue(t)||i[t]:void 0,i&&(""!==r||st.contains(e.ownerDocument,e)||(r=st.style(e,t)),ni.test(r)&&ii.test(t)&&(n=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=i.width,a.width=n,a.minWidth=s,a.maxWidth=o)),void 0===r?r:r+""}):pt.documentElement.currentStyle&&(ei=function(e){return e.currentStyle},ti=function(e,t,i){var n,s,o,r,a=e.style;return i=i||ei(e),r=i?i[t]:void 0,null==r&&a&&a[t]&&(r=a[t]),ni.test(r)&&!si.test(t)&&(n=a.left,s=e.runtimeStyle,o=s&&s.left,o&&(s.left=e.currentStyle.left),a.left="fontSize"===t?"1em":r,r=a.pixelLeft+"px",a.left=n,o&&(s.left=o)),void 0===r?r:r+""||"auto"}),!function(){function t(){var t,i,n,s;i=pt.getElementsByTagName("body")[0],i&&i.style&&(t=pt.createElement("div"),n=pt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=r=!1,l=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,r="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,s=t.appendChild(pt.createElement("div")),s.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",s.style.marginRight=s.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(s,null)||{}).marginRight),t.removeChild(s)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=t.getElementsByTagName("td"),s[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===s[0].offsetHeight,a&&(s[0].style.display="",s[1].style.display="none",a=0===s[0].offsetHeight),i.removeChild(n))
}var i,n,s,o,r,a,l;i=pt.createElement("div"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",s=i.getElementsByTagName("a")[0],(n=s&&s.style)&&(n.cssText="float:left;opacity:.5",it.opacity="0.5"===n.opacity,it.cssFloat=!!n.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===i.style.backgroundClip,it.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,st.extend(it,{reliableHiddenOffsets:function(){return null==a&&t(),a},boxSizingReliable:function(){return null==r&&t(),r},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==l&&t(),l}}))}(),st.swap=function(e,t,i,n){var s,o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];s=i.apply(e,n||[]);for(o in t)e.style[o]=r[o];return s};var oi=/alpha\([^)]*\)/i,ri=/opacity\s*=\s*([^)]*)/,ai=/^(none|table(?!-c[ea]).+)/,li=new RegExp("^("+kt+")(.*)$","i"),ci=new RegExp("^([+-])=("+kt+")","i"),hi={position:"absolute",visibility:"hidden",display:"block"},ui={letterSpacing:"0",fontWeight:"400"},di=["Webkit","O","Moz","ms"];st.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ti(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":it.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,r,a=st.camelCase(t),l=e.style;if(t=st.cssProps[a]||(st.cssProps[a]=D(l,a)),r=st.cssHooks[t]||st.cssHooks[a],void 0===i)return r&&"get"in r&&void 0!==(s=r.get(e,!1,n))?s:l[t];if(o=typeof i,"string"===o&&(s=ci.exec(i))&&(i=(s[1]+1)*s[2]+parseFloat(st.css(e,t)),o="number"),null!=i&&i===i&&("number"!==o||st.cssNumber[a]||(i+="px"),it.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(r&&"set"in r&&void 0===(i=r.set(e,i,n)))))try{l[t]=i}catch(c){}}},css:function(e,t,i,n){var s,o,r,a=st.camelCase(t);return t=st.cssProps[a]||(st.cssProps[a]=D(e.style,a)),r=st.cssHooks[t]||st.cssHooks[a],r&&"get"in r&&(o=r.get(e,!0,i)),void 0===o&&(o=ti(e,t,n)),"normal"===o&&t in ui&&(o=ui[t]),""===i||i?(s=parseFloat(o),i===!0||st.isNumeric(s)?s||0:o):o}}),st.each(["height","width"],function(e,t){st.cssHooks[t]={get:function(e,i,n){return i?ai.test(st.css(e,"display"))&&0===e.offsetWidth?st.swap(e,hi,function(){return R(e,t,n)}):R(e,t,n):void 0},set:function(e,i,n){var s=n&&ei(e);return N(e,i,n?M(e,t,n,it.boxSizing&&"border-box"===st.css(e,"boxSizing",!1,s),s):0)}}}),it.opacity||(st.cssHooks.opacity={get:function(e,t){return ri.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,s=st.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===st.trim(o.replace(oi,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=oi.test(o)?o.replace(oi,s):o+" "+s)}}),st.cssHooks.marginRight=k(it.reliableMarginRight,function(e,t){return t?st.swap(e,{display:"inline-block"},ti,[e,"marginRight"]):void 0}),st.each({margin:"",padding:"",border:"Width"},function(e,t){st.cssHooks[e+t]={expand:function(i){for(var n=0,s={},o="string"==typeof i?i.split(" "):[i];4>n;n++)s[e+Dt[n]+t]=o[n]||o[n-2]||o[0];return s}},ii.test(e)||(st.cssHooks[e+t].set=N)}),st.fn.extend({css:function(e,t){return Nt(this,function(e,t,i){var n,s,o={},r=0;if(st.isArray(t)){for(n=ei(e),s=t.length;s>r;r++)o[t[r]]=st.css(e,t[r],!1,n);return o}return void 0!==i?st.style(e,t,i):st.css(e,t)},e,t,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Et(this)?st(this).show():st(this).hide()})}}),st.Tween=A,A.prototype={constructor:A,init:function(e,t,i,n,s,o){this.elem=e,this.prop=i,this.easing=s||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(st.cssNumber[i]?"":"px")},cur:function(){var e=A.propHooks[this.prop];return e&&e.get?e.get(this):A.propHooks._default.get(this)},run:function(e){var t,i=A.propHooks[this.prop];return this.pos=t=this.options.duration?st.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=st.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){st.fx.step[e.prop]?st.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[st.cssProps[e.prop]]||st.cssHooks[e.prop])?st.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},st.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},st.fx=A.prototype.init,st.fx.step={};var fi,pi,gi=/^(?:toggle|show|hide)$/,mi=new RegExp("^(?:([+-])=|)("+kt+")([a-z%]*)$","i"),vi=/queueHooks$/,yi=[L],bi={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),s=mi.exec(t),o=s&&s[3]||(st.cssNumber[e]?"":"px"),r=(st.cssNumber[e]||"px"!==o&&+n)&&mi.exec(st.css(i.elem,e)),a=1,l=20;if(r&&r[3]!==o){o=o||r[3],s=s||[],r=+n||1;do a=a||".5",r/=a,st.style(i.elem,e,r+o);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return s&&(r=i.start=+r||+n||0,i.unit=o,i.end=s[1]?r+(s[1]+1)*s[2]:+s[2]),i}]};st.Animation=st.extend(O,{tweener:function(e,t){st.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,s=e.length;s>n;n++)i=e[n],bi[i]=bi[i]||[],bi[i].unshift(t)},prefilter:function(e,t){t?yi.unshift(e):yi.push(e)}}),st.speed=function(e,t,i){var n=e&&"object"==typeof e?st.extend({},e):{complete:i||!i&&t||st.isFunction(e)&&e,duration:e,easing:i&&t||t&&!st.isFunction(t)&&t};return n.duration=st.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in st.fx.speeds?st.fx.speeds[n.duration]:st.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){st.isFunction(n.old)&&n.old.call(this),n.queue&&st.dequeue(this,n.queue)},n},st.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Et).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var s=st.isEmptyObject(e),o=st.speed(t,i,n),r=function(){var t=O(this,st.extend({},e),o);(s||st._data(this,"finish"))&&t.stop(!0)};return r.finish=r,s||o.queue===!1?this.each(r):this.queue(o.queue,r)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,s=null!=e&&e+"queueHooks",o=st.timers,r=st._data(this);if(s)r[s]&&r[s].stop&&n(r[s]);else for(s in r)r[s]&&r[s].stop&&vi.test(s)&&n(r[s]);for(s=o.length;s--;)o[s].elem!==this||null!=e&&o[s].queue!==e||(o[s].anim.stop(i),t=!1,o.splice(s,1));(t||!i)&&st.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=st._data(this),n=i[e+"queue"],s=i[e+"queueHooks"],o=st.timers,r=n?n.length:0;for(i.finish=!0,st.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;r>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),st.each(["toggle","show","hide"],function(e,t){var i=st.fn[t];st.fn[t]=function(e,n,s){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(I(t,!0),e,n,s)}}),st.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){st.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),st.timers=[],st.fx.tick=function(){var e,t=st.timers,i=0;for(fi=st.now();i<t.length;i++)e=t[i],e()||t[i]!==e||t.splice(i--,1);t.length||st.fx.stop(),fi=void 0},st.fx.timer=function(e){st.timers.push(e),e()?st.fx.start():st.timers.pop()},st.fx.interval=13,st.fx.start=function(){pi||(pi=setInterval(st.fx.tick,st.fx.interval))},st.fx.stop=function(){clearInterval(pi),pi=null},st.fx.speeds={slow:600,fast:200,_default:400},st.fn.delay=function(e,t){return e=st.fx?st.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},function(){var e,t,i,n,s;t=pt.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=t.getElementsByTagName("a")[0],i=pt.createElement("select"),s=i.appendChild(pt.createElement("option")),e=t.getElementsByTagName("input")[0],n.style.cssText="top:1px",it.getSetAttribute="t"!==t.className,it.style=/top/.test(n.getAttribute("style")),it.hrefNormalized="/a"===n.getAttribute("href"),it.checkOn=!!e.value,it.optSelected=s.selected,it.enctype=!!pt.createElement("form").enctype,i.disabled=!0,it.optDisabled=!s.disabled,e=pt.createElement("input"),e.setAttribute("value",""),it.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),it.radioValue="t"===e.value}();var wi=/\r/g;st.fn.extend({val:function(e){var t,i,n,s=this[0];return arguments.length?(n=st.isFunction(e),this.each(function(i){var s;1===this.nodeType&&(s=n?e.call(this,i,st(this).val()):e,null==s?s="":"number"==typeof s?s+="":st.isArray(s)&&(s=st.map(s,function(e){return null==e?"":e+""})),t=st.valHooks[this.type]||st.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,s,"value")||(this.value=s))})):s?(t=st.valHooks[s.type]||st.valHooks[s.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(s,"value"))?i:(i=s.value,"string"==typeof i?i.replace(wi,""):null==i?"":i)):void 0}}),st.extend({valHooks:{option:{get:function(e){var t=st.find.attr(e,"value");return null!=t?t:st.trim(st.text(e))}},select:{get:function(e){for(var t,i,n=e.options,s=e.selectedIndex,o="select-one"===e.type||0>s,r=o?null:[],a=o?s+1:n.length,l=0>s?a:o?s:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==s||(it.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&st.nodeName(i.parentNode,"optgroup"))){if(t=st(i).val(),o)return t;r.push(t)}return r},set:function(e,t){for(var i,n,s=e.options,o=st.makeArray(t),r=s.length;r--;)if(n=s[r],st.inArray(st.valHooks.option.get(n),o)>=0)try{n.selected=i=!0}catch(a){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),s}}}}),st.each(["radio","checkbox"],function(){st.valHooks[this]={set:function(e,t){return st.isArray(t)?e.checked=st.inArray(st(e).val(),t)>=0:void 0}},it.checkOn||(st.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var xi,Ci,_i=st.expr.attrHandle,Si=/^(?:checked|selected)$/i,Ti=it.getSetAttribute,ki=it.input;st.fn.extend({attr:function(e,t){return Nt(this,st.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){st.removeAttr(this,e)})}}),st.extend({attr:function(e,t,i){var n,s,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?typeof e.getAttribute===_t?st.prop(e,t,i):(1===o&&st.isXMLDoc(e)||(t=t.toLowerCase(),n=st.attrHooks[t]||(st.expr.match.bool.test(t)?Ci:xi)),void 0===i?n&&"get"in n&&null!==(s=n.get(e,t))?s:(s=st.find.attr(e,t),null==s?void 0:s):null!==i?n&&"set"in n&&void 0!==(s=n.set(e,i,t))?s:(e.setAttribute(t,i+""),i):void st.removeAttr(e,t)):void 0},removeAttr:function(e,t){var i,n,s=0,o=t&&t.match(bt);if(o&&1===e.nodeType)for(;i=o[s++];)n=st.propFix[i]||i,st.expr.match.bool.test(i)?ki&&Ti||!Si.test(i)?e[n]=!1:e[st.camelCase("default-"+i)]=e[n]=!1:st.attr(e,i,""),e.removeAttribute(Ti?i:n)},attrHooks:{type:{set:function(e,t){if(!it.radioValue&&"radio"===t&&st.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),Ci={set:function(e,t,i){return t===!1?st.removeAttr(e,i):ki&&Ti||!Si.test(i)?e.setAttribute(!Ti&&st.propFix[i]||i,i):e[st.camelCase("default-"+i)]=e[i]=!0,i}},st.each(st.expr.match.bool.source.match(/\w+/g),function(e,t){var i=_i[t]||st.find.attr;_i[t]=ki&&Ti||!Si.test(t)?function(e,t,n){var s,o;return n||(o=_i[t],_i[t]=s,s=null!=i(e,t,n)?t.toLowerCase():null,_i[t]=o),s}:function(e,t,i){return i?void 0:e[st.camelCase("default-"+t)]?t.toLowerCase():null}}),ki&&Ti||(st.attrHooks.value={set:function(e,t,i){return st.nodeName(e,"input")?void(e.defaultValue=t):xi&&xi.set(e,t,i)}}),Ti||(xi={set:function(e,t,i){var n=e.getAttributeNode(i);return n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i)?t:void 0}},_i.id=_i.name=_i.coords=function(e,t,i){var n;return i?void 0:(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},st.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:void 0},set:xi.set},st.attrHooks.contenteditable={set:function(e,t,i){xi.set(e,""===t?!1:t,i)}},st.each(["width","height"],function(e,t){st.attrHooks[t]={set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}}})),it.style||(st.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Di=/^(?:input|select|textarea|button|object)$/i,Ei=/^(?:a|area)$/i;st.fn.extend({prop:function(e,t){return Nt(this,st.prop,e,t,arguments.length>1)},removeProp:function(e){return e=st.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),st.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var n,s,o,r=e.nodeType;return e&&3!==r&&8!==r&&2!==r?(o=1!==r||!st.isXMLDoc(e),o&&(t=st.propFix[t]||t,s=st.propHooks[t]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(e,i,t))?n:e[t]=i:s&&"get"in s&&null!==(n=s.get(e,t))?n:e[t]):void 0},propHooks:{tabIndex:{get:function(e){var t=st.find.attr(e,"tabindex");return t?parseInt(t,10):Di.test(e.nodeName)||Ei.test(e.nodeName)&&e.href?0:-1}}}}),it.hrefNormalized||st.each(["href","src"],function(e,t){st.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),it.optSelected||(st.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),st.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){st.propFix[this.toLowerCase()]=this}),it.enctype||(st.propFix.enctype="encoding");var Ni=/[\t\r\n\f]/g;st.fn.extend({addClass:function(e){var t,i,n,s,o,r,a=0,l=this.length,c="string"==typeof e&&e;if(st.isFunction(e))return this.each(function(t){st(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(bt)||[];l>a;a++)if(i=this[a],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ni," "):" ")){for(o=0;s=t[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");r=st.trim(n),i.className!==r&&(i.className=r)}return this},removeClass:function(e){var t,i,n,s,o,r,a=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(st.isFunction(e))return this.each(function(t){st(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(bt)||[];l>a;a++)if(i=this[a],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ni," "):"")){for(o=0;s=t[o++];)for(;n.indexOf(" "+s+" ")>=0;)n=n.replace(" "+s+" "," ");r=e?st.trim(n):"",i.className!==r&&(i.className=r)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):this.each(st.isFunction(e)?function(i){st(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){if("string"===i)for(var t,n=0,s=st(this),o=e.match(bt)||[];t=o[n++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else(i===_t||"boolean"===i)&&(this.className&&st._data(this,"__className__",this.className),this.className=this.className||e===!1?"":st._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Ni," ").indexOf(t)>=0)return!0;return!1}}),st.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){st.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),st.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var Mi=st.now(),Ri=/\?/,Ai=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;st.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,n=null,s=st.trim(t+"");return s&&!st.trim(s.replace(Ai,function(e,t,s,o){return i&&t&&(n=0),0===n?e:(i=s||t,n+=!o-!s,"")}))?Function("return "+s)():st.error("Invalid JSON: "+t)},st.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(n=new DOMParser,i=n.parseFromString(t,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(s){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||st.error("Invalid XML: "+t),i};var Fi,Ii,Pi=/#.*$/,Li=/([?&])_=[^&]*/,zi=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Oi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Hi=/^(?:GET|HEAD)$/,ji=/^\/\//,Wi=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Bi={},qi={},$i="*/".concat("*");try{Ii=location.href}catch(Ui){Ii=pt.createElement("a"),Ii.href="",Ii=Ii.href}Fi=Wi.exec(Ii.toLowerCase())||[],st.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ii,type:"GET",isLocal:Oi.test(Fi[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$i,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":st.parseJSON,"text xml":st.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,st.ajaxSettings),t):W(st.ajaxSettings,e)},ajaxPrefilter:H(Bi),ajaxTransport:H(qi),ajax:function(e,t){function i(e,t,i,n){var s,h,v,y,w,C=t;2!==b&&(b=2,a&&clearTimeout(a),c=void 0,r=n||"",x.readyState=e>0?4:0,s=e>=200&&300>e||304===e,i&&(y=B(u,x,i)),y=q(u,y,x,s),s?(u.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(st.lastModified[o]=w),w=x.getResponseHeader("etag"),w&&(st.etag[o]=w)),204===e||"HEAD"===u.type?C="nocontent":304===e?C="notmodified":(C=y.state,h=y.data,v=y.error,s=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),x.status=e,x.statusText=(t||C)+"",s?p.resolveWith(d,[h,C,x]):p.rejectWith(d,[x,C,v]),x.statusCode(m),m=void 0,l&&f.trigger(s?"ajaxSuccess":"ajaxError",[x,u,s?h:v]),g.fireWith(d,[x,C]),l&&(f.trigger("ajaxComplete",[x,u]),--st.active||st.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,s,o,r,a,l,c,h,u=st.ajaxSetup({},t),d=u.context||u,f=u.context&&(d.nodeType||d.jquery)?st(d):st.event,p=st.Deferred(),g=st.Callbacks("once memory"),m=u.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!h)for(h={};t=zi.exec(r);)h[t[1].toLowerCase()]=t[2];t=h[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?r:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return b||(e=y[i]=y[i]||e,v[e]=t),this},overrideMimeType:function(e){return b||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return c&&c.abort(t),i(0,t),this}};if(p.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,u.url=((e||u.url||Ii)+"").replace(Pi,"").replace(ji,Fi[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=st.trim(u.dataType||"*").toLowerCase().match(bt)||[""],null==u.crossDomain&&(n=Wi.exec(u.url.toLowerCase()),u.crossDomain=!(!n||n[1]===Fi[1]&&n[2]===Fi[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Fi[3]||("http:"===Fi[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=st.param(u.data,u.traditional)),j(Bi,u,t,x),2===b)return x;l=st.event&&u.global,l&&0===st.active++&&st.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Hi.test(u.type),o=u.url,u.hasContent||(u.data&&(o=u.url+=(Ri.test(o)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=Li.test(o)?o.replace(Li,"$1_="+Mi++):o+(Ri.test(o)?"&":"?")+"_="+Mi++)),u.ifModified&&(st.lastModified[o]&&x.setRequestHeader("If-Modified-Since",st.lastModified[o]),st.etag[o]&&x.setRequestHeader("If-None-Match",st.etag[o])),(u.data&&u.hasContent&&u.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",u.contentType),x.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+$i+"; q=0.01":""):u.accepts["*"]);for(s in u.headers)x.setRequestHeader(s,u.headers[s]);if(u.beforeSend&&(u.beforeSend.call(d,x,u)===!1||2===b))return x.abort();w="abort";for(s in{success:1,error:1,complete:1})x[s](u[s]);if(c=j(qi,u,t,x)){x.readyState=1,l&&f.trigger("ajaxSend",[x,u]),u.async&&u.timeout>0&&(a=setTimeout(function(){x.abort("timeout")},u.timeout));try{b=1,c.send(v,i)}catch(C){if(!(2>b))throw C;i(-1,C)}}else i(-1,"No Transport");return x},getJSON:function(e,t,i){return st.get(e,t,i,"json")},getScript:function(e,t){return st.get(e,void 0,t,"script")}}),st.each(["get","post"],function(e,t){st[t]=function(e,i,n,s){return st.isFunction(i)&&(s=s||n,n=i,i=void 0),st.ajax({url:e,type:t,dataType:s,data:i,success:n})}}),st._evalUrl=function(e){return st.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},st.fn.extend({wrapAll:function(e){if(st.isFunction(e))return this.each(function(t){st(this).wrapAll(e.call(this,t))});if(this[0]){var t=st(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(st.isFunction(e)?function(t){st(this).wrapInner(e.call(this,t))}:function(){var t=st(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=st.isFunction(e);return this.each(function(i){st(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){st.nodeName(this,"body")||st(this).replaceWith(this.childNodes)}).end()}}),st.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!it.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||st.css(e,"display"))},st.expr.filters.visible=function(e){return!st.expr.filters.hidden(e)};var Vi=/%20/g,Yi=/\[\]$/,Xi=/\r?\n/g,Qi=/^(?:submit|button|image|reset|file)$/i,Ji=/^(?:input|select|textarea|keygen)/i;st.param=function(e,t){var i,n=[],s=function(e,t){t=st.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=st.ajaxSettings&&st.ajaxSettings.traditional),st.isArray(e)||e.jquery&&!st.isPlainObject(e))st.each(e,function(){s(this.name,this.value)});else for(i in e)$(i,e[i],t,s);return n.join("&").replace(Vi,"+")},st.fn.extend({serialize:function(){return st.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=st.prop(this,"elements");return e?st.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!st(this).is(":disabled")&&Ji.test(this.nodeName)&&!Qi.test(e)&&(this.checked||!Mt.test(e))}).map(function(e,t){var i=st(this).val();return null==i?null:st.isArray(i)?st.map(i,function(e){return{name:t.name,value:e.replace(Xi,"\r\n")}}):{name:t.name,value:i.replace(Xi,"\r\n")}}).get()}}),st.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&U()||V()}:U;var Gi=0,Ki={},Zi=st.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Ki)Ki[e](void 0,!0)}),it.cors=!!Zi&&"withCredentials"in Zi,Zi=it.ajax=!!Zi,Zi&&st.ajaxTransport(function(e){if(!e.crossDomain||it.cors){var t;return{send:function(i,n){var s,o=e.xhr(),r=++Gi;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)o[s]=e.xhrFields[s];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)void 0!==i[s]&&o.setRequestHeader(s,i[s]+"");o.send(e.hasContent&&e.data||null),t=function(i,s){var a,l,c;if(t&&(s||4===o.readyState))if(delete Ki[r],t=void 0,o.onreadystatechange=st.noop,s)4!==o.readyState&&o.abort();else{c={},a=o.status,"string"==typeof o.responseText&&(c.text=o.responseText);try{l=o.statusText}catch(h){l=""}a||!e.isLocal||e.crossDomain?1223===a&&(a=204):a=c.text?200:404}c&&n(a,l,c,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Ki[r]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),st.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return st.globalEval(e),e}}}),st.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),st.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=pt.head||st("head")[0]||pt.documentElement;return{send:function(n,s){t=pt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||s(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;st.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||st.expando+"_"+Mi++;return this[e]=!0,e}}),st.ajaxPrefilter("json jsonp",function(t,i,n){var s,o,r,a=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(s=t.jsonpCallback=st.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(tn,"$1"+s):t.jsonp!==!1&&(t.url+=(Ri.test(t.url)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return r||st.error(s+" was not called"),r[0]},t.dataTypes[0]="json",o=e[s],e[s]=function(){r=arguments},n.always(function(){e[s]=o,t[s]&&(t.jsonpCallback=i.jsonpCallback,en.push(s)),r&&st.isFunction(o)&&o(r[0]),r=o=void 0}),"script"):void 0}),st.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||pt;var n=ut.exec(e),s=!i&&[];return n?[t.createElement(n[1])]:(n=st.buildFragment([e],t,s),s&&s.length&&st(s).remove(),st.merge([],n.childNodes))};var nn=st.fn.load;st.fn.load=function(e,t,i){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var n,s,o,r=this,a=e.indexOf(" ");return a>=0&&(n=st.trim(e.slice(a,e.length)),e=e.slice(0,a)),st.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(o="POST"),r.length>0&&st.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){s=arguments,r.html(n?st("<div>").append(st.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){r.each(i,s||[e.responseText,t,e])}),this},st.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){st.fn[t]=function(e){return this.on(t,e)}}),st.expr.filters.animated=function(e){return st.grep(st.timers,function(t){return e===t.elem}).length};var sn=e.document.documentElement;st.offset={setOffset:function(e,t,i){var n,s,o,r,a,l,c,h=st.css(e,"position"),u=st(e),d={};"static"===h&&(e.style.position="relative"),a=u.offset(),o=st.css(e,"top"),l=st.css(e,"left"),c=("absolute"===h||"fixed"===h)&&st.inArray("auto",[o,l])>-1,c?(n=u.position(),r=n.top,s=n.left):(r=parseFloat(o)||0,s=parseFloat(l)||0),st.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(d.top=t.top-a.top+r),null!=t.left&&(d.left=t.left-a.left+s),"using"in t?t.using.call(e,d):u.css(d)}},st.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){st.offset.setOffset(this,e,t)});var t,i,n={top:0,left:0},s=this[0],o=s&&s.ownerDocument;return o?(t=o.documentElement,st.contains(t,s)?(typeof s.getBoundingClientRect!==_t&&(n=s.getBoundingClientRect()),i=Y(o),{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n):void 0},position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===st.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),st.nodeName(e[0],"html")||(i=e.offset()),i.top+=st.css(e[0],"borderTopWidth",!0),i.left+=st.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-st.css(n,"marginTop",!0),left:t.left-i.left-st.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||sn;e&&!st.nodeName(e,"html")&&"static"===st.css(e,"position");)e=e.offsetParent;return e||sn})}}),st.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);st.fn[e]=function(n){return Nt(this,function(e,n,s){var o=Y(e);return void 0===s?o?t in o?o[t]:o.document.documentElement[n]:e[n]:void(o?o.scrollTo(i?st(o).scrollLeft():s,i?s:st(o).scrollTop()):e[n]=s)},e,n,arguments.length,null)}}),st.each(["top","left"],function(e,t){st.cssHooks[t]=k(it.pixelPosition,function(e,i){return i?(i=ti(e,t),ni.test(i)?st(e).position()[t]+"px":i):void 0})}),st.each({Height:"height",Width:"width"},function(e,t){st.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){st.fn[n]=function(n,s){var o=arguments.length&&(i||"boolean"!=typeof n),r=i||(n===!0||s===!0?"margin":"border");return Nt(this,function(t,i,n){var s;return st.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===n?st.css(t,i,r):st.style(t,i,n,r)},t,o?n:void 0,o,null)}})}),st.fn.size=function(){return this.length},st.fn.andSelf=st.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return st});var on=e.jQuery,rn=e.$;return st.noConflict=function(t){return e.$===st&&(e.$=rn),t&&e.jQuery===st&&(e.jQuery=on),st},typeof t===_t&&(e.jQuery=e.$=st),st}),/*!
 * Bootstrap v3.1.1 (http://getbootstrap.com)
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
+function(e){"use strict";var t='[data-dismiss="alert"]',i=function(i){e(i).on("click",t,this.close)};i.prototype.close=function(t){function i(){o.trigger("closed.bs.alert").remove()}var n=e(this),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var o=e(s);t&&t.preventDefault(),o.length||(o=n.hasClass("alert")?n:n.parent()),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one(e.support.transition.end,i).emulateTransitionEnd(150):i())};var n=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var n=e(this),s=n.data("bs.alert");s||n.data("bs.alert",s=new i(this)),"string"==typeof t&&s[t].call(n)})},e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=n,this},e(document).on("click.bs.alert.data-api",t,i.prototype.close)}(jQuery),+function(e){"use strict";var t=function(i,n){this.$element=e(i),this.options=e.extend({},t.DEFAULTS,n),this.isLoading=!1};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(t){var i="disabled",n=this.$element,s=n.is("input")?"val":"html",o=n.data();t+="Text",o.resetText||n.data("resetText",n[s]()),n[s](o[t]||this.options[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},t.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=function(i){return this.each(function(){var n=e(this),s=n.data("bs.button"),o="object"==typeof i&&i;s||n.data("bs.button",s=new t(this,o)),"toggle"==i?s.toggle():i&&s.setState(i)})},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",function(t){var i=e(t.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),t.preventDefault()})}(jQuery),+function(e){"use strict";var t=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},t.prototype.to=function(t){var i=this,n=this.getActiveIndex();if(!(t>this.$items.length-1||0>t))return this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){return this.sliding?void 0:this.slide("next")},t.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},t.prototype.slide=function(t,i){var n=this.$element.find(".item.active"),s=i||n[t](),o=this.interval,r="next"==t?"left":"right",a="next"==t?"first":"last",l=this;if(!s.length){if(!this.options.wrap)return;s=this.$element.find(".item")[a]()}if(s.hasClass("active"))return this.sliding=!1;var c=e.Event("slide.bs.carousel",{relatedTarget:s[0],direction:r});return this.$element.trigger(c),c.isDefaultPrevented()?void 0:(this.sliding=!0,o&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var t=e(l.$indicators.children()[l.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")?(s.addClass(t),s[0].offsetWidth,n.addClass(r),s.addClass(r),n.one(e.support.transition.end,function(){s.removeClass([t,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*n.css("transition-duration").slice(0,-1))):(n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),o&&this.cycle(),this)};var i=e.fn.carousel;e.fn.carousel=function(i){return this.each(function(){var n=e(this),s=n.data("bs.carousel"),o=e.extend({},t.DEFAULTS,n.data(),"object"==typeof i&&i),r="string"==typeof i?i:o.slide;s||n.data("bs.carousel",s=new t(this,o)),"number"==typeof i?s.to(i):r?s[r]():o.interval&&s.pause().cycle()})},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(t){var i,n=e(this),s=e(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),o=e.extend({},s.data(),n.data()),r=n.attr("data-slide-to");r&&(o.interval=!1),s.carousel(o),(r=n.attr("data-slide-to"))&&s.data("bs.carousel").to(r),t.preventDefault()}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);t.carousel(t.data())})})}(jQuery),+function(e){function t(t){e(n).remove(),e(s).each(function(){var n=i(e(this)),s={relatedTarget:this};n.hasClass("open")&&(n.trigger(t=e.Event("hide.bs.dropdown",s)),t.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown",s))})}function i(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}var n=".dropdown-backdrop",s="[data-toggle=dropdown]",o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.prototype.toggle=function(n){var s=e(this);if(!s.is(".disabled, :disabled")){var o=i(s),r=o.hasClass("open");if(t(),!r){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var a={relatedTarget:this};if(o.trigger(n=e.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;o.toggleClass("open").trigger("shown.bs.dropdown",a),s.focus()}return!1}},o.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var n=e(this);if(t.preventDefault(),t.stopPropagation(),!n.is(".disabled, :disabled")){var o=i(n),r=o.hasClass("open");if(!r||r&&27==t.keyCode)return 27==t.which&&o.find(s).focus(),n.click();var a=" li:not(.divider):visible a",l=o.find("[role=menu]"+a+", [role=listbox]"+a);if(l.length){var c=l.index(l.filter(":focus"));38==t.keyCode&&c>0&&c--,40==t.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).focus()}}}};var r=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new o(this)),"string"==typeof t&&n[t].call(i)})},e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=r,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",s,o.prototype.toggle).on("keydown.bs.dropdown.data-api",s+", [role=menu], [role=listbox]",o.prototype.keydown)}(jQuery),+function(e){"use strict";var t=function(t,i){this.options=i,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var i=this,n=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var n=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show().scrollTop(0),n&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:t});n?i.$element.find(".modal-dialog").one(e.support.transition.end,function(){i.$element.focus().trigger(s)}).emulateTransitionEnd(300):i.$element.focus().trigger(s)}))},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]!==e.target&&!this.$element.has(e.target).length&&this.$element.focus()},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;n?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var i=e.fn.modal;e.fn.modal=function(i,n){return this.each(function(){var s=e(this),o=s.data("bs.modal"),r=e.extend({},t.DEFAULTS,s.data(),"object"==typeof i&&i);o||s.data("bs.modal",o=new t(this,r)),"string"==typeof i?o[i](n):r.show&&o.show(n)})},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var i=e(this),n=i.attr("href"),s=e(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(n)&&n},s.data(),i.data());i.is("a")&&t.preventDefault(),s.modal(o,this).one("hide",function(){i.is(":visible")&&i.focus()})}),e(document).on("show.bs.modal",".modal",function(){e(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){e(document.body).removeClass("modal-open")})}(jQuery),+function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,i,n){this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n);for(var s=this.options.trigger.split(" "),o=s.length;o--;){var r=s[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},t.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},t.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var i=this,n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,r=o.test(s);r&&(s=s.replace(o,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(s),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var a=this.getPosition(),l=n[0].offsetWidth,c=n[0].offsetHeight;if(r){var h=this.$element.parent(),u=s,d=document.documentElement.scrollTop||document.body.scrollTop,f="body"==this.options.container?window.innerWidth:h.outerWidth(),p="body"==this.options.container?window.innerHeight:h.outerHeight(),g="body"==this.options.container?0:h.offset().left;s="bottom"==s&&a.top+a.height+c-d>p?"top":"top"==s&&a.top-d-c<0?"bottom":"right"==s&&a.right+l>f?"left":"left"==s&&a.left-l<g?"right":s,n.removeClass(u).addClass(s)}var m=this.getCalculatedOffset(s,a,l,c);this.applyPlacement(m,s),this.hoverState=null;var v=function(){i.$element.trigger("shown.bs."+i.type)};e.support.transition&&this.$tip.hasClass("fade")?n.one(e.support.transition.end,v).emulateTransitionEnd(150):v()}},t.prototype.applyPlacement=function(t,i){var n,s=this.tip(),o=s[0].offsetWidth,r=s[0].offsetHeight,a=parseInt(s.css("margin-top"),10),l=parseInt(s.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(l)&&(l=0),t.top=t.top+a,t.left=t.left+l,e.offset.setOffset(s[0],e.extend({using:function(e){s.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),s.addClass("in");var c=s[0].offsetWidth,h=s[0].offsetHeight;if("top"==i&&h!=r&&(n=!0,t.top=t.top+r-h),/bottom|top/.test(i)){var u=0;t.left<0&&(u=-2*t.left,t.left=0,s.offset(t),c=s[0].offsetWidth,h=s[0].offsetHeight),this.replaceArrow(u-o+c,c,"left")}else this.replaceArrow(h-r,h,"top");n&&s.offset(t)},t.prototype.replaceArrow=function(e,t,i){this.arrow().css(i,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){function t(){"in"!=i.hoverState&&n.detach(),i.$element.trigger("hidden.bs."+i.type)}var i=this,n=this.tip(),s=e.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?n.one(e.support.transition.end,t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var i=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},t.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=e.fn.tooltip;e.fn.tooltip=function(i){return this.each(function(){var n=e(this),s=n.data("bs.tooltip"),o="object"==typeof i&&i;(s||"destroy"!=i)&&(s||n.data("bs.tooltip",s=new t(this,o)),"string"==typeof i&&s[i]())})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),+function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var i=e.fn.popover;e.fn.popover=function(i){return this.each(function(){var n=e(this),s=n.data("bs.popover"),o="object"==typeof i&&i;(s||"destroy"!=i)&&(s||n.data("bs.popover",s=new t(this,o)),"string"==typeof i&&s[i]())})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),+function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var s=i.find(".active:last a")[0],o=e.Event("show.bs.tab",{relatedTarget:s});if(t.trigger(o),!o.isDefaultPrevented()){var r=e(n);this.activate(t.parent("li"),i),this.activate(r,r.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:s})})}}},t.prototype.activate=function(t,i,n){function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),n&&n()}var o=i.find("> .active"),r=n&&e.support.transition&&o.hasClass("fade");r?o.one(e.support.transition.end,s).emulateTransitionEnd(150):s(),o.removeClass("in")};var i=e.fn.tab;e.fn.tab=function(i){return this.each(function(){var n=e(this),s=n.data("bs.tab");s||n.data("bs.tab",s=new t(this)),"string"==typeof i&&s[i]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=i,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(jQuery),+function(e){"use strict";var t=function(i,n){this.options=e.extend({},t.DEFAULTS,n),this.$window=e(window).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(i),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$window.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-e},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=e(document).height(),n=this.$window.scrollTop(),s=this.$element.offset(),o=this.options.offset,r=o.top,a=o.bottom;"top"==this.affixed&&(s.top+=n),"object"!=typeof o&&(a=r=o),"function"==typeof r&&(r=o.top(this.$element)),"function"==typeof a&&(a=o.bottom(this.$element));var l=null!=this.unpin&&n+this.unpin<=s.top?!1:null!=a&&s.top+this.$element.height()>=i-a?"bottom":null!=r&&r>=n?"top":!1;if(this.affixed!==l){this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),h=e.Event(c+".bs.affix");this.$element.trigger(h),h.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(c).trigger(e.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:i-a-this.$element.height()}))}}};var i=e.fn.affix;e.fn.affix=function(i){return this.each(function(){var n=e(this),s=n.data("bs.affix"),o="object"==typeof i&&i;s||n.data("bs.affix",s=new t(this,o)),"string"==typeof i&&s[i]()})},e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),i=t.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),t.affix(i)})})}(jQuery),+function(e){"use strict";var t=function(i,n){this.$element=e(i),this.options=e.extend({},t.DEFAULTS,n),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t=e.Event("show.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var n=i.data("bs.collapse");if(n&&n.transitioning)return;i.collapse("hide"),n||i.data("bs.collapse",null)}var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return o.call(this);var r=e.camelCase(["scroll",s].join("-"));this.$element.one(e.support.transition.end,e.proxy(o,this)).emulateTransitionEnd(350)[s](this.$element[0][r])}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?void this.$element[i](0).one(e.support.transition.end,e.proxy(n,this)).emulateTransitionEnd(350):n.call(this)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=e.fn.collapse;e.fn.collapse=function(i){return this.each(function(){var n=e(this),s=n.data("bs.collapse"),o=e.extend({},t.DEFAULTS,n.data(),"object"==typeof i&&i);!s&&o.toggle&&"show"==i&&(i=!i),s||n.data("bs.collapse",s=new t(this,o)),"string"==typeof i&&s[i]()})},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(t){var i,n=e(this),s=n.attr("data-target")||t.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),o=e(s),r=o.data("bs.collapse"),a=r?"toggle":n.data(),l=n.attr("data-parent"),c=l&&e(l);r&&r.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+l+'"]').not(n).addClass("collapsed"),n[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),o.collapse(a)})}(jQuery),+function(e){function t(i,n){var s,o=e.proxy(this.process,this);this.$element=e(e(i).is("body")?window:i),this.$body=e("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",o),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||(s=e(i).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=e([]),this.targets=e([]),this.activeTarget=null,this.refresh(),this.process()}t.DEFAULTS={offset:10},t.prototype.refresh=function(){var t=this.$element[0]==window?"offset":"position";this.offsets=e([]),this.targets=e([]);{var i=this;this.$body.find(this.selector).map(function(){var n=e(this),s=n.data("target")||n.attr("href"),o=/^#./.test(s)&&e(s);return o&&o.length&&o.is(":visible")&&[[o[t]().top+(!e.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),s]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})}},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=i-this.$scrollElement.height(),s=this.offsets,o=this.targets,r=this.activeTarget;if(t>=n)return r!=(e=o.last()[0])&&this.activate(e);if(r&&t<=s[0])return r!=(e=o[0])&&this.activate(e);for(e=s.length;e--;)r!=o[e]&&t>=s[e]&&(!s[e+1]||t<=s[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")};var i=e.fn.scrollspy;e.fn.scrollspy=function(i){return this.each(function(){var n=e(this),s=n.data("bs.scrollspy"),o="object"==typeof i&&i;s||n.data("bs.scrollspy",s=new t(this,o)),"string"==typeof i&&s[i]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(jQuery),+function(e){function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one(e.support.transition.end,function(){i=!0});var s=function(){i||e(n).trigger(e.support.transition.end)};return setTimeout(s,t),this},e(function(){e.support.transition=t()})}(jQuery),function(){for(var e,t=function(){},i=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],n=i.length,s=window.console=window.console||{};n--;)e=i[n],s[e]||(s[e]=t)}(),/*! jQuery UI - v1.10.4 - 2014-01-23 (Used by FullCalendar plugin)
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.resizable.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
function(e,t){function i(t,i){var s,o,r,a=t.nodeName.toLowerCase();return"area"===a?(s=t.parentNode,o=s.name,t.href&&o&&"map"===s.nodeName.toLowerCase()?(r=e("img[usemap=#"+o+"]")[0],!!r&&n(r)):!1):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,s,o=e(this[0]);o.length&&o[0]!==document;){if(n=o.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(o.css("zIndex"),10),!isNaN(s)&&0!==s))return s;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(t,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function s(t,i,n,s){return e.each(o,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var o="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?a["inner"+n].call(this):this.each(function(){e(this).css(r,s(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?a["outer"+n].call(this,t):this.each(function(){e(this).css(r,s(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var s,o=e.ui[t].prototype;for(s in n)o.plugins[s]=o.plugins[s]||[],o.plugins[s].push([i,n[s]])},call:function(e,t,i){var n,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;s.length>n;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[n]>0?!0:(t[n]=1,s=t[n]>0,t[n]=0,s)}})}(jQuery),function(e,t){var i=0,n=Array.prototype.slice,s=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(o){}s(t)},e.widget=function(i,n,s){var o,r,a,l,c={},h=i.split(".")[0];i=i.split(".")[1],o=h+"-"+i,s||(s=n,n=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[h]=e[h]||{},r=e[h][i],a=e[h][i]=function(e,i){return this._createWidget?(arguments.length&&this._createWidget(e,i),t):new a(e,i)},e.extend(a,r,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),l=new n,l.options=e.widget.extend({},l.options),e.each(s,function(i,s){return e.isFunction(s)?(c[i]=function(){var e=function(){return n.prototype[i].apply(this,arguments)},t=function(e){return n.prototype[i].apply(this,e)};return function(){var i,n=this._super,o=this._superApply;return this._super=e,this._superApply=t,i=s.apply(this,arguments),this._super=n,this._superApply=o,i}}(),t):(c[i]=s,t)}),a.prototype=e.widget.extend(l,{widgetEventPrefix:r?l.widgetEventPrefix||i:i},c,{constructor:a,namespace:h,widgetName:i,widgetFullName:o}),r?(e.each(r._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete r._childConstructors):n._childConstructors.push(a),e.widget.bridge(i,a)},e.widget.extend=function(i){for(var s,o,r=n.call(arguments,1),a=0,l=r.length;l>a;a++)for(s in r[a])o=r[a][s],r[a].hasOwnProperty(s)&&o!==t&&(i[s]=e.isPlainObject(o)?e.isPlainObject(i[s])?e.widget.extend({},i[s],o):e.widget.extend({},o):o);return i},e.widget.bridge=function(i,s){var o=s.prototype.widgetFullName||i;e.fn[i]=function(r){var a="string"==typeof r,l=n.call(arguments,1),c=this;return r=!a&&l.length?e.widget.extend.apply(null,[r].concat(l)):r,this.each(a?function(){var n,s=e.data(this,o);return s?e.isFunction(s[r])&&"_"!==r.charAt(0)?(n=s[r].apply(s,l),n!==s&&n!==t?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):t):e.error("no such method '"+r+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+r+"'")}:function(){var t=e.data(this,o);t?t.option(r||{})._init():e.data(this,o,new s(r,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var s,o,r,a=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(a={},s=i.split("."),i=s.shift(),s.length){for(o=a[i]=e.widget.extend({},this.options[i]),r=0;s.length-1>r;r++)o[s[r]]=o[s[r]]||{},o=o[s[r]];if(i=s.pop(),1===arguments.length)return o[i]===t?null:o[i];o[i]=n}else{if(1===arguments.length)return this.options[i]===t?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,n,s){var o,r=this;"boolean"!=typeof i&&(s=n,n=i,i=!1),s?(n=o=e(n),this.bindings=this.bindings.add(n)):(s=n,n=this.element,o=this.widget()),e.each(s,function(s,a){function l(){return i||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?r[a]:a).apply(r,arguments):t}"string"!=typeof a&&(l.guid=a.guid=a.guid||l.guid||e.guid++);var c=s.match(/^(\w+)\s*(.*)$/),h=c[1]+r.eventNamespace,u=c[2];u?o.delegate(u,h,l):n.bind(h,l)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var s,o,r=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,s,o){"string"==typeof s&&(s={effect:s});var r,a=s?s===!0||"number"==typeof s?i:s.effect||i:t;s=s||{},"number"==typeof s&&(s={duration:s}),r=!e.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),r&&e.effects&&e.effects.effect[a]?n[t](s):a!==t&&n[a]?n[a](s.duration,s.easing,o):n.queue(function(i){e(this)[t](),o&&o.call(n[0]),i()})}})}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=1===i.which,o="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return s&&!o&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,s=this.options;return s.containment?"window"===s.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===s.containment?void(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):s.containment.constructor===Array?void(this.containment=s.containment):("parent"===s.containment&&(s.containment=this.helper[0].parentNode),i=e(s.containment),n=i[0],void(n&&(t="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:s.scrollTop(),left:s.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(t){var i,n,s,o,r=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,c=t.pageY;return this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),r.grid&&(s=r.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,c=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-r.grid[1]:s+r.grid[1]:s,o=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-r.grid[0]:o+r.grid[0]:o)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var n=e(this).data("ui-draggable"),s=n.options,o=e.extend({},i,{item:n.element});n.sortables=[],e(s.connectToSortable).each(function(){var i=e.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,o))})},stop:function(t,i){var n=e(this).data("ui-draggable"),s=e.extend({},i,{item:n.element});e.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,s))})},drag:function(t,i){var n=e(this).data("ui-draggable"),s=this;e.each(n.sortables,function(){var o=!1,r=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,e.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==r&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(r.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(s).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",t),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",t),n.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var n=e(i.helper),s=e(this).data("ui-draggable").options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("ui-draggable"),n=i.options,s=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(document).scrollTop()<n.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(document).scrollLeft()<n.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=e(this),n=i.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(t,i){var n,s,o,r,a,l,c,h,u,d,f=e(this).data("ui-draggable"),p=f.options,g=p.snapTolerance,m=i.offset.left,v=m+f.helperProportions.width,y=i.offset.top,b=y+f.helperProportions.height;for(u=f.snapElements.length-1;u>=0;u--)a=f.snapElements[u].left,l=a+f.snapElements[u].width,c=f.snapElements[u].top,h=c+f.snapElements[u].height,a-g>v||m>l+g||c-g>b||y>h+g||!e.contains(f.snapElements[u].item.ownerDocument,f.snapElements[u].item)?(f.snapElements[u].snapping&&f.options.snap.release&&f.options.snap.release.call(f.element,t,e.extend(f._uiHash(),{snapItem:f.snapElements[u].item})),f.snapElements[u].snapping=!1):("inner"!==p.snapMode&&(n=g>=Math.abs(c-b),s=g>=Math.abs(h-y),o=g>=Math.abs(a-v),r=g>=Math.abs(l-m),n&&(i.position.top=f._convertPositionTo("relative",{top:c-f.helperProportions.height,left:0}).top-f.margins.top),s&&(i.position.top=f._convertPositionTo("relative",{top:h,left:0}).top-f.margins.top),o&&(i.position.left=f._convertPositionTo("relative",{top:0,left:a-f.helperProportions.width}).left-f.margins.left),r&&(i.position.left=f._convertPositionTo("relative",{top:0,left:l}).left-f.margins.left)),d=n||s||o||r,"outer"!==p.snapMode&&(n=g>=Math.abs(c-y),s=g>=Math.abs(h-b),o=g>=Math.abs(a-m),r=g>=Math.abs(l-v),n&&(i.position.top=f._convertPositionTo("relative",{top:c,left:0}).top-f.margins.top),s&&(i.position.top=f._convertPositionTo("relative",{top:h-f.helperProportions.height,left:0}).top-f.margins.top),o&&(i.position.left=f._convertPositionTo("relative",{top:0,left:a}).left-f.margins.left),r&&(i.position.left=f._convertPositionTo("relative",{top:0,left:l-f.helperProportions.width}).left-f.margins.left)),!f.snapElements[u].snapping&&(n||s||o||r||d)&&f.options.snap.snap&&f.options.snap.snap.call(f.element,t,e.extend(f._uiHash(),{snapItem:f.snapElements[u].item})),f.snapElements[u].snapping=n||s||o||r||d)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,i=this.data("ui-draggable").options,n=e.makeArray(e(i.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});n.length&&(t=parseInt(e(n[0]).css("zIndex"),10)||0,e(n).each(function(i){e(this).css("zIndex",t+i)}),this.css("zIndex",t+n.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var n=e(i.helper),s=e(this).data("ui-draggable").options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(e){function t(e){return parseInt(e,10)||0}function i(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,i,n,s,o,r=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)n=e.trim(t[i]),o="ui-resizable-"+n,s=e("<div class='ui-resizable-handle "+o+"'></div>"),s.css({zIndex:a.zIndex}),"se"===n&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(s);
this._renderAxis=function(t){var i,n,s,o;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=e(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),s=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(s,o),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=s&&s[1]?s[1]:"se")}),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){a.disabled||r.resizing||(e(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,s=!1;for(i in this.handles)n=e(this.handles[i])[0],(n===t.target||e.contains(n,t.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(i){var n,s,o,r=this.options,a=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy(),n=t(this.helper.css("left")),s=t(this.helper.css("top")),r.containment&&(n+=e(r.containment).scrollLeft()||0,s+=e(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:s},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===o?this.axis+"-resize":o),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(t){var i,n=this.helper,s={},o=this.originalMousePosition,r=this.axis,a=this.position.top,l=this.position.left,c=this.size.width,h=this.size.height,u=t.pageX-o.left||0,d=t.pageY-o.top||0,f=this._change[r];return f?(i=f.apply(this,[t,u,d]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==a&&(s.top=this.position.top+"px"),this.position.left!==l&&(s.left=this.position.left+"px"),this.size.width!==c&&(s.width=this.size.width+"px"),this.size.height!==h&&(s.height=this.size.height+"px"),n.css(s),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,n,s,o,r,a,l,c=this.options,h=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),s=n&&e.ui.hasScroll(i[0],"left")?0:h.sizeDiff.height,o=n?0:h.sizeDiff.width,r={width:h.helper.width()-o,height:h.helper.height()-s},a=parseInt(h.element.css("left"),10)+(h.position.left-h.originalPosition.left)||null,l=parseInt(h.element.css("top"),10)+(h.position.top-h.originalPosition.top)||null,c.animate||this.element.css(e.extend(r,{top:l,left:a})),h.helper.height(h.size.height),h.helper.width(h.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,s,o,r,a=this.options;r={minWidth:i(a.minWidth)?a.minWidth:0,maxWidth:i(a.maxWidth)?a.maxWidth:1/0,minHeight:i(a.minHeight)?a.minHeight:0,maxHeight:i(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=r.minHeight*this.aspectRatio,s=r.minWidth/this.aspectRatio,n=r.maxHeight*this.aspectRatio,o=r.maxWidth/this.aspectRatio,t>r.minWidth&&(r.minWidth=t),s>r.minHeight&&(r.minHeight=s),r.maxWidth>n&&(r.maxWidth=n),r.maxHeight>o&&(r.maxHeight=o)),this._vBoundaries=r},_updateCache:function(e){this.offset=this.helper.offset(),i(e.left)&&(this.position.left=e.left),i(e.top)&&(this.position.top=e.top),i(e.height)&&(this.size.height=e.height),i(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,s=this.axis;return i(e.height)?e.width=e.height*this.aspectRatio:i(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,s=i(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=i(e.height)&&t.maxHeight&&t.maxHeight<e.height,r=i(e.width)&&t.minWidth&&t.minWidth>e.width,a=i(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,h=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return r&&(e.width=t.minWidth),a&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),r&&h&&(e.left=l-t.minWidth),s&&h&&(e.left=l-t.maxWidth),a&&u&&(e.top=c-t.minHeight),o&&u&&(e.top=c-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,n,s,o=this.helper||this.element;for(e=0;this._proportionallyResizeElements.length>e;e++){if(s=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[s.css("borderTopWidth"),s.css("borderRightWidth"),s.css("borderBottomWidth"),s.css("borderLeftWidth")],n=[s.css("paddingTop"),s.css("paddingRight"),s.css("paddingBottom"),s.css("paddingLeft")],t=0;i.length>t;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(n[t],10)||0);s.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,n=this.originalPosition;return{left:n.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize,s=this.originalPosition;return{top:s.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).data("ui-resizable"),n=i.options,s=i._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),r=o&&e.ui.hasScroll(s[0],"left")?0:i.sizeDiff.height,a=o?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-r},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,h=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,h&&c?{top:h,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};s&&s.length&&e(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var i,n,s,o,r,a,l,c=e(this).data("ui-resizable"),h=c.options,u=c.element,d=h.containment,f=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;f&&(c.containerElement=e(f),/document/.test(d)||d===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(i=e(f),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,s){n[e]=t(i.css("padding"+s))}),c.containerOffset=i.offset(),c.containerPosition=i.position(),c.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},s=c.containerOffset,o=c.containerSize.height,r=c.containerSize.width,a=e.ui.hasScroll(f,"left")?f.scrollWidth:r,l=e.ui.hasScroll(f)?f.scrollHeight:o,c.parentData={element:f,left:s.left,top:s.top,width:a,height:l}))},resize:function(t){var i,n,s,o,r=e(this).data("ui-resizable"),a=r.options,l=r.containerOffset,c=r.position,h=r._aspectRatio||t.shiftKey,u={top:0,left:0},d=r.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(u=l),c.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-u.left),h&&(r.size.height=r.size.width/r.aspectRatio),r.position.left=a.helper?l.left:0),c.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),h&&(r.size.width=r.size.height*r.aspectRatio),r.position.top=r._helper?l.top:0),r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top,i=Math.abs((r._helper?r.offset.left-u.left:r.offset.left-u.left)+r.sizeDiff.width),n=Math.abs((r._helper?r.offset.top-u.top:r.offset.top-l.top)+r.sizeDiff.height),s=r.containerElement.get(0)===r.element.parent().get(0),o=/relative|absolute/.test(r.containerElement.css("position")),s&&o&&(i-=Math.abs(r.parentData.left)),i+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-i,h&&(r.size.height=r.size.width/r.aspectRatio)),n+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-n,h&&(r.size.width=r.size.height*r.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.containerOffset,s=t.containerPosition,o=t.containerElement,r=e(t.helper),a=r.offset(),l=r.outerWidth()-t.sizeDiff.width,c=r.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(o.css("position"))&&e(this).css({left:a.left-s.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(o.css("position"))&&e(this).css({left:a.left-s.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):e.each(i.alsoResize,function(e){n(e)})},resize:function(t,i){var n=e(this).data("ui-resizable"),s=n.options,o=n.originalSize,r=n.originalPosition,a={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-r.top||0,left:n.position.left-r.left||0},l=function(t,n){e(t).each(function(){var t=e(this),s=e(this).data("ui-resizable-alsoresize"),o={},r=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(r,function(e,t){var i=(s[t]||0)+(a[t]||0);i&&i>=0&&(o[t]=i||null)}),t.css(o)})};"object"!=typeof s.alsoResize||s.alsoResize.nodeType?l(s.alsoResize):e.each(s.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size,s=t.originalSize,o=t.originalPosition,r=t.axis,a="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=a[0]||1,c=a[1]||1,h=Math.round((n.width-s.width)/l)*l,u=Math.round((n.height-s.height)/c)*c,d=s.width+h,f=s.height+u,p=i.maxWidth&&d>i.maxWidth,g=i.maxHeight&&f>i.maxHeight,m=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>f;i.grid=a,m&&(d+=l),v&&(f+=c),p&&(d-=l),g&&(f-=c),/^(se|s|e)$/.test(r)?(t.size.width=d,t.size.height=f):/^(ne)$/.test(r)?(t.size.width=d,t.size.height=f,t.position.top=o.top-u):/^(sw)$/.test(r)?(t.size.width=d,t.size.height=f,t.position.left=o.left-h):(f-c>0?(t.size.height=f,t.position.top=o.top-u):(t.size.height=c,t.position.top=o.top+s.height-c),d-l>0?(t.size.width=d,t.position.left=o.left-h):(t.size.width=l,t.position.left=o.left+s.width-l))}})}(jQuery),/*!
 * File:        jquery.dataTables.min.js
 * Version:     1.9.4
 * Author:      Allan Jardine (www.sprymedia.co.uk)
 * Info:        www.datatables.net
 *
 * Copyright 2008-2012 Allan Jardine, all rights reserved.
 *
 * This source file is free software, under either the GPL v2 license or a
 * BSD style license, available at:
 *   http://datatables.net/license_gpl2
 *   http://datatables.net/license_bsd
 *
 * This source file is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 */
function(X,l,n){var L=function(h){var j=function(e){function o(e,t){var i=j.defaults.columns,s=e.aoColumns.length,i=h.extend({},j.models.oColumn,i,{sSortingClass:e.oClasses.sSortable,sSortingClassJUI:e.oClasses.sSortJUI,nTh:t?t:l.createElement("th"),sTitle:i.sTitle?i.sTitle:t?t.innerHTML:"",aDataSort:i.aDataSort?i.aDataSort:[s],mData:i.mData?i.oDefaults:s});e.aoColumns.push(i),e.aoPreSearchCols[s]===n||null===e.aoPreSearchCols[s]?e.aoPreSearchCols[s]=h.extend({},j.models.oSearch):(i=e.aoPreSearchCols[s],i.bRegex===n&&(i.bRegex=!0),i.bSmart===n&&(i.bSmart=!0),i.bCaseInsensitive===n&&(i.bCaseInsensitive=!0)),m(e,s,null)}function m(e,t,i){var s=e.aoColumns[t];i!==n&&null!==i&&(i.mDataProp&&!i.mData&&(i.mData=i.mDataProp),i.sType!==n&&(s.sType=i.sType,s._bAutoType=!1),h.extend(s,i),p(s,i,"sWidth","sWidthOrig"),i.iDataSort!==n&&(s.aDataSort=[i.iDataSort]),p(s,i,"aDataSort"));var o=s.mRender?Q(s.mRender):null,r=Q(s.mData);s.fnGetData=function(e,t){var i=r(e,t);return s.mRender&&t&&""!==t?o(i,t,e):i},s.fnSetData=L(s.mData),e.oFeatures.bSort||(s.bSortable=!1),!s.bSortable||-1==h.inArray("asc",s.asSorting)&&-1==h.inArray("desc",s.asSorting)?(s.sSortingClass=e.oClasses.sSortableNone,s.sSortingClassJUI=""):-1==h.inArray("asc",s.asSorting)&&-1==h.inArray("desc",s.asSorting)?(s.sSortingClass=e.oClasses.sSortable,s.sSortingClassJUI=e.oClasses.sSortJUI):-1!=h.inArray("asc",s.asSorting)&&-1==h.inArray("desc",s.asSorting)?(s.sSortingClass=e.oClasses.sSortableAsc,s.sSortingClassJUI=e.oClasses.sSortJUIAscAllowed):-1==h.inArray("asc",s.asSorting)&&-1!=h.inArray("desc",s.asSorting)&&(s.sSortingClass=e.oClasses.sSortableDesc,s.sSortingClassJUI=e.oClasses.sSortJUIDescAllowed)}function k(e){if(!1===e.oFeatures.bAutoWidth)return!1;da(e);for(var t=0,i=e.aoColumns.length;i>t;t++)e.aoColumns[t].nTh.style.width=e.aoColumns[t].sWidth}function G(e,t){var i=r(e,"bVisible");return"number"==typeof i[t]?i[t]:null}function R(e,t){var i=r(e,"bVisible"),i=h.inArray(t,i);return-1!==i?i:null}function t(e){return r(e,"bVisible").length}function r(e,t){var i=[];return h.map(e.aoColumns,function(e,n){e[t]&&i.push(n)}),i}function B(e){for(var t=j.ext.aTypes,i=t.length,n=0;i>n;n++){var s=t[n](e);if(null!==s)return s}return"string"}function u(e,t){for(var i=t.split(","),n=[],s=0,o=e.aoColumns.length;o>s;s++)for(var r=0;o>r;r++)if(e.aoColumns[s].sName==i[r]){n.push(r);break}return n}function M(e){for(var t="",i=0,n=e.aoColumns.length;n>i;i++)t+=e.aoColumns[i].sName+",";return t.length==n?"":t.slice(0,-1)}function ta(e,t,i,n){var s,r,a,l,c;if(t)for(s=t.length-1;s>=0;s--){var u=t[s].aTargets;for(h.isArray(u)||D(e,1,"aTargets must be an array of targets, not a "+typeof u),r=0,a=u.length;a>r;r++)if("number"==typeof u[r]&&0<=u[r]){for(;e.aoColumns.length<=u[r];)o(e);n(u[r],t[s])}else if("number"==typeof u[r]&&0>u[r])n(e.aoColumns.length+u[r],t[s]);else if("string"==typeof u[r])for(l=0,c=e.aoColumns.length;c>l;l++)("_all"==u[r]||h(e.aoColumns[l].nTh).hasClass(u[r]))&&n(l,t[s])}if(i)for(s=0,e=i.length;e>s;s++)n(s,i[s])}function H(e,t){var i;i=h.isArray(t)?t.slice():h.extend(!0,{},t);var n=e.aoData.length,s=h.extend(!0,{},j.models.oRow);s._aData=i,e.aoData.push(s);for(var o,s=0,r=e.aoColumns.length;r>s;s++)i=e.aoColumns[s],"function"==typeof i.fnRender&&i.bUseRendered&&null!==i.mData?F(e,n,s,S(e,n,s)):F(e,n,s,v(e,n,s)),i._bAutoType&&"string"!=i.sType&&(o=v(e,n,s,"type"),null!==o&&""!==o&&(o=B(o),null===i.sType?i.sType=o:i.sType!=o&&"html"!=i.sType&&(i.sType="string")));return e.aiDisplayMaster.push(n),e.oFeatures.bDeferRender||ea(e,n),n}function ua(e){var t,i,n,s,o,r,a;if(e.bDeferLoading||null===e.sAjaxSource)for(t=e.nTBody.firstChild;t;){if("TR"==t.nodeName.toUpperCase())for(i=e.aoData.length,t._DT_RowIndex=i,e.aoData.push(h.extend(!0,{},j.models.oRow,{nTr:t})),e.aiDisplayMaster.push(i),o=t.firstChild,n=0;o;)r=o.nodeName.toUpperCase(),("TD"==r||"TH"==r)&&(F(e,i,n,h.trim(o.innerHTML)),n++),o=o.nextSibling;t=t.nextSibling}for(s=T(e),n=[],t=0,i=s.length;i>t;t++)for(o=s[t].firstChild;o;)r=o.nodeName.toUpperCase(),("TD"==r||"TH"==r)&&n.push(o),o=o.nextSibling;for(i=0,s=e.aoColumns.length;s>i;i++){a=e.aoColumns[i],null===a.sTitle&&(a.sTitle=a.nTh.innerHTML);var l,c,u=a._bAutoType,d="function"==typeof a.fnRender,f=null!==a.sClass,p=a.bVisible;if(u||d||f||!p)for(r=0,t=e.aoData.length;t>r;r++)o=e.aoData[r],l=n[r*s+i],u&&"string"!=a.sType&&(c=v(e,r,i,"type"),""!==c&&(c=B(c),null===a.sType?a.sType=c:a.sType!=c&&"html"!=a.sType&&(a.sType="string"))),a.mRender?l.innerHTML=v(e,r,i,"display"):a.mData!==i&&(l.innerHTML=v(e,r,i,"display")),d&&(c=S(e,r,i),l.innerHTML=c,a.bUseRendered&&F(e,r,i,c)),f&&(l.className+=" "+a.sClass),p?o._anHidden[i]=null:(o._anHidden[i]=l,l.parentNode.removeChild(l)),a.fnCreatedCell&&a.fnCreatedCell.call(e.oInstance,l,v(e,r,i,"display"),o._aData,r,i)}if(0!==e.aoRowCreatedCallback.length)for(t=0,i=e.aoData.length;i>t;t++)o=e.aoData[t],A(e,"aoRowCreatedCallback",null,[o.nTr,o._aData,t])}function I(e,t){return t._DT_RowIndex!==n?t._DT_RowIndex:null}function fa(e,t,i){for(var t=J(e,t),n=0,e=e.aoColumns.length;e>n;n++)if(t[n]===i)return n;return-1}function Y(e,t,i,n){for(var s=[],o=0,r=n.length;r>o;o++)s.push(v(e,t,n[o],i));return s}function v(e,t,i,s){var o=e.aoColumns[i];if((i=o.fnGetData(e.aoData[t]._aData,s))===n)return e.iDrawError!=e.iDraw&&null===o.sDefaultContent&&(D(e,0,"Requested unknown parameter "+("function"==typeof o.mData?"{mData function}":"'"+o.mData+"'")+" from the data source for row "+t),e.iDrawError=e.iDraw),o.sDefaultContent;if(null===i&&null!==o.sDefaultContent)i=o.sDefaultContent;else if("function"==typeof i)return i();return"display"==s&&null===i?"":i}function F(e,t,i,n){e.aoColumns[i].fnSetData(e.aoData[t]._aData,n)}function Q(e){if(null===e)return function(){return null};if("function"==typeof e)return function(t,i,n){return e(t,i,n)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("["))){var t=function(e,i,s){var o,r=s.split(".");if(""!==s){var a=0;for(o=r.length;o>a;a++){if(s=r[a].match(U)){r[a]=r[a].replace(U,""),""!==r[a]&&(e=e[r[a]]),o=[],r.splice(0,a+1);for(var r=r.join("."),a=0,l=e.length;l>a;a++)o.push(t(e[a],i,r));e=s[0].substring(1,s[0].length-1),e=""===e?o:o.join(e);break}if(null===e||e[r[a]]===n)return n;e=e[r[a]]}}return e};return function(i,n){return t(i,n,e)}}return function(t){return t[e]}}function L(e){if(null===e)return function(){};if("function"==typeof e)return function(t,i){e(t,"set",i)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("["))){var t=function(e,i,s){var o,r,s=s.split("."),a=0;for(r=s.length-1;r>a;a++){if(o=s[a].match(U)){s[a]=s[a].replace(U,""),e[s[a]]=[],o=s.slice(),o.splice(0,a+1),r=o.join(".");for(var l=0,c=i.length;c>l;l++)o={},t(o,i[l],r),e[s[a]].push(o);return}(null===e[s[a]]||e[s[a]]===n)&&(e[s[a]]={}),e=e[s[a]]}e[s[s.length-1].replace(U,"")]=i};return function(i,n){return t(i,n,e)}}return function(t,i){t[e]=i}}function Z(e){for(var t=[],i=e.aoData.length,n=0;i>n;n++)t.push(e.aoData[n]._aData);return t}function ga(e){e.aoData.splice(0,e.aoData.length),e.aiDisplayMaster.splice(0,e.aiDisplayMaster.length),e.aiDisplay.splice(0,e.aiDisplay.length),y(e)}function ha(e,t){for(var i=-1,n=0,s=e.length;s>n;n++)e[n]==t?i=n:e[n]>t&&e[n]--;-1!=i&&e.splice(i,1)}function S(e,t,i){var n=e.aoColumns[i];return n.fnRender({iDataRow:t,iDataColumn:i,oSettings:e,aData:e.aoData[t]._aData,mDataProp:n.mData},v(e,t,i,"display"))}function ea(e,t){var i,n=e.aoData[t];if(null===n.nTr){n.nTr=l.createElement("tr"),n.nTr._DT_RowIndex=t,n._aData.DT_RowId&&(n.nTr.id=n._aData.DT_RowId),n._aData.DT_RowClass&&(n.nTr.className=n._aData.DT_RowClass);for(var s=0,o=e.aoColumns.length;o>s;s++){var r=e.aoColumns[s];i=l.createElement(r.sCellType),i.innerHTML="function"!=typeof r.fnRender||r.bUseRendered&&null!==r.mData?v(e,t,s,"display"):S(e,t,s),null!==r.sClass&&(i.className=r.sClass),r.bVisible?(n.nTr.appendChild(i),n._anHidden[s]=null):n._anHidden[s]=i,r.fnCreatedCell&&r.fnCreatedCell.call(e.oInstance,i,v(e,t,s,"display"),n._aData,t,s)}A(e,"aoRowCreatedCallback",null,[n.nTr,n._aData,t])}}function va(e){var t,i,n;if(0!==h("th, td",e.nTHead).length)for(t=0,n=e.aoColumns.length;n>t;t++)i=e.aoColumns[t].nTh,i.setAttribute("role","columnheader"),e.aoColumns[t].bSortable&&(i.setAttribute("tabindex",e.iTabIndex),i.setAttribute("aria-controls",e.sTableId)),null!==e.aoColumns[t].sClass&&h(i).addClass(e.aoColumns[t].sClass),e.aoColumns[t].sTitle!=i.innerHTML&&(i.innerHTML=e.aoColumns[t].sTitle);else{var s=l.createElement("tr");for(t=0,n=e.aoColumns.length;n>t;t++)i=e.aoColumns[t].nTh,i.innerHTML=e.aoColumns[t].sTitle,i.setAttribute("tabindex","0"),null!==e.aoColumns[t].sClass&&h(i).addClass(e.aoColumns[t].sClass),s.appendChild(i);h(e.nTHead).html("")[0].appendChild(s),V(e.aoHeader,e.nTHead)}if(h(e.nTHead).children("tr").attr("role","row"),e.bJUI)for(t=0,n=e.aoColumns.length;n>t;t++){i=e.aoColumns[t].nTh,s=l.createElement("div"),s.className=e.oClasses.sSortJUIWrapper,h(i).contents().appendTo(s);var o=l.createElement("span");o.className=e.oClasses.sSortIcon,s.appendChild(o),i.appendChild(s)}if(e.oFeatures.bSort)for(t=0;t<e.aoColumns.length;t++)!1!==e.aoColumns[t].bSortable?ia(e,e.aoColumns[t].nTh,t):h(e.aoColumns[t].nTh).addClass(e.oClasses.sSortableNone);if(""!==e.oClasses.sFooterTH&&h(e.nTFoot).children("tr").children("th").addClass(e.oClasses.sFooterTH),null!==e.nTFoot)for(i=N(e,null,e.aoFooter),t=0,n=e.aoColumns.length;n>t;t++)i[t]&&(e.aoColumns[t].nTf=i[t],e.aoColumns[t].sClass&&h(i[t]).addClass(e.aoColumns[t].sClass))}function W(e,t,i){var s,o,r,a,l=[],c=[],h=e.aoColumns.length;for(i===n&&(i=!1),s=0,o=t.length;o>s;s++){for(l[s]=t[s].slice(),l[s].nTr=t[s].nTr,r=h-1;r>=0;r--)!e.aoColumns[r].bVisible&&!i&&l[s].splice(r,1);c.push([])}for(s=0,o=l.length;o>s;s++){if(e=l[s].nTr)for(;r=e.firstChild;)e.removeChild(r);for(r=0,t=l[s].length;t>r;r++)if(a=h=1,c[s][r]===n){for(e.appendChild(l[s][r].cell),c[s][r]=1;l[s+h]!==n&&l[s][r].cell==l[s+h][r].cell;)c[s+h][r]=1,h++;for(;l[s][r+a]!==n&&l[s][r].cell==l[s][r+a].cell;){for(i=0;h>i;i++)c[s+i][r+a]=1;a++}l[s][r].cell.rowSpan=h,l[s][r].cell.colSpan=a}}}function x(e){var i=A(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==h.inArray(!1,i))E(e,!1);else{var s,o,i=[],r=0,a=e.asStripeClasses.length;if(s=e.aoOpenRows.length,e.bDrawing=!0,e.iInitDisplayStart!==n&&-1!=e.iInitDisplayStart&&(e._iDisplayStart=e.oFeatures.bServerSide?e.iInitDisplayStart:e.iInitDisplayStart>=e.fnRecordsDisplay()?0:e.iInitDisplayStart,e.iInitDisplayStart=-1,y(e)),e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++;else if(e.oFeatures.bServerSide){if(!e.bDestroying&&!wa(e))return}else e.iDraw++;if(0!==e.aiDisplay.length){var c=e._iDisplayStart;for(o=e._iDisplayEnd,e.oFeatures.bServerSide&&(c=0,o=e.aoData.length);o>c;c++){var u=e.aoData[e.aiDisplay[c]];null===u.nTr&&ea(e,e.aiDisplay[c]);var d=u.nTr;if(0!==a){var f=e.asStripeClasses[r%a];u._sRowStripe!=f&&(h(d).removeClass(u._sRowStripe).addClass(f),u._sRowStripe=f)}if(A(e,"aoRowCallback",null,[d,e.aoData[e.aiDisplay[c]]._aData,r,c]),i.push(d),r++,0!==s)for(u=0;s>u;u++)if(d==e.aoOpenRows[u].nParent){i.push(e.aoOpenRows[u].nTr);break}}}else i[0]=l.createElement("tr"),e.asStripeClasses[0]&&(i[0].className=e.asStripeClasses[0]),s=e.oLanguage,a=s.sZeroRecords,1!=e.iDraw||null===e.sAjaxSource||e.oFeatures.bServerSide?s.sEmptyTable&&0===e.fnRecordsTotal()&&(a=s.sEmptyTable):a=s.sLoadingRecords,s=l.createElement("td"),s.setAttribute("valign","top"),s.colSpan=t(e),s.className=e.oClasses.sRowEmpty,s.innerHTML=ja(e,a),i[r].appendChild(s);if(A(e,"aoHeaderCallback","header",[h(e.nTHead).children("tr")[0],Z(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]),A(e,"aoFooterCallback","footer",[h(e.nTFoot).children("tr")[0],Z(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]),r=l.createDocumentFragment(),s=l.createDocumentFragment(),e.nTBody){if(a=e.nTBody.parentNode,s.appendChild(e.nTBody),!e.oScroll.bInfinite||!e._bInitComplete||e.bSorted||e.bFiltered)for(;s=e.nTBody.firstChild;)e.nTBody.removeChild(s);for(s=0,o=i.length;o>s;s++)r.appendChild(i[s]);e.nTBody.appendChild(r),null!==a&&a.appendChild(e.nTBody)}A(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1,e.oFeatures.bServerSide&&(E(e,!1),e._bInitComplete||$(e))}}function aa(e){e.oFeatures.bSort?O(e,e.oPreviousSearch):e.oFeatures.bFilter?K(e,e.oPreviousSearch):(y(e),x(e))}function xa(e){var t=h("<div></div>")[0];e.nTable.parentNode.insertBefore(t,e.nTable),e.nTableWrapper=h('<div id="'+e.sTableId+'_wrapper" class="'+e.oClasses.sWrapper+'" role="grid"></div>')[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var i,n,s,o,r,a,l,c=e.nTableWrapper,u=e.sDom.split(""),d=0;d<u.length;d++){if(n=0,s=u[d],"<"==s){if(o=h("<div></div>")[0],r=u[d+1],"'"==r||'"'==r){for(a="",l=2;u[d+l]!=r;)a+=u[d+l],l++;"H"==a?a=e.oClasses.sJUIHeader:"F"==a&&(a=e.oClasses.sJUIFooter),-1!=a.indexOf(".")?(r=a.split("."),o.id=r[0].substr(1,r[0].length-1),o.className=r[1]):"#"==a.charAt(0)?o.id=a.substr(1,a.length-1):o.className=a,d+=l}c.appendChild(o),c=o}else if(">"==s)c=c.parentNode;else if("l"==s&&e.oFeatures.bPaginate&&e.oFeatures.bLengthChange)i=ya(e),n=1;else if("f"==s&&e.oFeatures.bFilter)i=za(e),n=1;else if("r"==s&&e.oFeatures.bProcessing)i=Aa(e),n=1;else if("t"==s)i=Ba(e),n=1;else if("i"==s&&e.oFeatures.bInfo)i=Ca(e),n=1;else if("p"==s&&e.oFeatures.bPaginate)i=Da(e),n=1;else if(0!==j.ext.aoFeatures.length)for(o=j.ext.aoFeatures,l=0,r=o.length;r>l;l++)if(s==o[l].cFeature){(i=o[l].fnInit(e))&&(n=1);break}1==n&&null!==i&&("object"!=typeof e.aanFeatures[s]&&(e.aanFeatures[s]=[]),e.aanFeatures[s].push(i),c.appendChild(i))}t.parentNode.replaceChild(e.nTableWrapper,t)}function V(e,t){var i,n,s,o,r,a,l,c,u,d,f=h(t).children("tr");for(e.splice(0,e.length),s=0,a=f.length;a>s;s++)e.push([]);for(s=0,a=f.length;a>s;s++)for(i=f[s],n=i.firstChild;n;){if("TD"==n.nodeName.toUpperCase()||"TH"==n.nodeName.toUpperCase()){for(c=1*n.getAttribute("colspan"),u=1*n.getAttribute("rowspan"),c=c&&0!==c&&1!==c?c:1,u=u&&0!==u&&1!==u?u:1,o=0,r=e[s];r[o];)o++;for(l=o,d=1===c?!0:!1,r=0;c>r;r++)for(o=0;u>o;o++)e[s+o][l+r]={cell:n,unique:d},e[s+o].nTr=i}n=n.nextSibling}}function N(e,t,i){var n=[];i||(i=e.aoHeader,t&&(i=[],V(i,t)));for(var t=0,s=i.length;s>t;t++)for(var o=0,r=i[t].length;r>o;o++)!i[t][o].unique||n[o]&&e.bSortCellsTop||(n[o]=i[t][o].cell);return n}function wa(e){if(e.bAjaxDataGet){e.iDraw++,E(e,!0);var t=Ea(e);return ka(e,t),e.fnServerData.call(e.oInstance,e.sAjaxSource,t,function(t){Fa(e,t)},e),!1}return!0}function Ea(e){var t,i,n,s,o=e.aoColumns.length,r=[];for(r.push({name:"sEcho",value:e.iDraw}),r.push({name:"iColumns",value:o}),r.push({name:"sColumns",value:M(e)}),r.push({name:"iDisplayStart",value:e._iDisplayStart}),r.push({name:"iDisplayLength",value:!1!==e.oFeatures.bPaginate?e._iDisplayLength:-1}),n=0;o>n;n++)t=e.aoColumns[n].mData,r.push({name:"mDataProp_"+n,value:"function"==typeof t?"function":t});if(!1!==e.oFeatures.bFilter)for(r.push({name:"sSearch",value:e.oPreviousSearch.sSearch}),r.push({name:"bRegex",value:e.oPreviousSearch.bRegex}),n=0;o>n;n++)r.push({name:"sSearch_"+n,value:e.aoPreSearchCols[n].sSearch}),r.push({name:"bRegex_"+n,value:e.aoPreSearchCols[n].bRegex}),r.push({name:"bSearchable_"+n,value:e.aoColumns[n].bSearchable});if(!1!==e.oFeatures.bSort){var a=0;for(t=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),n=0;n<t.length;n++)for(i=e.aoColumns[t[n][0]].aDataSort,s=0;s<i.length;s++)r.push({name:"iSortCol_"+a,value:i[s]}),r.push({name:"sSortDir_"+a,value:t[n][1]}),a++;for(r.push({name:"iSortingCols",value:a}),n=0;o>n;n++)r.push({name:"bSortable_"+n,value:e.aoColumns[n].bSortable})}return r}function ka(e,t){A(e,"aoServerParams","serverParams",[t])}function Fa(e,t){if(t.sEcho!==n){if(1*t.sEcho<e.iDraw)return;e.iDraw=1*t.sEcho}(!e.oScroll.bInfinite||e.oScroll.bInfinite&&(e.bSorted||e.bFiltered))&&ga(e),e._iRecordsTotal=parseInt(t.iTotalRecords,10),e._iRecordsDisplay=parseInt(t.iTotalDisplayRecords,10);var i,s=M(e),s=t.sColumns!==n&&""!==s&&t.sColumns!=s;s&&(i=u(e,t.sColumns));for(var o=Q(e.sAjaxDataProp)(t),r=0,a=o.length;a>r;r++)if(s){for(var l=[],c=0,h=e.aoColumns.length;h>c;c++)l.push(o[r][i[c]]);H(e,l)}else H(e,o[r]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,x(e),e.bAjaxDataGet=!0,E(e,!1)}function za(e){var t=e.oPreviousSearch,i=e.oLanguage.sSearch,i=-1!==i.indexOf("_INPUT_")?i.replace("_INPUT_",'<input type="text" />'):""===i?'<input type="text" />':i+' <input type="text" />',n=l.createElement("div");return n.className=e.oClasses.sFilter,n.innerHTML="<label>"+i+"</label>",e.aanFeatures.f||(n.id=e.sTableId+"_filter"),i=h('input[type="text"]',n),n._DT_Input=i[0],i.val(t.sSearch.replace('"',"&quot;")),i.bind("keyup.DT",function(){for(var i=e.aanFeatures.f,n=""===this.value?"":this.value,s=0,o=i.length;o>s;s++)i[s]!=h(this).parents("div.dataTables_filter")[0]&&h(i[s]._DT_Input).val(n);n!=t.sSearch&&K(e,{sSearch:n,bRegex:t.bRegex,bSmart:t.bSmart,bCaseInsensitive:t.bCaseInsensitive})}),i.attr("aria-controls",e.sTableId).bind("keypress.DT",function(e){return 13==e.keyCode?!1:void 0}),n}function K(e,t,i){var n=e.oPreviousSearch,s=e.aoPreSearchCols,o=function(e){n.sSearch=e.sSearch,n.bRegex=e.bRegex,n.bSmart=e.bSmart,n.bCaseInsensitive=e.bCaseInsensitive};if(e.oFeatures.bServerSide)o(t);else{for(Ga(e,t.sSearch,i,t.bRegex,t.bSmart,t.bCaseInsensitive),o(t),t=0;t<e.aoPreSearchCols.length;t++)Ha(e,s[t].sSearch,t,s[t].bRegex,s[t].bSmart,s[t].bCaseInsensitive);Ia(e)}e.bFiltered=!0,h(e.oInstance).trigger("filter",e),e._iDisplayStart=0,y(e),x(e),la(e,0)}function Ia(e){for(var t=j.ext.afnFiltering,i=r(e,"bSearchable"),n=0,s=t.length;s>n;n++)for(var o=0,a=0,l=e.aiDisplay.length;l>a;a++){var c=e.aiDisplay[a-o];t[n](e,Y(e,c,"filter",i),c)||(e.aiDisplay.splice(a-o,1),o++)}}function Ha(e,t,i,n,s,o){if(""!==t)for(var r=0,t=ma(t,n,s,o),n=e.aiDisplay.length-1;n>=0;n--)s=Ja(v(e,e.aiDisplay[n],i,"filter"),e.aoColumns[i].sType),t.test(s)||(e.aiDisplay.splice(n,1),r++)}function Ga(e,t,i,n,s,o){if(n=ma(t,n,s,o),s=e.oPreviousSearch,i||(i=0),0!==j.ext.afnFiltering.length&&(i=1),0>=t.length)e.aiDisplay.splice(0,e.aiDisplay.length),e.aiDisplay=e.aiDisplayMaster.slice();else if(e.aiDisplay.length==e.aiDisplayMaster.length||s.sSearch.length>t.length||1==i||0!==t.indexOf(s.sSearch))for(e.aiDisplay.splice(0,e.aiDisplay.length),la(e,1),t=0;t<e.aiDisplayMaster.length;t++)n.test(e.asDataSearch[t])&&e.aiDisplay.push(e.aiDisplayMaster[t]);else for(t=i=0;t<e.asDataSearch.length;t++)n.test(e.asDataSearch[t])||(e.aiDisplay.splice(t-i,1),i++)}function la(e,t){if(!e.oFeatures.bServerSide){e.asDataSearch=[];for(var i=r(e,"bSearchable"),n=1===t?e.aiDisplayMaster:e.aiDisplay,s=0,o=n.length;o>s;s++)e.asDataSearch[s]=na(e,Y(e,n[s],"filter",i))}}function na(e,t){var i=t.join("  ");return-1!==i.indexOf("&")&&(i=h("<div>").html(i).text()),i.replace(/[\n\r]/g," ")}function ma(e,t,i,n){return i?(e=t?e.split(" "):oa(e).split(" "),e="^(?=.*?"+e.join(")(?=.*?")+").*$",RegExp(e,n?"i":"")):(e=t?e:oa(e),RegExp(e,n?"i":""))}function Ja(e,t){return"function"==typeof j.ext.ofnSearch[t]?j.ext.ofnSearch[t](e):null===e?"":"html"==t?e.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):"string"==typeof e?e.replace(/[\r\n]/g," "):e}function oa(e){return e.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),"\\$1")}function Ca(e){var t=l.createElement("div");return t.className=e.oClasses.sInfo,e.aanFeatures.i||(e.aoDrawCallback.push({fn:Ka,sName:"information"}),t.id=e.sTableId+"_info"),e.nTable.setAttribute("aria-describedby",e.sTableId+"_info"),t}function Ka(e){if(e.oFeatures.bInfo&&0!==e.aanFeatures.i.length){var t,i=e.oLanguage,n=e._iDisplayStart+1,s=e.fnDisplayEnd(),o=e.fnRecordsTotal(),r=e.fnRecordsDisplay();for(t=0===r?i.sInfoEmpty:i.sInfo,r!=o&&(t+=" "+i.sInfoFiltered),t+=i.sInfoPostFix,t=ja(e,t),null!==i.fnInfoCallback&&(t=i.fnInfoCallback.call(e.oInstance,e,n,s,o,r,t)),e=e.aanFeatures.i,i=0,n=e.length;n>i;i++)h(e[i]).html(t)}}function ja(e,t){var i=e.fnFormatNumber(e._iDisplayStart+1),n=e.fnDisplayEnd(),n=e.fnFormatNumber(n),s=e.fnRecordsDisplay(),s=e.fnFormatNumber(s),o=e.fnRecordsTotal(),o=e.fnFormatNumber(o);return e.oScroll.bInfinite&&(i=e.fnFormatNumber(1)),t.replace(/_START_/g,i).replace(/_END_/g,n).replace(/_TOTAL_/g,s).replace(/_MAX_/g,o)}function ba(e){var t,i,n=e.iInitDisplayStart;if(!1===e.bInitialised)setTimeout(function(){ba(e)},200);else{for(xa(e),va(e),W(e,e.aoHeader),e.nTFoot&&W(e,e.aoFooter),E(e,!0),e.oFeatures.bAutoWidth&&da(e),t=0,i=e.aoColumns.length;i>t;t++)null!==e.aoColumns[t].sWidth&&(e.aoColumns[t].nTh.style.width=q(e.aoColumns[t].sWidth));e.oFeatures.bSort?O(e):e.oFeatures.bFilter?K(e,e.oPreviousSearch):(e.aiDisplay=e.aiDisplayMaster.slice(),y(e),x(e)),null===e.sAjaxSource||e.oFeatures.bServerSide?e.oFeatures.bServerSide||(E(e,!1),$(e)):(i=[],ka(e,i),e.fnServerData.call(e.oInstance,e.sAjaxSource,i,function(i){var s=""!==e.sAjaxDataProp?Q(e.sAjaxDataProp)(i):i;for(t=0;t<s.length;t++)H(e,s[t]);e.iInitDisplayStart=n,e.oFeatures.bSort?O(e):(e.aiDisplay=e.aiDisplayMaster.slice(),y(e),x(e)),E(e,!1),$(e,i)},e))}}function $(e,t){e._bInitComplete=!0,A(e,"aoInitComplete","init",[e,t])}function pa(e){var t=j.defaults.oLanguage;!e.sEmptyTable&&e.sZeroRecords&&"No data available in table"===t.sEmptyTable&&p(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&e.sZeroRecords&&"Loading..."===t.sLoadingRecords&&p(e,e,"sZeroRecords","sLoadingRecords")}function ya(e){if(e.oScroll.bInfinite)return null;var t,i,n='<select size="1" '+('name="'+e.sTableId+'_length"')+">",s=e.aLengthMenu;if(2==s.length&&"object"==typeof s[0]&&"object"==typeof s[1])for(t=0,i=s[0].length;i>t;t++)n+='<option value="'+s[0][t]+'">'+s[1][t]+"</option>";else for(t=0,i=s.length;i>t;t++)n+='<option value="'+s[t]+'">'+s[t]+"</option>";return n+="</select>",s=l.createElement("div"),e.aanFeatures.l||(s.id=e.sTableId+"_length"),s.className=e.oClasses.sLength,s.innerHTML="<label>"+e.oLanguage.sLengthMenu.replace("_MENU_",n)+"</label>",h('select option[value="'+e._iDisplayLength+'"]',s).attr("selected",!0),h("select",s).bind("change.DT",function(){var n=h(this).val(),s=e.aanFeatures.l;for(t=0,i=s.length;i>t;t++)s[t]!=this.parentNode&&h("select",s[t]).val(n);e._iDisplayLength=parseInt(n,10),y(e),e.fnDisplayEnd()==e.fnRecordsDisplay()&&(e._iDisplayStart=e.fnDisplayEnd()-e._iDisplayLength,e._iDisplayStart<0&&(e._iDisplayStart=0)),-1==e._iDisplayLength&&(e._iDisplayStart=0),x(e)}),h("select",s).attr("aria-controls",e.sTableId),s}function y(e){e._iDisplayEnd=!1===e.oFeatures.bPaginate?e.aiDisplay.length:e._iDisplayStart+e._iDisplayLength>e.aiDisplay.length||-1==e._iDisplayLength?e.aiDisplay.length:e._iDisplayStart+e._iDisplayLength}function Da(e){if(e.oScroll.bInfinite)return null;var t=l.createElement("div");return t.className=e.oClasses.sPaging+e.sPaginationType,j.ext.oPagination[e.sPaginationType].fnInit(e,t,function(e){y(e),x(e)}),e.aanFeatures.p||e.aoDrawCallback.push({fn:function(e){j.ext.oPagination[e.sPaginationType].fnUpdate(e,function(e){y(e),x(e)})},sName:"pagination"}),t}function qa(e,t){var i=e._iDisplayStart;if("number"==typeof t)e._iDisplayStart=t*e._iDisplayLength,e._iDisplayStart>e.fnRecordsDisplay()&&(e._iDisplayStart=0);else if("first"==t)e._iDisplayStart=0;else if("previous"==t)e._iDisplayStart=0<=e._iDisplayLength?e._iDisplayStart-e._iDisplayLength:0,0>e._iDisplayStart&&(e._iDisplayStart=0);else if("next"==t)0<=e._iDisplayLength?e._iDisplayStart+e._iDisplayLength<e.fnRecordsDisplay()&&(e._iDisplayStart+=e._iDisplayLength):e._iDisplayStart=0;else if("last"==t)if(0<=e._iDisplayLength){var n=parseInt((e.fnRecordsDisplay()-1)/e._iDisplayLength,10)+1;e._iDisplayStart=(n-1)*e._iDisplayLength}else e._iDisplayStart=0;else D(e,0,"Unknown paging action: "+t);return h(e.oInstance).trigger("page",e),i!=e._iDisplayStart}function Aa(e){var t=l.createElement("div");return e.aanFeatures.r||(t.id=e.sTableId+"_processing"),t.innerHTML=e.oLanguage.sProcessing,t.className=e.oClasses.sProcessing,e.nTable.parentNode.insertBefore(t,e.nTable),t}function E(e,t){if(e.oFeatures.bProcessing)for(var i=e.aanFeatures.r,n=0,s=i.length;s>n;n++)i[n].style.visibility=t?"visible":"hidden";h(e.oInstance).trigger("processing",[e,t])}function Ba(e){if(""===e.oScroll.sX&&""===e.oScroll.sY)return e.nTable;var t=l.createElement("div"),i=l.createElement("div"),n=l.createElement("div"),s=l.createElement("div"),o=l.createElement("div"),r=l.createElement("div"),a=e.nTable.cloneNode(!1),c=e.nTable.cloneNode(!1),u=e.nTable.getElementsByTagName("thead")[0],d=0===e.nTable.getElementsByTagName("tfoot").length?null:e.nTable.getElementsByTagName("tfoot")[0],f=e.oClasses;return i.appendChild(n),o.appendChild(r),s.appendChild(e.nTable),t.appendChild(i),t.appendChild(s),n.appendChild(a),a.appendChild(u),null!==d&&(t.appendChild(o),r.appendChild(c),c.appendChild(d)),t.className=f.sScrollWrapper,i.className=f.sScrollHead,n.className=f.sScrollHeadInner,s.className=f.sScrollBody,o.className=f.sScrollFoot,r.className=f.sScrollFootInner,e.oScroll.bAutoCss&&(i.style.overflow="hidden",i.style.position="relative",o.style.overflow="hidden",s.style.overflow="auto"),i.style.border="0",i.style.width="100%",o.style.border="0",n.style.width=""!==e.oScroll.sXInner?e.oScroll.sXInner:"100%",a.removeAttribute("id"),a.style.marginLeft="0",e.nTable.style.marginLeft="0",null!==d&&(c.removeAttribute("id"),c.style.marginLeft="0"),n=h(e.nTable).children("caption"),0<n.length&&(n=n[0],"top"===n._captionSide?a.appendChild(n):"bottom"===n._captionSide&&d&&c.appendChild(n)),""!==e.oScroll.sX&&(i.style.width=q(e.oScroll.sX),s.style.width=q(e.oScroll.sX),null!==d&&(o.style.width=q(e.oScroll.sX)),h(s).scroll(function(){i.scrollLeft=this.scrollLeft,null!==d&&(o.scrollLeft=this.scrollLeft)})),""!==e.oScroll.sY&&(s.style.height=q(e.oScroll.sY)),e.aoDrawCallback.push({fn:La,sName:"scrolling"}),e.oScroll.bInfinite&&h(s).scroll(function(){!e.bDrawing&&0!==h(this).scrollTop()&&h(this).scrollTop()+h(this).height()>h(e.nTable).height()-e.oScroll.iLoadGap&&e.fnDisplayEnd()<e.fnRecordsDisplay()&&(qa(e,"next"),y(e),x(e))}),e.nScrollHead=i,e.nScrollFoot=o,t}function La(e){var t,i,n,s,o,r,a,l,c=e.nScrollHead.getElementsByTagName("div")[0],u=c.getElementsByTagName("table")[0],d=e.nTable.parentNode,f=[],p=[],g=null!==e.nTFoot?e.nScrollFoot.getElementsByTagName("div")[0]:null,m=null!==e.nTFoot?g.getElementsByTagName("table")[0]:null,v=e.oBrowser.bScrollOversize,y=function(e){a=e.style,a.paddingTop="0",a.paddingBottom="0",a.borderTopWidth="0",a.borderBottomWidth="0",a.height=0};h(e.nTable).children("thead, tfoot").remove(),t=h(e.nTHead).clone()[0],e.nTable.insertBefore(t,e.nTable.childNodes[0]),n=e.nTHead.getElementsByTagName("tr"),s=t.getElementsByTagName("tr"),null!==e.nTFoot&&(o=h(e.nTFoot).clone()[0],e.nTable.insertBefore(o,e.nTable.childNodes[1]),r=e.nTFoot.getElementsByTagName("tr"),o=o.getElementsByTagName("tr")),""===e.oScroll.sX&&(d.style.width="100%",c.parentNode.style.width="100%");var b=N(e,t);for(t=0,i=b.length;i>t;t++)l=G(e,t),b[t].style.width=e.aoColumns[l].sWidth;null!==e.nTFoot&&C(function(e){e.style.width=""},o),e.oScroll.bCollapse&&""!==e.oScroll.sY&&(d.style.height=d.offsetHeight+e.nTHead.offsetHeight+"px"),t=h(e.nTable).outerWidth(),""===e.oScroll.sX?(e.nTable.style.width="100%",v&&(h("tbody",d).height()>d.offsetHeight||"scroll"==h(d).css("overflow-y"))&&(e.nTable.style.width=q(h(e.nTable).outerWidth()-e.oScroll.iBarWidth))):""!==e.oScroll.sXInner?e.nTable.style.width=q(e.oScroll.sXInner):t==h(d).width()&&h(d).height()<h(e.nTable).height()?(e.nTable.style.width=q(t-e.oScroll.iBarWidth),h(e.nTable).outerWidth()>t-e.oScroll.iBarWidth&&(e.nTable.style.width=q(t))):e.nTable.style.width=q(t),t=h(e.nTable).outerWidth(),C(y,s),C(function(e){f.push(q(h(e).width()))},s),C(function(e,t){e.style.width=f[t]},n),h(s).height(0),null!==e.nTFoot&&(C(y,o),C(function(e){p.push(q(h(e).width()))},o),C(function(e,t){e.style.width=p[t]},r),h(o).height(0)),C(function(e,t){e.innerHTML="",e.style.width=f[t]},s),null!==e.nTFoot&&C(function(e,t){e.innerHTML="",e.style.width=p[t]},o),h(e.nTable).outerWidth()<t?(n=d.scrollHeight>d.offsetHeight||"scroll"==h(d).css("overflow-y")?t+e.oScroll.iBarWidth:t,v&&(d.scrollHeight>d.offsetHeight||"scroll"==h(d).css("overflow-y"))&&(e.nTable.style.width=q(n-e.oScroll.iBarWidth)),d.style.width=q(n),e.nScrollHead.style.width=q(n),null!==e.nTFoot&&(e.nScrollFoot.style.width=q(n)),""===e.oScroll.sX?D(e,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):""!==e.oScroll.sXInner&&D(e,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")):(d.style.width=q("100%"),e.nScrollHead.style.width=q("100%"),null!==e.nTFoot&&(e.nScrollFoot.style.width=q("100%"))),""===e.oScroll.sY&&v&&(d.style.height=q(e.nTable.offsetHeight+e.oScroll.iBarWidth)),""!==e.oScroll.sY&&e.oScroll.bCollapse&&(d.style.height=q(e.oScroll.sY),v=""!==e.oScroll.sX&&e.nTable.offsetWidth>d.offsetWidth?e.oScroll.iBarWidth:0,e.nTable.offsetHeight<d.offsetHeight&&(d.style.height=q(e.nTable.offsetHeight+v))),v=h(e.nTable).outerWidth(),u.style.width=q(v),c.style.width=q(v),u=h(e.nTable).height()>d.clientHeight||"scroll"==h(d).css("overflow-y"),c.style.paddingRight=u?e.oScroll.iBarWidth+"px":"0px",null!==e.nTFoot&&(m.style.width=q(v),g.style.width=q(v),g.style.paddingRight=u?e.oScroll.iBarWidth+"px":"0px"),h(d).scroll(),(e.bSorted||e.bFiltered)&&(d.scrollTop=0)}function C(e,t,i){for(var n,s,o=0,r=0,a=t.length;a>r;){for(n=t[r].firstChild,s=i?i[r].firstChild:null;n;)1===n.nodeType&&(i?e(n,s,o):e(n,o),o++),n=n.nextSibling,s=i?s.nextSibling:null;r++}}function Ma(e,t){if(!e||null===e||""===e)return 0;t||(t=l.body);var i,n=l.createElement("div");return n.style.width=q(e),t.appendChild(n),i=n.offsetWidth,t.removeChild(n),i}function da(e){var t,i,n,s=0,o=0,r=e.aoColumns.length,a=h("th",e.nTHead),c=e.nTable.getAttribute("width");for(n=e.nTable.parentNode,i=0;r>i;i++)e.aoColumns[i].bVisible&&(o++,null!==e.aoColumns[i].sWidth&&(t=Ma(e.aoColumns[i].sWidthOrig,n),null!==t&&(e.aoColumns[i].sWidth=q(t)),s++));if(r==a.length&&0===s&&o==r&&""===e.oScroll.sX&&""===e.oScroll.sY)for(i=0;i<e.aoColumns.length;i++)t=h(a[i]).width(),null!==t&&(e.aoColumns[i].sWidth=q(t));else{for(s=e.nTable.cloneNode(!1),i=e.nTHead.cloneNode(!0),o=l.createElement("tbody"),t=l.createElement("tr"),s.removeAttribute("id"),s.appendChild(i),null!==e.nTFoot&&(s.appendChild(e.nTFoot.cloneNode(!0)),C(function(e){e.style.width=""},s.getElementsByTagName("tr"))),s.appendChild(o),o.appendChild(t),o=h("thead th",s),0===o.length&&(o=h("tbody tr:eq(0)>td",s)),a=N(e,i),i=o=0;r>i;i++){var u=e.aoColumns[i];u.bVisible&&null!==u.sWidthOrig&&""!==u.sWidthOrig?a[i-o].style.width=q(u.sWidthOrig):u.bVisible?a[i-o].style.width="":o++}for(i=0;r>i;i++)e.aoColumns[i].bVisible&&(o=Na(e,i),null!==o&&(o=o.cloneNode(!0),""!==e.aoColumns[i].sContentPadding&&(o.innerHTML+=e.aoColumns[i].sContentPadding),t.appendChild(o)));if(n.appendChild(s),""!==e.oScroll.sX&&""!==e.oScroll.sXInner?s.style.width=q(e.oScroll.sXInner):""!==e.oScroll.sX?(s.style.width="",h(s).width()<n.offsetWidth&&(s.style.width=q(n.offsetWidth))):""!==e.oScroll.sY?s.style.width=q(n.offsetWidth):c&&(s.style.width=q(c)),s.style.visibility="hidden",Oa(e,s),r=h("tbody tr:eq(0)",s).children(),0===r.length&&(r=N(e,h("thead",s)[0])),""!==e.oScroll.sX){for(i=o=n=0;i<e.aoColumns.length;i++)e.aoColumns[i].bVisible&&(n=null===e.aoColumns[i].sWidthOrig?n+h(r[o]).outerWidth():n+(parseInt(e.aoColumns[i].sWidth.replace("px",""),10)+(h(r[o]).outerWidth()-h(r[o]).width())),o++);s.style.width=q(n),e.nTable.style.width=q(n)}for(i=o=0;i<e.aoColumns.length;i++)e.aoColumns[i].bVisible&&(n=h(r[o]).width(),null!==n&&n>0&&(e.aoColumns[i].sWidth=q(n)),o++);r=h(s).css("width"),e.nTable.style.width=-1!==r.indexOf("%")?r:q(h(s).outerWidth()),s.parentNode.removeChild(s)}c&&(e.nTable.style.width=q(c))}function Oa(e,t){""===e.oScroll.sX&&""!==e.oScroll.sY?(h(t).width(),t.style.width=q(h(t).outerWidth()-e.oScroll.iBarWidth)):""!==e.oScroll.sX&&(t.style.width=q(h(t).outerWidth()))}function Na(e,t){var i=Pa(e,t);if(0>i)return null;if(null===e.aoData[i].nTr){var n=l.createElement("td");return n.innerHTML=v(e,i,t,""),n}return J(e,i)[t]}function Pa(e,t){for(var i=-1,n=-1,s=0;s<e.aoData.length;s++){var o=v(e,s,t,"display")+"",o=o.replace(/<.*?>/g,"");o.length>i&&(i=o.length,n=s)}return n}function q(e){if(null===e)return"0px";if("number"==typeof e)return 0>e?"0px":e+"px";var t=e.charCodeAt(e.length-1);return 48>t||t>57?e:e+"px"}function Qa(){var e=l.createElement("p"),t=e.style;t.width="100%",t.height="200px",t.padding="0px";var i=l.createElement("div"),t=i.style;return t.position="absolute",t.top="0px",t.left="0px",t.visibility="hidden",t.width="200px",t.height="150px",t.padding="0px",t.overflow="hidden",i.appendChild(e),l.body.appendChild(i),t=e.offsetWidth,i.style.overflow="scroll",e=e.offsetWidth,t==e&&(e=i.clientWidth),l.body.removeChild(i),t-e
}function O(e,t){var i,s,o,r,a,l,c=[],u=[],d=j.ext.oSort,f=e.aoData,p=e.aoColumns,g=e.oLanguage.oAria;if(!e.oFeatures.bServerSide&&(0!==e.aaSorting.length||null!==e.aaSortingFixed)){for(c=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),i=0;i<c.length;i++)if(s=c[i][0],o=R(e,s),r=e.aoColumns[s].sSortDataType,j.ext.afnSortData[r])if(a=j.ext.afnSortData[r].call(e.oInstance,e,s,o),a.length===f.length)for(o=0,r=f.length;r>o;o++)F(e,o,s,a[o]);else D(e,0,"Returned data sort array (col "+s+") is the wrong length");for(i=0,s=e.aiDisplayMaster.length;s>i;i++)u[e.aiDisplayMaster[i]]=i;var m,b=c.length;for(i=0,s=f.length;s>i;i++)for(o=0;b>o;o++)for(m=p[c[o][0]].aDataSort,a=0,l=m.length;l>a;a++)r=p[m[a]].sType,r=d[(r?r:"string")+"-pre"],f[i]._aSortData[m[a]]=r?r(v(e,i,m[a],"sort")):v(e,i,m[a],"sort");e.aiDisplayMaster.sort(function(e,t){var i,n,s,o,r;for(i=0;b>i;i++)for(r=p[c[i][0]].aDataSort,n=0,s=r.length;s>n;n++)if(o=p[r[n]].sType,o=d[(o?o:"string")+"-"+c[i][1]](f[e]._aSortData[r[n]],f[t]._aSortData[r[n]]),0!==o)return o;return d["numeric-asc"](u[e],u[t])})}for((t===n||t)&&!e.oFeatures.bDeferRender&&P(e),i=0,s=e.aoColumns.length;s>i;i++)r=p[i].sTitle.replace(/<.*?>/g,""),o=p[i].nTh,o.removeAttribute("aria-sort"),o.removeAttribute("aria-label"),p[i].bSortable?0<c.length&&c[0][0]==i?(o.setAttribute("aria-sort","asc"==c[0][1]?"ascending":"descending"),o.setAttribute("aria-label",r+("asc"==(p[i].asSorting[c[0][2]+1]?p[i].asSorting[c[0][2]+1]:p[i].asSorting[0])?g.sSortAscending:g.sSortDescending))):o.setAttribute("aria-label",r+("asc"==p[i].asSorting[0]?g.sSortAscending:g.sSortDescending)):o.setAttribute("aria-label",r);e.bSorted=!0,h(e.oInstance).trigger("sort",e),e.oFeatures.bFilter?K(e,e.oPreviousSearch,1):(e.aiDisplay=e.aiDisplayMaster.slice(),e._iDisplayStart=0,y(e),x(e))}function ia(e,t,i,n){Ra(t,{},function(t){if(!1!==e.aoColumns[i].bSortable){var s=function(){var n,s;if(t.shiftKey){for(var o=!1,r=0;r<e.aaSorting.length;r++)if(e.aaSorting[r][0]==i){o=!0,n=e.aaSorting[r][0],s=e.aaSorting[r][2]+1,e.aoColumns[n].asSorting[s]?(e.aaSorting[r][1]=e.aoColumns[n].asSorting[s],e.aaSorting[r][2]=s):e.aaSorting.splice(r,1);break}!1===o&&e.aaSorting.push([i,e.aoColumns[i].asSorting[0],0])}else 1==e.aaSorting.length&&e.aaSorting[0][0]==i?(n=e.aaSorting[0][0],s=e.aaSorting[0][2]+1,e.aoColumns[n].asSorting[s]||(s=0),e.aaSorting[0][1]=e.aoColumns[n].asSorting[s],e.aaSorting[0][2]=s):(e.aaSorting.splice(0,e.aaSorting.length),e.aaSorting.push([i,e.aoColumns[i].asSorting[0],0]));O(e)};e.oFeatures.bProcessing?(E(e,!0),setTimeout(function(){s(),e.oFeatures.bServerSide||E(e,!1)},0)):s(),"function"==typeof n&&n(e)}})}function P(e){var t,i,n,s,o,r=e.aoColumns.length,a=e.oClasses;for(t=0;r>t;t++)e.aoColumns[t].bSortable&&h(e.aoColumns[t].nTh).removeClass(a.sSortAsc+" "+a.sSortDesc+" "+e.aoColumns[t].sSortingClass);for(i=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),t=0;t<e.aoColumns.length;t++)if(e.aoColumns[t].bSortable){for(o=e.aoColumns[t].sSortingClass,s=-1,n=0;n<i.length;n++)if(i[n][0]==t){o="asc"==i[n][1]?a.sSortAsc:a.sSortDesc,s=n;break}h(e.aoColumns[t].nTh).addClass(o),e.bJUI&&(o=h("span."+a.sSortIcon,e.aoColumns[t].nTh),o.removeClass(a.sSortJUIAsc+" "+a.sSortJUIDesc+" "+a.sSortJUI+" "+a.sSortJUIAscAllowed+" "+a.sSortJUIDescAllowed),o.addClass(-1==s?e.aoColumns[t].sSortingClassJUI:"asc"==i[s][1]?a.sSortJUIAsc:a.sSortJUIDesc))}else h(e.aoColumns[t].nTh).addClass(e.aoColumns[t].sSortingClass);if(o=a.sSortColumn,e.oFeatures.bSort&&e.oFeatures.bSortClasses){for(e=J(e),s=[],t=0;r>t;t++)s.push("");for(t=0,n=1;t<i.length;t++)a=parseInt(i[t][0],10),s[a]=o+n,3>n&&n++;o=RegExp(o+"[123]");var l;for(t=0,i=e.length;i>t;t++)a=t%r,n=e[t].className,l=s[a],a=n.replace(o,l),a!=n?e[t].className=h.trim(a):0<l.length&&-1==n.indexOf(l)&&(e[t].className=n+" "+l)}}function ra(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var t,i;t=e.oScroll.bInfinite;var n={iCreate:(new Date).getTime(),iStart:t?0:e._iDisplayStart,iEnd:t?e._iDisplayLength:e._iDisplayEnd,iLength:e._iDisplayLength,aaSorting:h.extend(!0,[],e.aaSorting),oSearch:h.extend(!0,{},e.oPreviousSearch),aoSearchCols:h.extend(!0,[],e.aoPreSearchCols),abVisCols:[]};for(t=0,i=e.aoColumns.length;i>t;t++)n.abVisCols.push(e.aoColumns[t].bVisible);A(e,"aoStateSaveParams","stateSaveParams",[e,n]),e.fnStateSave.call(e.oInstance,e,n)}}function Sa(e,t){if(e.oFeatures.bStateSave){var i=e.fnStateLoad.call(e.oInstance,e);if(i){var n=A(e,"aoStateLoadParams","stateLoadParams",[e,i]);if(-1===h.inArray(!1,n)){for(e.oLoadedState=h.extend(!0,{},i),e._iDisplayStart=i.iStart,e.iInitDisplayStart=i.iStart,e._iDisplayEnd=i.iEnd,e._iDisplayLength=i.iLength,e.aaSorting=i.aaSorting.slice(),e.saved_aaSorting=i.aaSorting.slice(),h.extend(e.oPreviousSearch,i.oSearch),h.extend(!0,e.aoPreSearchCols,i.aoSearchCols),t.saved_aoColumns=[],n=0;n<i.abVisCols.length;n++)t.saved_aoColumns[n]={},t.saved_aoColumns[n].bVisible=i.abVisCols[n];A(e,"aoStateLoaded","stateLoaded",[e,i])}}}}function s(e){for(var t=0;t<j.settings.length;t++)if(j.settings[t].nTable===e)return j.settings[t];return null}function T(e){for(var t=[],e=e.aoData,i=0,n=e.length;n>i;i++)null!==e[i].nTr&&t.push(e[i].nTr);return t}function J(e,t){var i,s,o,r,a,l,c=[];s=0;var h=e.aoData.length;for(t!==n&&(s=t,h=t+1),o=s;h>o;o++)if(l=e.aoData[o],null!==l.nTr){for(s=[],i=l.nTr.firstChild;i;)r=i.nodeName.toLowerCase(),("td"==r||"th"==r)&&s.push(i),i=i.nextSibling;for(r=i=0,a=e.aoColumns.length;a>r;r++)e.aoColumns[r].bVisible?c.push(s[r-i]):(c.push(l._anHidden[r]),i++)}return c}function D(e,t,i){if(e=null===e?"DataTables warning: "+i:"DataTables warning (table id = '"+e.sTableId+"'): "+i,0===t){if("alert"!=j.ext.sErrMode)throw Error(e);alert(e)}else X.console&&console.log&&console.log(e)}function p(e,t,i,s){s===n&&(s=i),t[i]!==n&&(e[s]=t[i])}function Ta(t,i){var n,s;for(s in i)i.hasOwnProperty(s)&&(n=i[s],"object"==typeof e[s]&&null!==n&&!1===h.isArray(n)?h.extend(!0,t[s],n):t[s]=n);return t}function Ra(e,t,i){h(e).bind("click.DT",t,function(t){e.blur(),i(t)}).bind("keypress.DT",t,function(e){13===e.which&&i(e)}).bind("selectstart.DT",function(){return!1})}function z(e,t,i,n){i&&e[t].push({fn:i,sName:n})}function A(e,t,i,n){for(var t=e[t],s=[],o=t.length-1;o>=0;o--)s.push(t[o].fn.apply(e.oInstance,n));return null!==i&&h(e.oInstance).trigger(i,n),s}function Ua(e){var t=h('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden"><div style="position:absolute; top:1px; left:1px; width:100px; overflow:scroll;"><div id="DT_BrowserTest" style="width:100%; height:10px;"></div></div></div>')[0];l.body.appendChild(t),e.oBrowser.bScrollOversize=100===h("#DT_BrowserTest",t)[0].offsetWidth?!0:!1,l.body.removeChild(t)}function Va(e){return function(){var t=[s(this[j.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return j.ext.oApi[e].apply(this,t)}}var U=/\[.*?\]$/,Wa=X.JSON?JSON.stringify:function(e){var t=typeof e;if("object"!==t||null===e)return"string"===t&&(e='"'+e+'"'),e+"";var i,n,s=[],o=h.isArray(e);for(i in e)n=e[i],t=typeof n,"string"===t?n='"'+n+'"':"object"===t&&null!==n&&(n=Wa(n)),s.push((o?"":'"'+i+'":')+n);return(o?"[":"{")+s+(o?"]":"}")};this.$=function(e,t){var i,n,o,r=[];n=s(this[j.ext.iApiIndex]);var a=n.aoData,l=n.aiDisplay,c=n.aiDisplayMaster;if(t||(t={}),t=h.extend({},{filter:"none",order:"current",page:"all"},t),"current"==t.page)for(i=n._iDisplayStart,n=n.fnDisplayEnd();n>i;i++)(o=a[l[i]].nTr)&&r.push(o);else if("current"==t.order&&"none"==t.filter)for(i=0,n=c.length;n>i;i++)(o=a[c[i]].nTr)&&r.push(o);else if("current"==t.order&&"applied"==t.filter)for(i=0,n=l.length;n>i;i++)(o=a[l[i]].nTr)&&r.push(o);else if("original"==t.order&&"none"==t.filter)for(i=0,n=a.length;n>i;i++)(o=a[i].nTr)&&r.push(o);else if("original"==t.order&&"applied"==t.filter)for(i=0,n=a.length;n>i;i++)o=a[i].nTr,-1!==h.inArray(i,l)&&o&&r.push(o);else D(n,1,"Unknown selection options");return r=h(r),i=r.filter(e),r=r.find(e),h([].concat(h.makeArray(i),h.makeArray(r)))},this._=function(e,t){var i,n,s=[],o=this.$(e,t);for(i=0,n=o.length;n>i;i++)s.push(this.fnGetData(o[i]));return s},this.fnAddData=function(e,t){if(0===e.length)return[];var i,o=[],r=s(this[j.ext.iApiIndex]);if("object"==typeof e[0]&&null!==e[0])for(var a=0;a<e.length;a++){if(i=H(r,e[a]),-1==i)return o;o.push(i)}else{if(i=H(r,e),-1==i)return o;o.push(i)}return r.aiDisplay=r.aiDisplayMaster.slice(),(t===n||t)&&aa(r),o},this.fnAdjustColumnSizing=function(e){var t=s(this[j.ext.iApiIndex]);k(t),e===n||e?this.fnDraw(!1):(""!==t.oScroll.sX||""!==t.oScroll.sY)&&this.oApi._fnScrollDraw(t)},this.fnClearTable=function(e){var t=s(this[j.ext.iApiIndex]);ga(t),(e===n||e)&&x(t)},this.fnClose=function(e){for(var t=s(this[j.ext.iApiIndex]),i=0;i<t.aoOpenRows.length;i++)if(t.aoOpenRows[i].nParent==e)return(e=t.aoOpenRows[i].nTr.parentNode)&&e.removeChild(t.aoOpenRows[i].nTr),t.aoOpenRows.splice(i,1),0;return 1},this.fnDeleteRow=function(e,t,i){var o,r,a=s(this[j.ext.iApiIndex]),e="object"==typeof e?I(a,e):e,l=a.aoData.splice(e,1);for(o=0,r=a.aoData.length;r>o;o++)null!==a.aoData[o].nTr&&(a.aoData[o].nTr._DT_RowIndex=o);return o=h.inArray(e,a.aiDisplay),a.asDataSearch.splice(o,1),ha(a.aiDisplayMaster,e),ha(a.aiDisplay,e),"function"==typeof t&&t.call(this,a,l),a._iDisplayStart>=a.fnRecordsDisplay()&&(a._iDisplayStart-=a._iDisplayLength,0>a._iDisplayStart&&(a._iDisplayStart=0)),(i===n||i)&&(y(a),x(a)),l},this.fnDestroy=function(t){var i,o,r=s(this[j.ext.iApiIndex]),a=r.nTableWrapper.parentNode,l=r.nTBody,t=t===n?!1:t;if(r.bDestroying=!0,A(r,"aoDestroyCallback","destroy",[r]),!t)for(i=0,o=r.aoColumns.length;o>i;i++)!1===r.aoColumns[i].bVisible&&this.fnSetColumnVis(i,!0);for(h(r.nTableWrapper).find("*").andSelf().unbind(".DT"),h("tbody>tr>td."+r.oClasses.sRowEmpty,r.nTable).parent().remove(),r.nTable!=r.nTHead.parentNode&&(h(r.nTable).children("thead").remove(),r.nTable.appendChild(r.nTHead)),r.nTFoot&&r.nTable!=r.nTFoot.parentNode&&(h(r.nTable).children("tfoot").remove(),r.nTable.appendChild(r.nTFoot)),r.nTable.parentNode.removeChild(r.nTable),h(r.nTableWrapper).remove(),r.aaSorting=[],r.aaSortingFixed=[],P(r),h(T(r)).removeClass(r.asStripeClasses.join(" ")),h("th, td",r.nTHead).removeClass([r.oClasses.sSortable,r.oClasses.sSortableAsc,r.oClasses.sSortableDesc,r.oClasses.sSortableNone].join(" ")),r.bJUI&&(h("th span."+r.oClasses.sSortIcon+", td span."+r.oClasses.sSortIcon,r.nTHead).remove(),h("th, td",r.nTHead).each(function(){var e=h("div."+r.oClasses.sSortJUIWrapper,this),t=e.contents();h(this).append(t),e.remove()})),!t&&r.nTableReinsertBefore?a.insertBefore(r.nTable,r.nTableReinsertBefore):t||a.appendChild(r.nTable),i=0,o=r.aoData.length;o>i;i++)null!==r.aoData[i].nTr&&l.appendChild(r.aoData[i].nTr);if(!0===r.oFeatures.bAutoWidth&&(r.nTable.style.width=q(r.sDestroyWidth)),o=r.asDestroyStripes.length)for(t=h(l).children("tr"),i=0;o>i;i++)t.filter(":nth-child("+o+"n + "+i+")").addClass(r.asDestroyStripes[i]);for(i=0,o=j.settings.length;o>i;i++)j.settings[i]==r&&j.settings.splice(i,1);e=r=null},this.fnDraw=function(e){var t=s(this[j.ext.iApiIndex]);!1===e?(y(t),x(t)):aa(t)},this.fnFilter=function(e,t,i,o,r,a){var c=s(this[j.ext.iApiIndex]);if(c.oFeatures.bFilter)if((i===n||null===i)&&(i=!1),(o===n||null===o)&&(o=!0),(r===n||null===r)&&(r=!0),(a===n||null===a)&&(a=!0),t===n||null===t){if(K(c,{sSearch:e+"",bRegex:i,bSmart:o,bCaseInsensitive:a},1),r&&c.aanFeatures.f)for(t=c.aanFeatures.f,i=0,o=t.length;o>i;i++)try{t[i]._DT_Input!=l.activeElement&&h(t[i]._DT_Input).val(e)}catch(u){h(t[i]._DT_Input).val(e)}}else h.extend(c.aoPreSearchCols[t],{sSearch:e+"",bRegex:i,bSmart:o,bCaseInsensitive:a}),K(c,c.oPreviousSearch,1)},this.fnGetData=function(e,t){var i=s(this[j.ext.iApiIndex]);if(e!==n){var o=e;if("object"==typeof e){var r=e.nodeName.toLowerCase();"tr"===r?o=I(i,e):"td"===r&&(o=I(i,e.parentNode),t=fa(i,o,e))}return t!==n?v(i,o,t,""):i.aoData[o]!==n?i.aoData[o]._aData:null}return Z(i)},this.fnGetNodes=function(e){var t=s(this[j.ext.iApiIndex]);return e!==n?t.aoData[e]!==n?t.aoData[e].nTr:null:T(t)},this.fnGetPosition=function(e){var t=s(this[j.ext.iApiIndex]),i=e.nodeName.toUpperCase();return"TR"==i?I(t,e):"TD"==i||"TH"==i?(i=I(t,e.parentNode),e=fa(t,i,e),[i,R(t,e),e]):null},this.fnIsOpen=function(e){for(var t=s(this[j.ext.iApiIndex]),i=0;i<t.aoOpenRows.length;i++)if(t.aoOpenRows[i].nParent==e)return!0;return!1},this.fnOpen=function(e,i,n){var o=s(this[j.ext.iApiIndex]),r=T(o);if(-1!==h.inArray(e,r)){this.fnClose(e);var r=l.createElement("tr"),a=l.createElement("td");return r.appendChild(a),a.className=n,a.colSpan=t(o),"string"==typeof i?a.innerHTML=i:h(a).html(i),i=h("tr",o.nTBody),-1!=h.inArray(e,i)&&h(r).insertAfter(e),o.aoOpenRows.push({nTr:r,nParent:e}),r}},this.fnPageChange=function(e,t){var i=s(this[j.ext.iApiIndex]);qa(i,e),y(i),(t===n||t)&&x(i)},this.fnSetColumnVis=function(e,i,o){var r,a,l,c,h=s(this[j.ext.iApiIndex]),u=h.aoColumns,d=h.aoData;if(u[e].bVisible!=i){if(i){for(r=a=0;e>r;r++)u[r].bVisible&&a++;if(c=a>=t(h),!c)for(r=e;r<u.length;r++)if(u[r].bVisible){l=r;break}for(r=0,a=d.length;a>r;r++)null!==d[r].nTr&&(c?d[r].nTr.appendChild(d[r]._anHidden[e]):d[r].nTr.insertBefore(d[r]._anHidden[e],J(h,r)[l]))}else for(r=0,a=d.length;a>r;r++)null!==d[r].nTr&&(l=J(h,r)[e],d[r]._anHidden[e]=l,l.parentNode.removeChild(l));for(u[e].bVisible=i,W(h,h.aoHeader),h.nTFoot&&W(h,h.aoFooter),r=0,a=h.aoOpenRows.length;a>r;r++)h.aoOpenRows[r].nTr.colSpan=t(h);(o===n||o)&&(k(h),x(h)),ra(h)}},this.fnSettings=function(){return s(this[j.ext.iApiIndex])},this.fnSort=function(e){var t=s(this[j.ext.iApiIndex]);t.aaSorting=e,O(t)},this.fnSortListener=function(e,t,i){ia(s(this[j.ext.iApiIndex]),e,t,i)},this.fnUpdate=function(e,t,i,o,a){var l=s(this[j.ext.iApiIndex]),t="object"==typeof t?I(l,t):t;if(h.isArray(e)&&i===n)for(l.aoData[t]._aData=e.slice(),i=0;i<l.aoColumns.length;i++)this.fnUpdate(v(l,t,i),t,i,!1,!1);else if(h.isPlainObject(e)&&i===n)for(l.aoData[t]._aData=h.extend(!0,{},e),i=0;i<l.aoColumns.length;i++)this.fnUpdate(v(l,t,i),t,i,!1,!1);else{F(l,t,i,e);var e=v(l,t,i,"display"),c=l.aoColumns[i];null!==c.fnRender&&(e=S(l,t,i),c.bUseRendered&&F(l,t,i,e)),null!==l.aoData[t].nTr&&(J(l,t)[i].innerHTML=e)}return i=h.inArray(t,l.aiDisplay),l.asDataSearch[i]=na(l,Y(l,t,"filter",r(l,"bSearchable"))),(a===n||a)&&k(l),(o===n||o)&&aa(l),0},this.fnVersionCheck=j.ext.fnVersionCheck,this.oApi={_fnExternApiFunc:Va,_fnInitialise:ba,_fnInitComplete:$,_fnLanguageCompat:pa,_fnAddColumn:o,_fnColumnOptions:m,_fnAddData:H,_fnCreateTr:ea,_fnGatherData:ua,_fnBuildHead:va,_fnDrawHead:W,_fnDraw:x,_fnReDraw:aa,_fnAjaxUpdate:wa,_fnAjaxParameters:Ea,_fnAjaxUpdateDraw:Fa,_fnServerParams:ka,_fnAddOptionsHtml:xa,_fnFeatureHtmlTable:Ba,_fnScrollDraw:La,_fnAdjustColumnSizing:k,_fnFeatureHtmlFilter:za,_fnFilterComplete:K,_fnFilterCustom:Ia,_fnFilterColumn:Ha,_fnFilter:Ga,_fnBuildSearchArray:la,_fnBuildSearchRow:na,_fnFilterCreateSearch:ma,_fnDataToSearch:Ja,_fnSort:O,_fnSortAttachListener:ia,_fnSortingClasses:P,_fnFeatureHtmlPaginate:Da,_fnPageChange:qa,_fnFeatureHtmlInfo:Ca,_fnUpdateInfo:Ka,_fnFeatureHtmlLength:ya,_fnFeatureHtmlProcessing:Aa,_fnProcessingDisplay:E,_fnVisibleToColumnIndex:G,_fnColumnIndexToVisible:R,_fnNodeToDataIndex:I,_fnVisbleColumns:t,_fnCalculateEnd:y,_fnConvertToWidth:Ma,_fnCalculateColumnWidths:da,_fnScrollingWidthAdjust:Oa,_fnGetWidestNode:Na,_fnGetMaxLenString:Pa,_fnStringToCss:q,_fnDetectType:B,_fnSettingsFromNode:s,_fnGetDataMaster:Z,_fnGetTrNodes:T,_fnGetTdNodes:J,_fnEscapeRegex:oa,_fnDeleteIndex:ha,_fnReOrderIndex:u,_fnColumnOrdering:M,_fnLog:D,_fnClearTable:ga,_fnSaveState:ra,_fnLoadState:Sa,_fnCreateCookie:function(a,b,c,d,e){var f=new Date;f.setTime(f.getTime()+1e3*c);var c=X.location.pathname.split("/"),a=a+"_"+c.pop().replace(/[\/:]/g,"").toLowerCase(),g;if(null!==e?(g="function"==typeof h.parseJSON?h.parseJSON(b):eval("("+b+")"),b=e(a,g,f.toGMTString(),c.join("/")+"/")):b=a+"="+encodeURIComponent(b)+"; expires="+f.toGMTString()+"; path="+c.join("/")+"/",a=l.cookie.split(";"),e=b.split(";")[0].length,f=[],4096<e+l.cookie.length+10){for(var j=0,o=a.length;o>j;j++)if(-1!=a[j].indexOf(d)){var k=a[j].split("=");try{(g=eval("("+decodeURIComponent(k[1])+")"))&&g.iCreate&&f.push({name:k[0],time:g.iCreate})}catch(m){}}for(f.sort(function(e,t){return t.time-e.time});4096<e+l.cookie.length+10;){if(0===f.length)return;d=f.pop(),l.cookie=d.name+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+c.join("/")+"/"}}l.cookie=b},_fnReadCookie:function(e){for(var t=X.location.pathname.split("/"),e=e+"_"+t[t.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",t=l.cookie.split(";"),i=0;i<t.length;i++){for(var n=t[i];" "==n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(e))return decodeURIComponent(n.substring(e.length,n.length))}return null},_fnDetectHeader:V,_fnGetUniqueThs:N,_fnScrollBarWidth:Qa,_fnApplyToChildren:C,_fnMap:p,_fnGetRowData:Y,_fnGetCellData:v,_fnSetCellData:F,_fnGetObjectDataFn:Q,_fnSetObjectDataFn:L,_fnApplyColumnDefs:ta,_fnBindAction:Ra,_fnExtend:Ta,_fnCallbackReg:z,_fnCallbackFire:A,_fnJsonString:Wa,_fnRender:S,_fnNodeToColumnIndex:fa,_fnInfoMacros:ja,_fnBrowserDetect:Ua,_fnGetColumns:r},h.extend(j.ext.oApi,this.oApi);for(var sa in j.ext.oApi)sa&&(this[sa]=Va(sa));var ca=this;return this.each(function(){var t,i,s,r=0;i=this.getAttribute("id");var a=!1,c=!1;if("table"!=this.nodeName.toLowerCase())D(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);else{for(r=0,t=j.settings.length;t>r;r++){if(j.settings[r].nTable==this){if(e===n||e.bRetrieve)return j.settings[r].oInstance;if(e.bDestroy){j.settings[r].oInstance.fnDestroy();break}return void D(j.settings[r],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy")}if(j.settings[r].sTableId==this.id){j.settings.splice(r,1);break}}(null===i||""===i)&&(this.id=i="DataTables_Table_"+j.ext._oExternConfig.iNextUnique++);var u=h.extend(!0,{},j.models.oSettings,{nTable:this,oApi:ca.oApi,oInit:e,sDestroyWidth:h(this).width(),sInstance:i,sTableId:i});if(j.settings.push(u),u.oInstance=1===ca.length?ca:h(this).dataTable(),e||(e={}),e.oLanguage&&pa(e.oLanguage),e=Ta(h.extend(!0,{},j.defaults),e),p(u.oFeatures,e,"bPaginate"),p(u.oFeatures,e,"bLengthChange"),p(u.oFeatures,e,"bFilter"),p(u.oFeatures,e,"bSort"),p(u.oFeatures,e,"bInfo"),p(u.oFeatures,e,"bProcessing"),p(u.oFeatures,e,"bAutoWidth"),p(u.oFeatures,e,"bSortClasses"),p(u.oFeatures,e,"bServerSide"),p(u.oFeatures,e,"bDeferRender"),p(u.oScroll,e,"sScrollX","sX"),p(u.oScroll,e,"sScrollXInner","sXInner"),p(u.oScroll,e,"sScrollY","sY"),p(u.oScroll,e,"bScrollCollapse","bCollapse"),p(u.oScroll,e,"bScrollInfinite","bInfinite"),p(u.oScroll,e,"iScrollLoadGap","iLoadGap"),p(u.oScroll,e,"bScrollAutoCss","bAutoCss"),p(u,e,"asStripeClasses"),p(u,e,"asStripClasses","asStripeClasses"),p(u,e,"fnServerData"),p(u,e,"fnFormatNumber"),p(u,e,"sServerMethod"),p(u,e,"aaSorting"),p(u,e,"aaSortingFixed"),p(u,e,"aLengthMenu"),p(u,e,"sPaginationType"),p(u,e,"sAjaxSource"),p(u,e,"sAjaxDataProp"),p(u,e,"iCookieDuration"),p(u,e,"sCookiePrefix"),p(u,e,"sDom"),p(u,e,"bSortCellsTop"),p(u,e,"iTabIndex"),p(u,e,"oSearch","oPreviousSearch"),p(u,e,"aoSearchCols","aoPreSearchCols"),p(u,e,"iDisplayLength","_iDisplayLength"),p(u,e,"bJQueryUI","bJUI"),p(u,e,"fnCookieCallback"),p(u,e,"fnStateLoad"),p(u,e,"fnStateSave"),p(u.oLanguage,e,"fnInfoCallback"),z(u,"aoDrawCallback",e.fnDrawCallback,"user"),z(u,"aoServerParams",e.fnServerParams,"user"),z(u,"aoStateSaveParams",e.fnStateSaveParams,"user"),z(u,"aoStateLoadParams",e.fnStateLoadParams,"user"),z(u,"aoStateLoaded",e.fnStateLoaded,"user"),z(u,"aoRowCallback",e.fnRowCallback,"user"),z(u,"aoRowCreatedCallback",e.fnCreatedRow,"user"),z(u,"aoHeaderCallback",e.fnHeaderCallback,"user"),z(u,"aoFooterCallback",e.fnFooterCallback,"user"),z(u,"aoInitComplete",e.fnInitComplete,"user"),z(u,"aoPreDrawCallback",e.fnPreDrawCallback,"user"),u.oFeatures.bServerSide&&u.oFeatures.bSort&&u.oFeatures.bSortClasses?z(u,"aoDrawCallback",P,"server_side_sort_classes"):u.oFeatures.bDeferRender&&z(u,"aoDrawCallback",P,"defer_sort_classes"),e.bJQueryUI?(h.extend(u.oClasses,j.ext.oJUIClasses),e.sDom===j.defaults.sDom&&"lfrtip"===j.defaults.sDom&&(u.sDom='<"H"lfr>t<"F"ip>')):h.extend(u.oClasses,j.ext.oStdClasses),h(this).addClass(u.oClasses.sTable),(""!==u.oScroll.sX||""!==u.oScroll.sY)&&(u.oScroll.iBarWidth=Qa()),u.iInitDisplayStart===n&&(u.iInitDisplayStart=e.iDisplayStart,u._iDisplayStart=e.iDisplayStart),e.bStateSave&&(u.oFeatures.bStateSave=!0,Sa(u,e),z(u,"aoDrawCallback",ra,"state_save")),null!==e.iDeferLoading&&(u.bDeferLoading=!0,r=h.isArray(e.iDeferLoading),u._iRecordsDisplay=r?e.iDeferLoading[0]:e.iDeferLoading,u._iRecordsTotal=r?e.iDeferLoading[1]:e.iDeferLoading),null!==e.aaData&&(c=!0),""!==e.oLanguage.sUrl?(u.oLanguage.sUrl=e.oLanguage.sUrl,h.getJSON(u.oLanguage.sUrl,null,function(t){pa(t),h.extend(!0,u.oLanguage,e.oLanguage,t),ba(u)}),a=!0):h.extend(!0,u.oLanguage,e.oLanguage),null===e.asStripeClasses&&(u.asStripeClasses=[u.oClasses.sStripeOdd,u.oClasses.sStripeEven]),t=u.asStripeClasses.length,u.asDestroyStripes=[],t){for(i=!1,s=h(this).children("tbody").children("tr:lt("+t+")"),r=0;t>r;r++)s.hasClass(u.asStripeClasses[r])&&(i=!0,u.asDestroyStripes.push(u.asStripeClasses[r]));i&&s.removeClass(u.asStripeClasses.join(" "))}if(i=[],r=this.getElementsByTagName("thead"),0!==r.length&&(V(u.aoHeader,r[0]),i=N(u)),null===e.aoColumns)for(s=[],r=0,t=i.length;t>r;r++)s.push(null);else s=e.aoColumns;for(r=0,t=s.length;t>r;r++)e.saved_aoColumns!==n&&e.saved_aoColumns.length==t&&(null===s[r]&&(s[r]={}),s[r].bVisible=e.saved_aoColumns[r].bVisible),o(u,i?i[r]:null);for(ta(u,e.aoColumnDefs,s,function(e,t){m(u,e,t)}),r=0,t=u.aaSorting.length;t>r;r++){u.aaSorting[r][0]>=u.aoColumns.length&&(u.aaSorting[r][0]=0);var d=u.aoColumns[u.aaSorting[r][0]];for(u.aaSorting[r][2]===n&&(u.aaSorting[r][2]=0),e.aaSorting===n&&u.saved_aaSorting===n&&(u.aaSorting[r][1]=d.asSorting[0]),i=0,s=d.asSorting.length;s>i;i++)if(u.aaSorting[r][1]==d.asSorting[i]){u.aaSorting[r][2]=i;break}}if(P(u),Ua(u),r=h(this).children("caption").each(function(){this._captionSide=h(this).css("caption-side")}),t=h(this).children("thead"),0===t.length&&(t=[l.createElement("thead")],this.appendChild(t[0])),u.nTHead=t[0],t=h(this).children("tbody"),0===t.length&&(t=[l.createElement("tbody")],this.appendChild(t[0])),u.nTBody=t[0],u.nTBody.setAttribute("role","alert"),u.nTBody.setAttribute("aria-live","polite"),u.nTBody.setAttribute("aria-relevant","all"),t=h(this).children("tfoot"),0===t.length&&0<r.length&&(""!==u.oScroll.sX||""!==u.oScroll.sY)&&(t=[l.createElement("tfoot")],this.appendChild(t[0])),0<t.length&&(u.nTFoot=t[0],V(u.aoFooter,u.nTFoot)),c)for(r=0;r<e.aaData.length;r++)H(u,e.aaData[r]);else ua(u);u.aiDisplay=u.aiDisplayMaster.slice(),u.bInitialised=!0,!1===a&&ba(u)}}),ca=null,this};j.fnVersionCheck=function(e){for(var t=function(e,t){for(;e.length<t;)e+="0";return e},i=j.ext.sVersion.split("."),e=e.split("."),n="",s="",o=0,r=e.length;r>o;o++)n+=t(i[o],3),s+=t(e[o],3);return parseInt(n,10)>=parseInt(s,10)},j.fnIsDataTable=function(e){for(var t=j.settings,i=0;i<t.length;i++)if(t[i].nTable===e||t[i].nScrollHead===e||t[i].nScrollFoot===e)return!0;return!1},j.fnTables=function(e){var t=[];return jQuery.each(j.settings,function(i,n){(!e||!0===e&&h(n.nTable).is(":visible"))&&t.push(n.nTable)}),t},j.version="1.9.4",j.settings=[],j.models={},j.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:j.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:j.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}},j.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},j.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""},j.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},j.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){if(1e3>e)return e;for(var t=e+"",e=t.split(""),i="",t=t.length,n=0;t>n;n++)0===n%3&&0!==n&&(i=this.oLanguage.sInfoThousands+i),i=e[t-n-1]+i;return i},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(e,t,i,n){n.jqXHR=h.ajax({url:e,data:t,success:function(e){e.sError&&n.oApi._fnLog(n,0,e.sError),h(n.oInstance).trigger("xhr",[n,e]),i(e)},dataType:"json",cache:!1,type:n.sServerMethod,error:function(e,t){"parsererror"==t&&n.oApi._fnLog(n,0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(e){var e=this.oApi._fnReadCookie(e.sCookiePrefix+e.sInstance),j;try{j="function"==typeof h.parseJSON?h.parseJSON(e):eval("("+e+")")}catch(m){j=null}return j},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(e,t){this.oApi._fnCreateCookie(e.sCookiePrefix+e.sInstance,this.oApi._fnJsonString(t),e.iCookieDuration,e.sCookiePrefix,e.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:h.extend({},j.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"},j.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},j.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?!1===this.oFeatures.bPaginate||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null},j.ext=h.extend(!0,{},j.models.ext),h.extend(j.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"",sJUIHeader:"",sJUIFooter:""}),h.extend(j.ext.oJUIClasses,j.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}),h.extend(j.ext.oPagination,{two_button:{fnInit:function(e,t,i){var n=e.oLanguage.oPaginate,s=function(t){e.oApi._fnPageChange(e,t.data.action)&&i(e)},n=e.bJUI?'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUIPrev+'"></span></a><a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUINext+'"></span></a>':'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+n.sPrevious+'</a><a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+n.sNext+"</a>";
h(t).append(n);var o=h("a",t),n=o[0],o=o[1];e.oApi._fnBindAction(n,{action:"previous"},s),e.oApi._fnBindAction(o,{action:"next"},s),e.aanFeatures.p||(t.id=e.sTableId+"_paginate",n.id=e.sTableId+"_previous",o.id=e.sTableId+"_next",n.setAttribute("aria-controls",e.sTableId),o.setAttribute("aria-controls",e.sTableId))},fnUpdate:function(e){if(e.aanFeatures.p)for(var t,i=e.oClasses,n=e.aanFeatures.p,s=0,o=n.length;o>s;s++)(t=n[s].firstChild)&&(t.className=0===e._iDisplayStart?i.sPagePrevDisabled:i.sPagePrevEnabled,t=t.nextSibling,t.className=e.fnDisplayEnd()==e.fnRecordsDisplay()?i.sPageNextDisabled:i.sPageNextEnabled)}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(e,t,i){var n=e.oLanguage.oPaginate,s=e.oClasses,o=function(t){e.oApi._fnPageChange(e,t.data.action)&&i(e)};h(t).append('<a  tabindex="'+e.iTabIndex+'" class="'+s.sPageButton+" "+s.sPageFirst+'">'+n.sFirst+'</a><a  tabindex="'+e.iTabIndex+'" class="'+s.sPageButton+" "+s.sPagePrevious+'">'+n.sPrevious+'</a><span></span><a tabindex="'+e.iTabIndex+'" class="'+s.sPageButton+" "+s.sPageNext+'">'+n.sNext+'</a><a tabindex="'+e.iTabIndex+'" class="'+s.sPageButton+" "+s.sPageLast+'">'+n.sLast+"</a>");var r=h("a",t),n=r[0],s=r[1],a=r[2],r=r[3];e.oApi._fnBindAction(n,{action:"first"},o),e.oApi._fnBindAction(s,{action:"previous"},o),e.oApi._fnBindAction(a,{action:"next"},o),e.oApi._fnBindAction(r,{action:"last"},o),e.aanFeatures.p||(t.id=e.sTableId+"_paginate",n.id=e.sTableId+"_first",s.id=e.sTableId+"_previous",a.id=e.sTableId+"_next",r.id=e.sTableId+"_last")},fnUpdate:function(e,t){if(e.aanFeatures.p){var i,n,s=j.ext.oPagination.iFullNumbersShowPages,o=Math.floor(s/2),r=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength),a=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1,l="",c=e.oClasses,u=e.aanFeatures.p,d=function(n){e.oApi._fnBindAction(this,{page:n+i-1},function(i){e.oApi._fnPageChange(e,i.data.page),t(e),i.preventDefault()})};for(-1===e._iDisplayLength?a=o=i=1:s>r?(i=1,o=r):o>=a?(i=1,o=s):a>=r-o?(i=r-s+1,o=r):(i=a-Math.ceil(s/2)+1,o=i+s-1),s=i;o>=s;s++)l+=a!==s?'<a tabindex="'+e.iTabIndex+'" class="'+c.sPageButton+'">'+e.fnFormatNumber(s)+"</a>":'<a tabindex="'+e.iTabIndex+'" class="'+c.sPageButtonActive+'">'+e.fnFormatNumber(s)+"</a>";for(s=0,o=u.length;o>s;s++)n=u[s],n.hasChildNodes()&&(h("span:eq(0)",n).html(l).children("a").each(d),n=n.getElementsByTagName("a"),n=[n[0],n[1],n[n.length-2],n[n.length-1]],h(n).removeClass(c.sPageButton+" "+c.sPageButtonActive+" "+c.sPageButtonStaticDisabled),h([n[0],n[1]]).addClass(1==a?c.sPageButtonStaticDisabled:c.sPageButton),h([n[2],n[3]]).addClass(0===r||a===r||-1===e._iDisplayLength?c.sPageButtonStaticDisabled:c.sPageButton))}}}}),h.extend(j.ext.oSort,{"string-pre":function(e){return"string"!=typeof e&&(e=null!==e&&e.toString?e.toString():""),e.toLowerCase()},"string-asc":function(e,t){return t>e?-1:e>t?1:0},"string-desc":function(e,t){return t>e?1:e>t?-1:0},"html-pre":function(e){return e.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(e,t){return t>e?-1:e>t?1:0},"html-desc":function(e,t){return t>e?1:e>t?-1:0},"date-pre":function(e){return e=Date.parse(e),(isNaN(e)||""===e)&&(e=Date.parse("01/01/1970 00:00:00")),e},"date-asc":function(e,t){return e-t},"date-desc":function(e,t){return t-e},"numeric-pre":function(e){return"-"==e||""===e?0:1*e},"numeric-asc":function(e,t){return e-t},"numeric-desc":function(e,t){return t-e}}),h.extend(j.ext.aTypes,[function(e){if("number"==typeof e)return"numeric";if("string"!=typeof e)return null;var t,i=!1;if(t=e.charAt(0),-1=="0123456789-".indexOf(t))return null;for(var n=1;n<e.length;n++){if(t=e.charAt(n),-1=="0123456789.".indexOf(t))return null;if("."==t){if(i)return null;i=!0}}return"numeric"},function(e){var t=Date.parse(e);return null!==t&&!isNaN(t)||"string"==typeof e&&0===e.length?"date":null},function(e){return"string"==typeof e&&-1!=e.indexOf("<")&&-1!=e.indexOf(">")?"html":null}]),h.fn.DataTable=j,h.fn.dataTable=j,h.fn.dataTableSettings=j.settings,h.fn.dataTableExt=j.ext};"function"==typeof define&&define.amd?define(["jquery"],L):jQuery&&!jQuery.fn.dataTable&&L(jQuery)}(window,document),jQuery.fn.dataTableExt.oApi.fnPagingInfo=function(e){return{iStart:e._iDisplayStart,iEnd:e.fnDisplayEnd(),iLength:e._iDisplayLength,iTotal:e.fnRecordsTotal(),iFilteredTotal:e.fnRecordsDisplay(),iPage:Math.ceil(e._iDisplayStart/e._iDisplayLength),iTotalPages:Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength)}},jQuery.extend(jQuery.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(e,t,i){var n=e.oLanguage.oPaginate,s=function(t){t.preventDefault(),e.oApi._fnPageChange(e,t.data.action)&&i(e)};jQuery(t).append('<ul class="pagination pagination-sm remove-margin"><li class="prev disabled"><a href="javascript:void(0)"><i class="fa fa-chevron-left"></i> '+n.sPrevious+'</a></li><li class="next disabled"><a href="javascript:void(0)">'+n.sNext+' <i class="fa fa-chevron-right"></i></a></li></ul>');var o=jQuery("a",t);jQuery(o[0]).bind("click.DT",{action:"previous"},s),jQuery(o[1]).bind("click.DT",{action:"next"},s)},fnUpdate:function(e,t){var i,n,s,o,r,a=5,l=e.oInstance.fnPagingInfo(),c=e.aanFeatures.p,h=Math.floor(a/2);for(l.iTotalPages<a?(o=1,r=l.iTotalPages):l.iPage<=h?(o=1,r=a):l.iPage>=l.iTotalPages-h?(o=l.iTotalPages-a+1,r=l.iTotalPages):(o=l.iPage-h+1,r=o+a-1),i=0,iLen=c.length;iLen>i;i++){for(jQuery("li:gt(0)",c[i]).filter(":not(:last)").remove(),n=o;r>=n;n++)s=n===l.iPage+1?'class="active"':"",jQuery("<li "+s+'><a href="javascript:void(0)">'+n+"</a></li>").insertBefore(jQuery("li:last",c[i])[0]).bind("click",function(i){i.preventDefault(),e._iDisplayStart=(parseInt(jQuery("a",this).text(),10)-1)*l.iLength,t(e)});0===l.iPage?jQuery("li:first",c[i]).addClass("disabled"):jQuery("li:first",c[i]).removeClass("disabled"),l.iPage===l.iTotalPages-1||0===l.iTotalPages?jQuery("li:last",c[i]).addClass("disabled"):jQuery("li:last",c[i]).removeClass("disabled")}}}}),/*!
 * FullCalendar v1.6.4 & Google Calendar Extension
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2013 Adam Shaw
 */
function(e,t){function i(t){e.extend(!0,Ct,t)}function n(i,n,c){function h(e){st?m()&&(T(),_(e)):u()}function u(){ot=n.theme?"ui":"fc",i.addClass("fc"),i.addClass(n.isRTL?"fc-rtl":"fc-ltr"),n.theme&&i.addClass("ui-widget"),st=e("<div class='fc-content' style='position:relative'/>").prependTo(i),it=new s(tt,n),nt=it.render(),nt&&i.prepend(nt),y(n.defaultView),n.handleWindowResize&&e(window).resize(D),v()||f()}function f(){setTimeout(function(){!rt.start&&v()&&C()},0)}function p(){rt&&(et("viewDestroy",rt,rt,rt.element),rt.triggerEventDestroy()),e(window).unbind("resize",D),it.destroy(),st.remove(),i.removeClass("fc fc-rtl ui-widget")}function m(){return i.is(":visible")}function v(){return e("body").is(":visible")}function y(e){rt&&e==rt.name||x(e)}function x(t){pt++,rt&&(et("viewDestroy",rt,rt,rt.element),W(),rt.triggerEventDestroy(),J(),rt.element.remove(),it.deactivateButton(rt.name)),it.activateButton(t),rt=new Tt[t](e("<div class='fc-view fc-view-"+t+"' style='position:relative'/>").appendTo(st),tt),C(),G(),pt--}function C(e){(!rt.start||e||rt.start>gt||gt>=rt.end)&&m()&&_(e)}function _(e){pt++,rt.start&&(et("viewDestroy",rt,rt,rt.element),W(),A()),J(),rt.render(gt,e||0),k(),G(),(rt.afterRender||P)(),O(),H(),et("viewRender",rt,rt,rt.element),rt.trigger("viewDisplay",dt),pt--,F()}function S(){m()&&(W(),A(),T(),k(),M())}function T(){lt=n.contentHeight?n.contentHeight:n.height?n.height-(nt?nt.height():0)-R(st):Math.round(st.width()/Math.max(n.aspectRatio,.5))}function k(){lt===t&&T(),pt++,rt.setHeight(lt),rt.setWidth(st.width()),pt--,at=i.outerWidth()}function D(){if(!pt)if(rt.start){var e=++ft;setTimeout(function(){e==ft&&!pt&&m()&&at!=(at=i.outerWidth())&&(pt++,S(),rt.trigger("windowResize",dt),pt--)},200)}else f()}function E(){A(),I()}function N(e){A(),M(e)}function M(e){m()&&(rt.setEventData(mt),rt.renderEvents(mt,e),rt.trigger("eventAfterAllRender"))}function A(){rt.triggerEventDestroy(),rt.clearEvents(),rt.clearEventData()}function F(){!n.lazyFetching||ht(rt.visStart,rt.visEnd)?I():M()}function I(){ut(rt.visStart,rt.visEnd)}function L(e){mt=e,M()}function z(e){N(e)}function O(){it.updateTitle(rt.title)}function H(){var e=new Date;e>=rt.start&&rt.end>e?it.disableButton("today"):it.enableButton("today")}function j(e,i,n){rt.select(e,i,n===t?!0:n)}function W(){rt&&rt.unselect()}function B(){C(-1)}function q(){C(1)}function $(){r(gt,-1),C()}function U(){r(gt,1),C()}function V(){gt=new Date,C()}function Y(e,t,i){e instanceof Date?gt=d(e):g(gt,e,t,i),C()}function X(e,i,n){e!==t&&r(gt,e),i!==t&&a(gt,i),n!==t&&l(gt,n),C()}function Q(){return d(gt)}function J(){st.css({width:"100%",height:st.height(),overflow:"hidden"})}function G(){st.css({width:"",height:"",overflow:""})}function K(){return rt}function Z(e,i){return i===t?n[e]:(("height"==e||"contentHeight"==e||"aspectRatio"==e)&&(n[e]=i,S()),t)}function et(e,i){return n[e]?n[e].apply(i||dt,Array.prototype.slice.call(arguments,2)):t}var tt=this;tt.options=n,tt.render=h,tt.destroy=p,tt.refetchEvents=E,tt.reportEvents=L,tt.reportEventChange=z,tt.rerenderEvents=N,tt.changeView=y,tt.select=j,tt.unselect=W,tt.prev=B,tt.next=q,tt.prevYear=$,tt.nextYear=U,tt.today=V,tt.gotoDate=Y,tt.incrementDate=X,tt.formatDate=function(e,t){return b(e,t,n)},tt.formatDates=function(e,t,i){return w(e,t,i,n)},tt.getDate=Q,tt.getView=K,tt.option=Z,tt.trigger=et,o.call(tt,n,c);var it,nt,st,ot,rt,at,lt,ct,ht=tt.isFetchNeeded,ut=tt.fetchEvents,dt=i[0],ft=0,pt=0,gt=new Date,mt=[];g(gt,n.year,n.month,n.date),n.droppable&&e(document).bind("dragstart",function(t,i){var s=t.target,o=e(s);if(!o.parents(".fc").length){var r=n.dropAccept;(e.isFunction(r)?r.call(s,o):o.is(r))&&(ct=s,rt.dragStart(ct,t,i))}}).bind("dragstop",function(e,t){ct&&(rt.dragStop(ct,e,t),ct=null)})}function s(i,n){function s(){f=n.theme?"ui":"fc";var i=n.header;return i?p=e("<table class='fc-header' style='width:100%'/>").append(e("<tr/>").append(r("left")).append(r("center")).append(r("right"))):t}function o(){p.remove()}function r(t){var s=e("<td class='fc-header-"+t+"'/>"),o=n.header[t];return o&&e.each(o.split(" "),function(t){t>0&&s.append("<span class='fc-header-space'/>");var o;e.each(this.split(","),function(t,r){if("title"==r)s.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),o&&o.addClass(f+"-corner-right"),o=null;else{var a;if(i[r]?a=i[r]:Tt[r]&&(a=function(){h.removeClass(f+"-state-hover"),i.changeView(r)}),a){var l=n.theme?H(n.buttonIcons,r):null,c=H(n.buttonText,r),h=e("<span class='fc-button fc-button-"+r+" "+f+"-state-default'>"+(l?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+l+"'/></span>":c)+"</span>").click(function(){h.hasClass(f+"-state-disabled")||a()}).mousedown(function(){h.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")}).mouseup(function(){h.removeClass(f+"-state-down")}).hover(function(){h.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-hover")},function(){h.removeClass(f+"-state-hover").removeClass(f+"-state-down")}).appendTo(s);W(h),o||h.addClass(f+"-corner-left"),o=h}}}),o&&o.addClass(f+"-corner-right")}),s}function a(e){p.find("h2").html(e)}function l(e){p.find("span.fc-button-"+e).addClass(f+"-state-active")}function c(e){p.find("span.fc-button-"+e).removeClass(f+"-state-active")}function h(e){p.find("span.fc-button-"+e).addClass(f+"-state-disabled")}function u(e){p.find("span.fc-button-"+e).removeClass(f+"-state-disabled")}var d=this;d.render=s,d.destroy=o,d.updateTitle=a,d.activateButton=l,d.deactivateButton=c,d.disableButton=h,d.enableButton=u;var f,p=e([])}function o(i,n){function s(e,t){return!S||S>e||t>T}function o(e,t){S=e,T=t,I=[];var i=++R,n=M.length;A=n;for(var s=0;n>s;s++)r(M[s],i)}function r(t,n){a(t,function(s){if(n==R){if(s){i.eventDataTransform&&(s=e.map(s,i.eventDataTransform)),t.eventDataTransform&&(s=e.map(s,t.eventDataTransform));for(var o=0;s.length>o;o++)s[o].source=t,b(s[o]);I=I.concat(s)}A--,A||E(I)}})}function a(n,s){var o,r,l=St.sourceFetchers;for(o=0;l.length>o;o++){if(r=l[o](n,S,T,s),r===!0)return;if("object"==typeof r)return a(r,s),t}var c=n.events;if(c)e.isFunction(c)?(v(),c(d(S),d(T),function(e){s(e),y()})):e.isArray(c)?s(c):s();else{var h=n.url;if(h){var u,f=n.success,p=n.error,g=n.complete;u=e.isFunction(n.data)?n.data():n.data;var m=e.extend({},u||{}),b=U(n.startParam,i.startParam),w=U(n.endParam,i.endParam);b&&(m[b]=Math.round(+S/1e3)),w&&(m[w]=Math.round(+T/1e3)),v(),e.ajax(e.extend({},kt,n,{data:m,success:function(t){t=t||[];var i=$(f,this,arguments);e.isArray(i)&&(t=i),s(t)},error:function(){$(p,this,arguments),s()},complete:function(){$(g,this,arguments),y()}}))}else s()}}function l(e){e=c(e),e&&(A++,r(e,R))}function c(i){return e.isFunction(i)||e.isArray(i)?i={events:i}:"string"==typeof i&&(i={url:i}),"object"==typeof i?(w(i),M.push(i),i):t}function h(t){M=e.grep(M,function(e){return!x(e,t)}),I=e.grep(I,function(e){return!x(e.source,t)}),E(I)}function u(e){var t,i,n=I.length,s=D().defaultEventEnd,o=e.start-e._start,r=e.end?e.end-(e._end||s(e)):0;for(t=0;n>t;t++)i=I[t],i._id==e._id&&i!=e&&(i.start=new Date(+i.start+o),i.end=e.end?new Date(i.end?+i.end+r:+s(i)+r):null,i.title=e.title,i.url=e.url,i.allDay=e.allDay,i.className=e.className,i.editable=e.editable,i.color=e.color,i.backgroundColor=e.backgroundColor,i.borderColor=e.borderColor,i.textColor=e.textColor,b(i));b(e),E(I)}function f(e,t){b(e),e.source||(t&&(N.events.push(e),e.source=N),I.push(e)),E(I)}function p(t){if(t){if(!e.isFunction(t)){var i=t+"";t=function(e){return e._id==i}}I=e.grep(I,t,!0);for(var n=0;M.length>n;n++)e.isArray(M[n].events)&&(M[n].events=e.grep(M[n].events,t,!0))}else{I=[];for(var n=0;M.length>n;n++)e.isArray(M[n].events)&&(M[n].events=[])}E(I)}function g(t){return e.isFunction(t)?e.grep(I,t):t?(t+="",e.grep(I,function(e){return e._id==t})):I}function v(){F++||k("loading",null,!0,D())}function y(){--F||k("loading",null,!1,D())}function b(e){var n=e.source||{},s=U(n.ignoreTimezone,i.ignoreTimezone);e._id=e._id||(e.id===t?"_fc"+Dt++:e.id+""),e.date&&(e.start||(e.start=e.date),delete e.date),e._start=d(e.start=m(e.start,s)),e.end=m(e.end,s),e.end&&e.end<=e.start&&(e.end=null),e._end=e.end?d(e.end):null,e.allDay===t&&(e.allDay=U(n.allDayDefault,i.allDayDefault)),e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[]}function w(e){e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[];for(var t=St.sourceNormalizers,i=0;t.length>i;i++)t[i](e)}function x(e,t){return e&&t&&C(e)==C(t)}function C(e){return("object"==typeof e?e.events||e.url:"")||e}var _=this;_.isFetchNeeded=s,_.fetchEvents=o,_.addEventSource=l,_.removeEventSource=h,_.updateEvent=u,_.renderEvent=f,_.removeEvents=p,_.clientEvents=g,_.normalizeEvent=b;for(var S,T,k=_.trigger,D=_.getView,E=_.reportEvents,N={events:[]},M=[N],R=0,A=0,F=0,I=[],P=0;n.length>P;P++)c(n[P])}function r(e,t,i){return e.setFullYear(e.getFullYear()+t),i||u(e),e}function a(e,t,i){if(+e){var n=e.getMonth()+t,s=d(e);for(s.setDate(1),s.setMonth(n),e.setMonth(n),i||u(e);e.getMonth()!=s.getMonth();)e.setDate(e.getDate()+(s>e?1:-1))}return e}function l(e,t,i){if(+e){var n=e.getDate()+t,s=d(e);s.setHours(9),s.setDate(n),e.setDate(n),i||u(e),c(e,s)}return e}function c(e,t){if(+e)for(;e.getDate()!=t.getDate();)e.setTime(+e+(t>e?1:-1)*Mt)}function h(e,t){return e.setMinutes(e.getMinutes()+t),e}function u(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function d(e,t){return t?u(new Date(+e)):new Date(+e)}function f(){var e,t=0;do e=new Date(1970,t++,1);while(e.getHours());return e}function p(e,t){return Math.round((d(e,!0)-d(t,!0))/Nt)}function g(e,i,n,s){i!==t&&i!=e.getFullYear()&&(e.setDate(1),e.setMonth(0),e.setFullYear(i)),n!==t&&n!=e.getMonth()&&(e.setDate(1),e.setMonth(n)),s!==t&&e.setDate(s)}function m(e,i){return"object"==typeof e?e:"number"==typeof e?new Date(1e3*e):"string"==typeof e?e.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(e)):(i===t&&(i=!0),v(e,i)||(e?new Date(e):null)):null}function v(e,t){var i=e.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!i)return null;var n=new Date(i[1],0,1);if(t||!i[13]){var s=new Date(i[1],0,1,9,0);i[3]&&(n.setMonth(i[3]-1),s.setMonth(i[3]-1)),i[5]&&(n.setDate(i[5]),s.setDate(i[5])),c(n,s),i[7]&&n.setHours(i[7]),i[8]&&n.setMinutes(i[8]),i[10]&&n.setSeconds(i[10]),i[12]&&n.setMilliseconds(1e3*Number("0."+i[12])),c(n,s)}else if(n.setUTCFullYear(i[1],i[3]?i[3]-1:0,i[5]||1),n.setUTCHours(i[7]||0,i[8]||0,i[10]||0,i[12]?1e3*Number("0."+i[12]):0),i[14]){var o=60*Number(i[16])+(i[18]?Number(i[18]):0);o*="-"==i[15]?1:-1,n=new Date(+n+6e4*o)}return n}function y(e){if("number"==typeof e)return 60*e;if("object"==typeof e)return 60*e.getHours()+e.getMinutes();var t=e.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(t){var i=parseInt(t[1],10);return t[3]&&(i%=12,"p"==t[3].toLowerCase().charAt(0)&&(i+=12)),60*i+(t[2]?parseInt(t[2],10):0)}}function b(e,t,i){return w(e,null,t,i)}function w(e,t,i,n){n=n||Ct;var s,o,r,a,l=e,c=t,h=i.length,u="";for(s=0;h>s;s++)if(o=i.charAt(s),"'"==o){for(r=s+1;h>r;r++)if("'"==i.charAt(r)){l&&(u+=r==s+1?"'":i.substring(s+1,r),s=r);break}}else if("("==o){for(r=s+1;h>r;r++)if(")"==i.charAt(r)){var d=b(l,i.substring(s+1,r),n);parseInt(d.replace(/\D/,""),10)&&(u+=d),s=r;break}}else if("["==o){for(r=s+1;h>r;r++)if("]"==i.charAt(r)){var f=i.substring(s+1,r),d=b(l,f,n);d!=b(c,f,n)&&(u+=d),s=r;break}}else if("{"==o)l=t,c=e;else if("}"==o)l=e,c=t;else{for(r=h;r>s;r--)if(a=At[i.substring(s,r)]){l&&(u+=a(l,n)),s=r-1;break}r==s&&l&&(u+=o)}return u}function x(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1}function C(e){return e.end?_(e.end,e.allDay):l(d(e.start),1)}function _(e,t){return e=d(e),t||e.getHours()||e.getMinutes()?l(e,1):u(e)}function S(i,n,s){i.unbind("mouseover").mouseover(function(i){for(var o,r,a,l=i.target;l!=this;)o=l,l=l.parentNode;(r=o._fci)!==t&&(o._fci=t,a=n[r],s(a.event,a.element,a),e(i.target).trigger(i)),i.stopPropagation()})}function T(t,i,n){for(var s,o=0;t.length>o;o++)s=e(t[o]),s.width(Math.max(0,i-D(s,n)))}function k(t,i,n){for(var s,o=0;t.length>o;o++)s=e(t[o]),s.height(Math.max(0,i-R(s,n)))}function D(e,t){return E(e)+M(e)+(t?N(e):0)}function E(t){return(parseFloat(e.css(t[0],"paddingLeft",!0))||0)+(parseFloat(e.css(t[0],"paddingRight",!0))||0)}function N(t){return(parseFloat(e.css(t[0],"marginLeft",!0))||0)+(parseFloat(e.css(t[0],"marginRight",!0))||0)}function M(t){return(parseFloat(e.css(t[0],"borderLeftWidth",!0))||0)+(parseFloat(e.css(t[0],"borderRightWidth",!0))||0)}function R(e,t){return A(e)+I(e)+(t?F(e):0)}function A(t){return(parseFloat(e.css(t[0],"paddingTop",!0))||0)+(parseFloat(e.css(t[0],"paddingBottom",!0))||0)}function F(t){return(parseFloat(e.css(t[0],"marginTop",!0))||0)+(parseFloat(e.css(t[0],"marginBottom",!0))||0)}function I(t){return(parseFloat(e.css(t[0],"borderTopWidth",!0))||0)+(parseFloat(e.css(t[0],"borderBottomWidth",!0))||0)}function P(){}function L(e,t){return e-t}function z(e){return Math.max.apply(Math,e)}function O(e){return(10>e?"0":"")+e}function H(e,i){if(e[i]!==t)return e[i];for(var n,s=i.split(/(?=[A-Z])/),o=s.length-1;o>=0;o--)if(n=e[s[o].toLowerCase()],n!==t)return n;return e[""]}function j(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function W(e){e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function B(e){e.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function q(e,t){var i=e.source||{},n=e.color,s=i.color,o=t("eventColor"),r=e.backgroundColor||n||i.backgroundColor||s||t("eventBackgroundColor")||o,a=e.borderColor||n||i.borderColor||s||t("eventBorderColor")||o,l=e.textColor||i.textColor||t("eventTextColor"),c=[];return r&&c.push("background-color:"+r),a&&c.push("border-color:"+a),l&&c.push("color:"+l),c.join(";")}function $(t,i,n){if(e.isFunction(t)&&(t=[t]),t){var s,o;for(s=0;t.length>s;s++)o=t[s].apply(i,n)||o;return o}}function U(){for(var e=0;arguments.length>e;e++)if(arguments[e]!==t)return arguments[e]}function V(e,t){function i(e,t){t&&(a(e,t),e.setDate(1));var i=s("firstDay"),u=d(e,!0);u.setDate(1);var f=a(d(u),1),g=d(u);l(g,-((g.getDay()-i+7)%7)),r(g);var m=d(f);l(m,(7-m.getDay()+i)%7),r(m,-1,!0);var v=c(),y=Math.round(p(m,g)/7);"fixed"==s("weekMode")&&(l(m,7*(6-y)),y=6),n.title=h(u,s("titleFormat")),n.start=u,n.end=f,n.visStart=g,n.visEnd=m,o(y,v,!0)}var n=this;n.render=i,Q.call(n,e,t,"month");var s=n.opt,o=n.renderBasic,r=n.skipHiddenDays,c=n.getCellsPerWeek,h=t.formatDate}function Y(e,t){function i(e,t){t&&l(e,7*t);var i=l(d(e),-((e.getDay()-s("firstDay")+7)%7)),h=l(d(i),7),u=d(i);r(u);var f=d(h);r(f,-1,!0);var p=a();n.start=i,n.end=h,n.visStart=u,n.visEnd=f,n.title=c(u,l(d(f),-1),s("titleFormat")),o(1,p,!1)}var n=this;n.render=i,Q.call(n,e,t,"basicWeek");var s=n.opt,o=n.renderBasic,r=n.skipHiddenDays,a=n.getCellsPerWeek,c=t.formatDates}function X(e,t){function i(e,t){t&&l(e,t),r(e,0>t?-1:1);var i=d(e,!0),c=l(d(i),1);n.title=a(e,s("titleFormat")),n.start=n.visStart=i,n.end=n.visEnd=c,o(1,1,!1)}var n=this;n.render=i,Q.call(n,e,t,"basicDay");var s=n.opt,o=n.renderBasic,r=n.skipHiddenDays,a=t.formatDate}function Q(t,i,n){function s(e,t,i){tt=e,it=t,nt=i,o(),q||r(),a()}function o(){lt=pt("theme")?"ui":"fc",ct=pt("columnFormat"),ht=pt("weekNumbers"),dt=pt("weekNumberTitle"),ft="iso"!=pt("weekNumberCalculation")?"w":"W"}function r(){Q=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function a(){var i=c();z&&z.remove(),z=e(i).appendTo(t),O=z.find("thead"),H=O.find(".fc-day-header"),q=z.find("tbody"),$=q.find("tr"),U=q.find(".fc-day"),V=$.find("td:first-child"),Y=$.eq(0).find(".fc-day > div"),X=$.eq(0).find(".fc-day-content > div"),B(O.add(O.find("tr"))),B($),$.eq(0).addClass("fc-first"),$.filter(":last").addClass("fc-last"),U.each(function(t,i){var n=St(Math.floor(t/it),t%it);gt("dayRender",L,n,e(i))}),y(U)}function c(){var e="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+h()+f()+"</table>";return e}function h(){var e,t,i=lt+"-widget-header",n="";for(n+="<thead><tr>",ht&&(n+="<th class='fc-week-number "+i+"'>"+j(dt)+"</th>"),e=0;it>e;e++)t=St(0,e),n+="<th class='fc-day-header fc-"+Et[t.getDay()]+" "+i+"'>"+j(Dt(t,ct))+"</th>";return n+="</tr></thead>"}function f(){var e,t,i,n=lt+"-widget-content",s="";for(s+="<tbody>",e=0;tt>e;e++){for(s+="<tr class='fc-week'>",ht&&(i=St(e,0),s+="<td class='fc-week-number "+n+"'><div>"+j(Dt(i,ft))+"</div></td>"),t=0;it>t;t++)i=St(e,t),s+=p(i);s+="</tr>"}return s+="</tbody>"}function p(e){var t=lt+"-widget-content",i=L.start.getMonth(),n=u(new Date),s="",o=["fc-day","fc-"+Et[e.getDay()],t];return e.getMonth()!=i&&o.push("fc-other-month"),+e==+n?o.push("fc-today",lt+"-state-highlight"):o.push(n>e?"fc-past":"fc-future"),s+="<td class='"+o.join(" ")+"' data-date='"+Dt(e,"yyyy-MM-dd")+"'><div>",nt&&(s+="<div class='fc-day-number'>"+e.getDate()+"</div>"),s+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function g(t){K=t;var i,n,s,o=K-O.height();"variable"==pt("weekMode")?i=n=Math.floor(o/(1==tt?2:6)):(i=Math.floor(o/tt),n=o-i*(tt-1)),V.each(function(t,o){tt>t&&(s=e(o),s.find("> div").css("min-height",(t==tt-1?n:i)-R(s)))})}function m(e){G=e,rt.clear(),at.clear(),et=0,ht&&(et=O.find("th.fc-week-number").outerWidth()),Z=Math.floor((G-et)/it),T(H.slice(0,-1),Z)}function y(e){e.click(b).mousedown(_t)}function b(t){if(!pt("selectable")){var i=v(e(this).data("date"));gt("dayClick",this,i,!0,t)}}function w(e,t,i){i&&st.build();for(var n=kt(e,t),s=0;n.length>s;s++){var o=n[s];y(x(o.row,o.leftCol,o.row,o.rightCol))}}function x(e,i,n,s){var o=st.rect(e,i,n,s,t);return wt(o,t)}function C(e){return d(e)}function _(e,t){w(e,l(d(t),1),!0)}function S(){Ct()}function k(e,t,i){var n=Tt(e),s=U[n.row*it+n.col];gt("dayClick",s,e,t,i)}function D(e,t){ot.start(function(e){Ct(),e&&x(e.row,e.col,e.row,e.col)},t)}function E(e,t,i){var n=ot.stop();if(Ct(),n){var s=St(n);gt("drop",e,s,!0,t,i)}}function N(e){return d(e.start)}function M(e){return rt.left(e)}function A(e){return rt.right(e)}function F(e){return at.left(e)}function I(e){return at.right(e)}function P(e){return $.eq(e)}var L=this;L.renderBasic=s,L.setHeight=g,L.setWidth=m,L.renderDayOverlay=w,L.defaultSelectionEnd=C,L.renderSelection=_,L.clearSelection=S,L.reportDayClick=k,L.dragStart=D,L.dragStop=E,L.defaultEventEnd=N,L.getHoverListener=function(){return ot},L.colLeft=M,L.colRight=A,L.colContentLeft=F,L.colContentRight=I,L.getIsCellAllDay=function(){return!0},L.allDayRow=P,L.getRowCnt=function(){return tt},L.getColCnt=function(){return it},L.getColWidth=function(){return Z},L.getDaySegmentContainer=function(){return Q},ut.call(L,t,i,n),vt.call(L),mt.call(L),J.call(L);var z,O,H,q,$,U,V,Y,X,Q,G,K,Z,et,tt,it,nt,st,ot,rt,at,lt,ct,ht,dt,ft,pt=L.opt,gt=L.trigger,wt=L.renderOverlay,Ct=L.clearOverlays,_t=L.daySelectionMousedown,St=L.cellToDate,Tt=L.dateToCell,kt=L.rangeToSegments,Dt=i.formatDate;W(t.addClass("fc-grid")),st=new yt(function(t,i){var n,s,o;H.each(function(t,r){n=e(r),s=n.offset().left,t&&(o[1]=s),o=[s],i[t]=o}),o[1]=s+n.outerWidth(),$.each(function(i,r){tt>i&&(n=e(r),s=n.offset().top,i&&(o[1]=s),o=[s],t[i]=o)}),o[1]=s+n.outerHeight()}),ot=new bt(st),rt=new xt(function(e){return Y.eq(e)}),at=new xt(function(e){return X.eq(e)})}function J(){function e(e,t){i.renderDayEvents(e,t)}function t(){i.getDaySegmentContainer().empty()}var i=this;i.renderEvents=e,i.clearEvents=t,dt.call(i)}function G(e,t){function i(e,t){t&&l(e,7*t);var i=l(d(e),-((e.getDay()-s("firstDay")+7)%7)),h=l(d(i),7),u=d(i);r(u);var f=d(h);r(f,-1,!0);var p=a();n.title=c(u,l(d(f),-1),s("titleFormat")),n.start=i,n.end=h,n.visStart=u,n.visEnd=f,o(p)}var n=this;n.render=i,Z.call(n,e,t,"agendaWeek");var s=n.opt,o=n.renderAgenda,r=n.skipHiddenDays,a=n.getCellsPerWeek,c=t.formatDates}function K(e,t){function i(e,t){t&&l(e,t),r(e,0>t?-1:1);var i=d(e,!0),c=l(d(i),1);n.title=a(e,s("titleFormat")),n.start=n.visStart=i,n.end=n.visEnd=c,o(1)}var n=this;n.render=i,Z.call(n,e,t,"agendaDay");var s=n.opt,o=n.renderAgenda,r=n.skipHiddenDays,a=t.formatDate}function Z(i,n,s){function o(e){It=e,r(),Z?c():a()}function r(){jt=Xt("theme")?"ui":"fc",Wt=Xt("isRTL"),Bt=y(Xt("minTime")),qt=y(Xt("maxTime")),$t=Xt("columnFormat"),Ut=Xt("weekNumbers"),Vt=Xt("weekNumberTitle"),Yt="iso"!=Xt("weekNumberCalculation")?"w":"W",Rt=Xt("snapMinutes")||Xt("slotMinutes")}function a(){var t,n,s,o,r,a=jt+"-widget-header",l=jt+"-widget-content",u=0==Xt("slotMinutes")%15;for(c(),ct=e("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(i),Xt("allDaySlot")?(ht=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ct),t="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+a+" fc-agenda-axis'>"+Xt("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+a+" fc-agenda-gutter'>&nbsp;</th></tr></table>",dt=e(t).appendTo(ct),ft=dt.find("tr"),C(ft.find("td")),ct.append("<div class='fc-agenda-divider "+a+"'><div class='fc-agenda-divider-inner'/></div>")):ht=e([]),pt=e("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ct),gt=e("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(pt),wt=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(gt),t="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",n=f(),o=h(d(n),qt),h(n,Bt),Pt=0,s=0;o>n;s++)r=n.getMinutes(),t+="<tr class='fc-slot"+s+" "+(r?"fc-minor":"")+"'><th class='fc-agenda-axis "+a+"'>"+(u&&r?"&nbsp;":oi(n,Xt("axisFormat")))+"</th><td class='"+l+"'><div style='position:relative'>&nbsp;</div></td></tr>",h(n,Xt("slotMinutes")),Pt++;t+="</tbody></table>",Ct=e(t).appendTo(gt),_(Ct.find("td"))}function c(){var t=p();Z&&Z.remove(),Z=e(t).appendTo(i),tt=Z.find("thead"),it=tt.find("th").slice(1,-1),nt=Z.find("tbody"),st=nt.find("td").slice(0,-1),ot=st.find("> div"),rt=st.find(".fc-day-content > div"),at=st.eq(0),lt=ot.eq(0),B(tt.add(tt.find("tr"))),B(nt.add(nt.find("tr")))}function p(){var e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+g()+m()+"</table>";return e}function g(){var e,t,i,n=jt+"-widget-header",s="";for(s+="<thead><tr>",Ut?(e=ii(0,0),t=oi(e,Yt),Wt?t+=Vt:t=Vt+t,s+="<th class='fc-agenda-axis fc-week-number "+n+"'>"+j(t)+"</th>"):s+="<th class='fc-agenda-axis "+n+"'>&nbsp;</th>",i=0;It>i;i++)e=ii(0,i),s+="<th class='fc-"+Et[e.getDay()]+" fc-col"+i+" "+n+"'>"+j(oi(e,$t))+"</th>";return s+="<th class='fc-agenda-gutter "+n+"'>&nbsp;</th></tr></thead>"}function m(){var e,t,i,n,s,o=jt+"-widget-header",r=jt+"-widget-content",a=u(new Date),l="";for(l+="<tbody><tr><th class='fc-agenda-axis "+o+"'>&nbsp;</th>",i="",t=0;It>t;t++)e=ii(0,t),s=["fc-col"+t,"fc-"+Et[e.getDay()],r],+e==+a?s.push(jt+"-state-highlight","fc-today"):s.push(a>e?"fc-past":"fc-future"),n="<td class='"+s.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>",i+=n;return l+=i,l+="<td class='fc-agenda-gutter "+r+"'>&nbsp;</td></tr></tbody>"}function v(e){e===t&&(e=Tt),Tt=e,ri={};var i=nt.position().top,n=pt.position().top,s=Math.min(e-i,Ct.height()+n+1);lt.height(s-R(at)),ct.css("top",i),pt.height(s-n-1),Mt=Ct.find("tr:first").height()+1,At=Xt("slotMinutes")/Rt,Ft=Mt/At}function b(t){St=t,Ot.clear(),Ht.clear();var i=tt.find("th:first");dt&&(i=i.add(dt.find("th:first"))),i=i.add(Ct.find("th:first")),kt=0,T(i.width("").each(function(t,i){kt=Math.max(kt,e(i).outerWidth())}),kt);var n=Z.find(".fc-agenda-gutter");dt&&(n=n.add(dt.find("th.fc-agenda-gutter")));var s=pt[0].clientWidth;Nt=pt.width()-s,Nt?(T(n,Nt),n.show().prev().removeClass("fc-last")):n.hide().prev().addClass("fc-last"),Dt=Math.floor((s-kt)/It),T(it.slice(0,-1),Dt)}function w(){function e(){pt.scrollTop(n)}var t=f(),i=d(t);i.setHours(Xt("firstHour"));var n=O(t,i)+1;e(),setTimeout(e,0)}function x(){w()}function C(e){e.click(S).mousedown(ei)}function _(e){e.click(S).mousedown(X)}function S(e){if(!Xt("selectable")){var t=Math.min(It-1,Math.floor((e.pageX-Z.offset().left-kt)/Dt)),i=ii(0,t),n=this.parentNode.className.match(/fc-slot(\d+)/);if(n){var s=parseInt(n[1])*Xt("slotMinutes"),o=Math.floor(s/60);i.setHours(o),i.setMinutes(s%60+Bt),Qt("dayClick",st[t],i,!1,e)}else Qt("dayClick",st[t],i,!0,e)}}function D(e,t,i){i&&Lt.build();for(var n=si(e,t),s=0;n.length>s;s++){var o=n[s];C(E(o.row,o.leftCol,o.row,o.rightCol))}}function E(e,t,i,n){var s=Lt.rect(e,t,i,n,ct);return Jt(s,ct)}function N(e,t){for(var i=0;It>i;i++){var n=ii(0,i),s=l(d(n),1),o=new Date(Math.max(n,e)),r=new Date(Math.min(s,t));if(r>o){var a=Lt.rect(0,i,0,i,gt),c=O(n,o),h=O(n,r);a.top=c,a.height=h-c,_(Jt(a,gt))}}}function M(e){return Ot.left(e)}function A(e){return Ht.left(e)}function F(e){return Ot.right(e)}function I(e){return Ht.right(e)}function P(e){return Xt("allDaySlot")&&!e.row}function z(e){var t=ii(0,e.col),i=e.row;return Xt("allDaySlot")&&i--,i>=0&&h(t,Bt+i*Rt),t}function O(e,i){if(e=d(e,!0),h(d(e),Bt)>i)return 0;if(i>=h(d(e),qt))return Ct.height();var n=Xt("slotMinutes"),s=60*i.getHours()+i.getMinutes()-Bt,o=Math.floor(s/n),r=ri[o];return r===t&&(r=ri[o]=Ct.find("tr").eq(o).find("td div")[0].offsetTop),Math.max(0,Math.round(r-1+Mt*(s%n/n)))}function H(){return ft}function q(e){var t=d(e.start);return e.allDay?t:h(t,Xt("defaultEventMinutes"))}function $(e,t){return t?d(e):h(d(e),Xt("slotMinutes"))}function U(e,t,i){i?Xt("allDaySlot")&&D(e,l(d(t),1),!0):V(e,t)}function V(t,i){var n=Xt("selectHelper");if(Lt.build(),n){var s=ni(t).col;if(s>=0&&It>s){var o=Lt.rect(0,s,0,s,gt),r=O(t,t),a=O(t,i);if(a>r){if(o.top=r,o.height=a-r,o.left+=2,o.width-=5,e.isFunction(n)){var l=n(t,i);l&&(o.position="absolute",_t=e(l).css(o).appendTo(gt))}else o.isStart=!0,o.isEnd=!0,_t=e(ti({title:"",start:t,end:i,className:["fc-select-helper"],editable:!1},o)),_t.css("opacity",Xt("dragOpacity"));_t&&(_(_t),gt.append(_t),T(_t,o.width,!0),k(_t,o.height,!0))}}}else N(t,i)}function Y(){Gt(),_t&&(_t.remove(),_t=null)}function X(t){if(1==t.which&&Xt("selectable")){Zt(t);var i;zt.start(function(e,t){if(Y(),e&&e.col==t.col&&!P(e)){var n=z(t),s=z(e);i=[n,h(d(n),Rt),s,h(d(s),Rt)].sort(L),V(i[0],i[3])}else i=null},t),e(document).one("mouseup",function(e){zt.stop(),i&&(+i[0]==+i[1]&&Q(i[0],!1,e),Kt(i[0],i[3],!1,e))})}}function Q(e,t,i){Qt("dayClick",st[ni(e).col],e,t,i)}function J(e,t){zt.start(function(e){if(Gt(),e)if(P(e))E(e.row,e.col,e.row,e.col);else{var t=z(e),i=h(d(t),Xt("defaultEventMinutes"));N(t,i)}},t)}function G(e,t,i){var n=zt.stop();Gt(),n&&Qt("drop",e,z(n),P(n),t,i)}var K=this;K.renderAgenda=o,K.setWidth=b,K.setHeight=v,K.afterRender=x,K.defaultEventEnd=q,K.timePosition=O,K.getIsCellAllDay=P,K.allDayRow=H,K.getCoordinateGrid=function(){return Lt},K.getHoverListener=function(){return zt},K.colLeft=M,K.colRight=F,K.colContentLeft=A,K.colContentRight=I,K.getDaySegmentContainer=function(){return ht},K.getSlotSegmentContainer=function(){return wt},K.getMinMinute=function(){return Bt},K.getMaxMinute=function(){return qt},K.getSlotContainer=function(){return gt},K.getRowCnt=function(){return 1},K.getColCnt=function(){return It},K.getColWidth=function(){return Dt},K.getSnapHeight=function(){return Ft},K.getSnapMinutes=function(){return Rt},K.defaultSelectionEnd=$,K.renderDayOverlay=D,K.renderSelection=U,K.clearSelection=Y,K.reportDayClick=Q,K.dragStart=J,K.dragStop=G,ut.call(K,i,n,s),vt.call(K),mt.call(K),et.call(K);var Z,tt,it,nt,st,ot,rt,at,lt,ct,ht,dt,ft,pt,gt,wt,Ct,_t,St,Tt,kt,Dt,Nt,Mt,Rt,At,Ft,It,Pt,Lt,zt,Ot,Ht,jt,Wt,Bt,qt,$t,Ut,Vt,Yt,Xt=K.opt,Qt=K.trigger,Jt=K.renderOverlay,Gt=K.clearOverlays,Kt=K.reportSelection,Zt=K.unselect,ei=K.daySelectionMousedown,ti=K.slotSegHtml,ii=K.cellToDate,ni=K.dateToCell,si=K.rangeToSegments,oi=n.formatDate,ri={};W(i.addClass("fc-agenda")),Lt=new yt(function(t,i){function n(e){return Math.max(l,Math.min(c,e))}var s,o,r;it.each(function(t,n){s=e(n),o=s.offset().left,t&&(r[1]=o),r=[o],i[t]=r}),r[1]=o+s.outerWidth(),Xt("allDaySlot")&&(s=ft,o=s.offset().top,t[0]=[o,o+s.outerHeight()]);for(var a=gt.offset().top,l=pt.offset().top,c=l+pt.outerHeight(),h=0;Pt*At>h;h++)t.push([n(a+Ft*h),n(a+Ft*(h+1))])}),zt=new bt(Lt),Ot=new xt(function(e){return ot.eq(e)}),Ht=new xt(function(e){return rt.eq(e)})}function et(){function i(e,t){var i,n=e.length,o=[],r=[];for(i=0;n>i;i++)e[i].allDay?o.push(e[i]):r.push(e[i]);y("allDaySlot")&&(et(o,t),E()),a(s(r),t)}function n(){N().empty(),M().empty()}function s(t){var i,n,s,a,l,c=W(),u=I(),f=F(),p=e.map(t,r),g=[];for(n=0;c>n;n++)for(i=H(0,n),h(i,u),l=o(t,p,i,h(d(i),f-u)),l=tt(l),s=0;l.length>s;s++)a=l[s],a.col=n,g.push(a);return g}function o(e,t,i,n){var s,o,r,a,l,c,h,u,f=[],p=e.length;for(s=0;p>s;s++)o=e[s],r=o.start,a=t[s],a>i&&n>r&&(i>r?(l=d(i),h=!1):(l=r,h=!0),a>n?(c=d(n),u=!1):(c=a,u=!0),f.push({event:o,start:l,end:c,isStart:h,isEnd:u}));return f.sort(ht)}function r(e){return e.end?d(e.end):h(d(e.start),y("defaultEventMinutes"))}function a(i,n){var s,o,r,a,l,h,d,f,p,g,m,v,w,x,C,_,T=i.length,k="",E=M(),N=y("isRTL");for(s=0;T>s;s++)o=i[s],r=o.event,a=P(o.start,o.start),l=P(o.start,o.end),h=z(o.col),d=O(o.col),f=d-h,d-=.025*f,f=d-h,p=f*(o.forwardCoord-o.backwardCoord),y("slotEventOverlap")&&(p=Math.max(2*(p-10),p)),N?(m=d-o.backwardCoord*f,g=m-p):(g=h+o.backwardCoord*f,m=g+p),g=Math.max(g,h),m=Math.min(m,d),p=m-g,o.top=a,o.left=g,o.outerWidth=p,o.outerHeight=l-a,k+=c(r,o);for(E[0].innerHTML=k,v=E.children(),s=0;T>s;s++)o=i[s],r=o.event,w=e(v[s]),x=b("eventRender",r,r,w),x===!1?w.remove():(x&&x!==!0&&(w.remove(),w=e(x).css({position:"absolute",top:o.top,left:o.left}).appendTo(E)),o.element=w,r._id===n?u(r,w,o):w[0]._fci=s,Y(r,w));for(S(E,i,u),s=0;T>s;s++)o=i[s],(w=o.element)&&(o.vsides=R(w,!0),o.hsides=D(w,!0),C=w.find(".fc-event-title"),C.length&&(o.contentTop=C[0].offsetTop));for(s=0;T>s;s++)o=i[s],(w=o.element)&&(w[0].style.width=Math.max(0,o.outerWidth-o.hsides)+"px",_=Math.max(0,o.outerHeight-o.vsides),w[0].style.height=_+"px",r=o.event,o.contentTop!==t&&10>_-o.contentTop&&(w.find("div.fc-event-time").text(nt(r.start,y("timeFormat"))+" - "+r.title),w.find("div.fc-event-title").remove()),b("eventAfterRender",r,r,w))}function c(e,t){var i="<",n=e.url,s=q(e,y),o=["fc-event","fc-event-vert"];return w(e)&&o.push("fc-event-draggable"),t.isStart&&o.push("fc-event-start"),t.isEnd&&o.push("fc-event-end"),o=o.concat(e.className),e.source&&(o=o.concat(e.source.className||[])),i+=n?"a href='"+j(e.url)+"'":"div",i+=" class='"+o.join(" ")+"' style='position:absolute;top:"+t.top+"px;left:"+t.left+"px;"+s+"'><div class='fc-event-inner'><div class='fc-event-time'>"+j(st(e.start,e.end,y("timeFormat")))+"</div><div class='fc-event-title'>"+j(e.title||"")+"</div></div><div class='fc-event-bg'></div>",t.isEnd&&x(e)&&(i+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),i+="</"+(n?"a":"div")+">"}function u(e,t,i){var n=t.find("div.fc-event-time");w(e)&&g(e,t,n),i.isEnd&&x(e)&&m(e,t,n),T(e,t)}function f(e,t,i){function n(){c||(t.width(s).height("").draggable("option","grid",null),c=!0)}var s,o,r,a=i.isStart,c=!0,h=A(),u=B(),f=$(),g=U(),m=I();t.draggable({opacity:y("dragOpacity","month"),revertDuration:y("dragRevertDuration"),start:function(i,m){b("eventDragStart",t,e,i,m),Q(e,t),s=t.width(),h.start(function(i,s){if(Z(),i){o=!1;var h=H(0,s.col),m=H(0,i.col);r=p(m,h),i.row?a?c&&(t.width(u-10),k(t,f*Math.round((e.end?(e.end-e.start)/Rt:y("defaultEventMinutes"))/g)),t.draggable("option","grid",[u,1]),c=!1):o=!0:(K(l(d(e.start),r),l(C(e),r)),n()),o=o||c&&!r}else n(),o=!0;t.draggable("option","revert",o)},i,"drag")},stop:function(i,s){if(h.stop(),Z(),b("eventDragStop",t,e,i,s),o)n(),t.css("filter",""),X(e,t);else{var a=0;c||(a=Math.round((t.offset().top-V().offset().top)/f)*g+m-(60*e.start.getHours()+e.start.getMinutes())),J(this,e,r,a,c,i,s)}}})}function g(e,t,i){function n(){Z(),a&&(u?(i.hide(),t.draggable("option","grid",null),K(l(d(e.start),w),l(C(e),w))):(s(x),i.css("display",""),t.draggable("option","grid",[k,D])))}function s(t){var n,s=h(d(e.start),t);e.end&&(n=h(d(e.end),t)),i.text(st(s,n,y("timeFormat")))}var o,r,a,c,u,f,g,m,w,x,_,S=v.getCoordinateGrid(),T=W(),k=B(),D=$(),E=U();t.draggable({scroll:!1,grid:[k,D],axis:1==T?"y":!1,opacity:y("dragOpacity"),revertDuration:y("dragRevertDuration"),start:function(i,n){b("eventDragStart",t,e,i,n),Q(e,t),S.build(),o=t.position(),r=S.cell(i.pageX,i.pageY),a=c=!0,u=f=L(r),g=m=0,w=0,x=_=0
},drag:function(e,i){var s=S.cell(e.pageX,e.pageY);if(a=!!s){if(u=L(s),g=Math.round((i.position.left-o.left)/k),g!=m){var l=H(0,r.col),h=r.col+g;h=Math.max(0,h),h=Math.min(T-1,h);var d=H(0,h);w=p(d,l)}u||(x=Math.round((i.position.top-o.top)/D)*E)}(a!=c||u!=f||g!=m||x!=_)&&(n(),c=a,f=u,m=g,_=x),t.draggable("option","revert",!a)},stop:function(i,s){Z(),b("eventDragStop",t,e,i,s),a&&(u||w||x)?J(this,e,w,u?0:x,u,i,s):(a=!0,u=!1,g=0,w=0,x=0,n(),t.css("filter",""),t.css(o),X(e,t))}})}function m(e,t,i){var n,s,o=$(),r=U();t.resizable({handles:{s:".ui-resizable-handle"},grid:o,start:function(i,o){n=s=0,Q(e,t),b("eventResizeStart",this,e,i,o)},resize:function(a,l){n=Math.round((Math.max(o,t.height())-l.originalSize.height)/o),n!=s&&(i.text(st(e.start,n||e.end?h(_(e),r*n):null,y("timeFormat"))),s=n)},stop:function(i,s){b("eventResizeStop",this,e,i,s),n?G(this,e,0,r*n,i,s):X(e,t)}})}var v=this;v.renderEvents=i,v.clearEvents=n,v.slotSegHtml=c,dt.call(v);var y=v.opt,b=v.trigger,w=v.isEventDraggable,x=v.isEventResizable,_=v.eventEnd,T=v.eventElementHandlers,E=v.setHeight,N=v.getDaySegmentContainer,M=v.getSlotSegmentContainer,A=v.getHoverListener,F=v.getMaxMinute,I=v.getMinMinute,P=v.timePosition,L=v.getIsCellAllDay,z=v.colContentLeft,O=v.colContentRight,H=v.cellToDate,W=v.getColCnt,B=v.getColWidth,$=v.getSnapHeight,U=v.getSnapMinutes,V=v.getSlotContainer,Y=v.reportEventElement,X=v.showEvents,Q=v.hideEvents,J=v.eventDrop,G=v.eventResize,K=v.renderDayOverlay,Z=v.clearOverlays,et=v.renderDayEvents,it=v.calendar,nt=it.formatDate,st=it.formatDates;v.draggableDayEvent=f}function tt(e){var t,i=it(e),n=i[0];if(nt(i),n){for(t=0;n.length>t;t++)st(n[t]);for(t=0;n.length>t;t++)ot(n[t],0,0)}return rt(i)}function it(e){var t,i,n,s=[];for(t=0;e.length>t;t++){for(i=e[t],n=0;s.length>n&&at(i,s[n]).length;n++);(s[n]||(s[n]=[])).push(i)}return s}function nt(e){var t,i,n,s,o;for(t=0;e.length>t;t++)for(i=e[t],n=0;i.length>n;n++)for(s=i[n],s.forwardSegs=[],o=t+1;e.length>o;o++)at(s,e[o],s.forwardSegs)}function st(e){var i,n,s=e.forwardSegs,o=0;if(e.forwardPressure===t){for(i=0;s.length>i;i++)n=s[i],st(n),o=Math.max(o,1+n.forwardPressure);e.forwardPressure=o}}function ot(e,i,n){var s,o=e.forwardSegs;if(e.forwardCoord===t)for(o.length?(o.sort(ct),ot(o[0],i+1,n),e.forwardCoord=o[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-n)/(i+1),s=0;o.length>s;s++)ot(o[s],0,e.forwardCoord)}function rt(e){var t,i,n,s=[];for(t=0;e.length>t;t++)for(i=e[t],n=0;i.length>n;n++)s.push(i[n]);return s}function at(e,t,i){i=i||[];for(var n=0;t.length>n;n++)lt(e,t[n])&&i.push(t[n]);return i}function lt(e,t){return e.end>t.start&&e.start<t.end}function ct(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||ht(e,t)}function ht(e,t){return e.start-t.start||t.end-t.start-(e.end-e.start)||(e.event.title||"").localeCompare(t.event.title)}function ut(i,n,s){function o(t,i){var n=Y[t];return e.isPlainObject(n)?H(n,i||s):n}function r(e,t){return n.trigger.apply(n,[e,t||O].concat(Array.prototype.slice.call(arguments,2),[O]))}function a(e){var t=e.source||{};return U(e.startEditable,t.startEditable,o("eventStartEditable"),e.editable,t.editable,o("editable"))&&!o("disableDragging")}function c(e){var t=e.source||{};return U(e.durationEditable,t.durationEditable,o("eventDurationEditable"),e.editable,t.editable,o("editable"))&&!o("disableResizing")}function u(e){q={};var t,i,n=e.length;for(t=0;n>t;t++)i=e[t],q[i._id]?q[i._id].push(i):q[i._id]=[i]}function f(){q={},$={},V=[]}function g(e){return e.end?d(e.end):j(e)}function m(e,t){V.push({event:e,element:t}),$[e._id]?$[e._id].push(t):$[e._id]=[t]}function v(){e.each(V,function(e,t){O.trigger("eventDestroy",t.event,t.event,t.element)})}function y(e,i){i.click(function(n){return i.hasClass("ui-draggable-dragging")||i.hasClass("ui-resizable-resizing")?t:r("eventClick",this,e,n)}).hover(function(t){r("eventMouseover",this,e,t)},function(t){r("eventMouseout",this,e,t)})}function b(e,t){x(e,t,"show")}function w(e,t){x(e,t,"hide")}function x(e,t,i){var n,s=$[e._id],o=s.length;for(n=0;o>n;n++)t&&s[n][0]==t[0]||s[n][i]()}function C(e,t,i,n,s,o,a){var l=t.allDay,c=t._id;S(q[c],i,n,s),r("eventDrop",e,t,i,n,s,function(){S(q[c],-i,-n,l),B(c)},o,a),B(c)}function _(e,t,i,n,s,o){var a=t._id;T(q[a],i,n),r("eventResize",e,t,i,n,function(){T(q[a],-i,-n),B(a)},s,o),B(a)}function S(e,i,n,s){n=n||0;for(var o,r=e.length,a=0;r>a;a++)o=e[a],s!==t&&(o.allDay=s),h(l(o.start,i,!0),n),o.end&&(o.end=h(l(o.end,i,!0),n)),W(o,Y)}function T(e,t,i){i=i||0;for(var n,s=e.length,o=0;s>o;o++)n=e[o],n.end=h(l(g(n),t,!0),i),W(n,Y)}function k(e){return"object"==typeof e&&(e=e.getDay()),J[e]}function D(){return X}function E(e,t,i){for(t=t||1;J[(e.getDay()+(i?t:0)+7)%7];)l(e,t)}function N(){var e=M.apply(null,arguments),t=R(e),i=A(t);return i}function M(e,t){var i=O.getColCnt(),n=Z?-1:1,s=Z?i-1:0;"object"==typeof e&&(t=e.col,e=e.row);var o=e*i+(t*n+s);return o}function R(e){var t=O.visStart.getDay();return e+=G[t],7*Math.floor(e/X)+K[(e%X+X)%X]-t}function A(e){var t=d(O.visStart);return l(t,e),t}function F(e){var t=I(e),i=P(t),n=L(i);return n}function I(e){return p(e,O.visStart)}function P(e){var t=O.visStart.getDay();return e+=t,Math.floor(e/7)*X+G[(e%7+7)%7]-G[t]}function L(e){var t=O.getColCnt(),i=Z?-1:1,n=Z?t-1:0,s=Math.floor(e/t),o=(e%t+t)%t*i+n;return{row:s,col:o}}function z(e,t){for(var i=O.getRowCnt(),n=O.getColCnt(),s=[],o=I(e),r=I(t),a=P(o),l=P(r)-1,c=0;i>c;c++){var h=c*n,u=h+n-1,d=Math.max(a,h),f=Math.min(l,u);if(f>=d){var p=L(d),g=L(f),m=[p.col,g.col].sort(),v=R(d)==o,y=R(f)+1==r;s.push({row:c,leftCol:m[0],rightCol:m[1],isStart:v,isEnd:y})}}return s}var O=this;O.element=i,O.calendar=n,O.name=s,O.opt=o,O.trigger=r,O.isEventDraggable=a,O.isEventResizable=c,O.setEventData=u,O.clearEventData=f,O.eventEnd=g,O.reportEventElement=m,O.triggerEventDestroy=v,O.eventElementHandlers=y,O.showEvents=b,O.hideEvents=w,O.eventDrop=C,O.eventResize=_;var j=O.defaultEventEnd,W=n.normalizeEvent,B=n.reportEventChange,q={},$={},V=[],Y=n.options;O.isHiddenDay=k,O.skipHiddenDays=E,O.getCellsPerWeek=D,O.dateToCell=F,O.dateToDayOffset=I,O.dayOffsetToCellOffset=P,O.cellOffsetToCell=L,O.cellToDate=N,O.cellToCellOffset=M,O.cellOffsetToDayOffset=R,O.dayOffsetToDate=A,O.rangeToSegments=z;var X,Q=o("hiddenDays")||[],J=[],G=[],K=[],Z=o("isRTL");!function(){o("weekends")===!1&&Q.push(0,6);for(var t=0,i=0;7>t;t++)G[t]=i,J[t]=-1!=e.inArray(t,Q),J[t]||(K[i]=t,i++);if(X=i,!X)throw"invalid hiddenDays"}()}function dt(){function t(e,t){var i=n(e,!1,!0);pt(i,function(e,t){A(e.event,t)}),b(i,t),pt(i,function(e,t){E("eventAfterRender",e.event,e.event,t)})}function i(e,t,i){var s=n([e],!0,!1),o=[];return pt(s,function(e,n){e.row===t&&n.css("top",i),o.push(n[0])}),o}function n(t,i,n){var o,l,c=Q(),d=i?e("<div/>"):c,f=s(t);return r(f),o=a(f),d[0].innerHTML=o,l=d.children(),i&&c.append(l),h(f,l),pt(f,function(e,t){e.hsides=D(t,!0)}),pt(f,function(e,t){t.width(Math.max(0,e.outerWidth-e.hsides))}),pt(f,function(e,t){e.outerHeight=t.outerHeight(!0)}),u(f,n),f}function s(e){for(var t=[],i=0;e.length>i;i++){var n=o(e[i]);t.push.apply(t,n)}return t}function o(e){for(var t=e.start,i=C(e),n=tt(t,i),s=0;n.length>s;s++)n[s].event=e;return n}function r(e){for(var t=k("isRTL"),i=0;e.length>i;i++){var n=e[i],s=(t?n.isEnd:n.isStart)?Y:U,o=(t?n.isStart:n.isEnd)?X:V,r=s(n.leftCol),a=o(n.rightCol);n.left=r,n.outerWidth=a-r}}function a(e){for(var t="",i=0;e.length>i;i++)t+=c(e[i]);return t}function c(e){var t="",i=k("isRTL"),n=e.event,s=n.url,o=["fc-event","fc-event-hori"];N(n)&&o.push("fc-event-draggable"),e.isStart&&o.push("fc-event-start"),e.isEnd&&o.push("fc-event-end"),o=o.concat(n.className),n.source&&(o=o.concat(n.source.className||[]));var r=q(n,k);return t+=s?"<a href='"+j(s)+"'":"<div",t+=" class='"+o.join(" ")+"' style='position:absolute;left:"+e.left+"px;"+r+"'><div class='fc-event-inner'>",!n.allDay&&e.isStart&&(t+="<span class='fc-event-time'>"+j(J(n.start,n.end,k("timeFormat")))+"</span>"),t+="<span class='fc-event-title'>"+j(n.title||"")+"</span></div>",e.isEnd&&M(n)&&(t+="<div class='ui-resizable-handle ui-resizable-"+(i?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),t+="</"+(s?"a":"div")+">"}function h(t,i){for(var n=0;t.length>n;n++){var s=t[n],o=s.event,r=i.eq(n),a=E("eventRender",o,o,r);a===!1?r.remove():(a&&a!==!0&&(a=e(a).css({position:"absolute",left:s.left}),r.replaceWith(a),r=a),s.element=r)}}function u(e,t){var i=f(e),n=y(),s=[];if(t)for(var o=0;n.length>o;o++)n[o].height(i[o]);for(var o=0;n.length>o;o++)s.push(n[o].position().top);pt(e,function(e,t){t.css("top",s[e.row]+e.top)})}function f(e){for(var t=H(),i=B(),n=[],s=g(e),o=0;t>o;o++){for(var r=s[o],a=[],l=0;i>l;l++)a.push(0);for(var c=0;r.length>c;c++){var h=r[c];h.top=z(a.slice(h.leftCol,h.rightCol+1));for(var l=h.leftCol;h.rightCol>=l;l++)a[l]=h.top+h.outerHeight}n.push(z(a))}return n}function g(e){var t,i,n,s=H(),o=[];for(t=0;e.length>t;t++)i=e[t],n=i.row,i.element&&(o[n]?o[n].push(i):o[n]=[i]);for(n=0;s>n;n++)o[n]=m(o[n]||[]);return o}function m(e){for(var t=[],i=v(e),n=0;i.length>n;n++)t.push.apply(t,i[n]);return t}function v(e){e.sort(gt);for(var t=[],i=0;e.length>i;i++){for(var n=e[i],s=0;t.length>s&&ft(n,t[s]);s++);t[s]?t[s].push(n):t[s]=[n]}return t}function y(){var e,t=H(),i=[];for(e=0;t>e;e++)i[e]=$(e).find("div.fc-day-content > div");return i}function b(e,t){var i=Q();pt(e,function(e,i,n){var s=e.event;s._id===t?w(s,i,e):i[0]._fci=n}),S(i,e,w)}function w(e,t,i){N(e)&&T.draggableDayEvent(e,t,i),i.isEnd&&M(e)&&T.resizableDayEvent(e,t,i),F(e,t)}function x(e,t){var i,n=et();t.draggable({delay:50,opacity:k("dragOpacity"),revertDuration:k("dragRevertDuration"),start:function(s,o){E("eventDragStart",t,e,s,o),P(e,t),n.start(function(n,s,o,r){if(t.draggable("option","revert",!n||!o&&!r),K(),n){var a=it(s),c=it(n);i=p(c,a),G(l(d(e.start),i),l(C(e),i))}else i=0},s,"drag")},stop:function(s,o){n.stop(),K(),E("eventDragStop",t,e,s,o),i?L(this,e,i,0,e.allDay,s,o):(t.css("filter",""),I(e,t))}})}function _(t,n,s){var o=k("isRTL"),r=o?"w":"e",a=n.find(".ui-resizable-"+r),c=!1;W(n),n.mousedown(function(e){e.preventDefault()}).click(function(e){c&&(e.preventDefault(),e.stopImmediatePropagation())}),a.mousedown(function(o){function a(i){E("eventResizeStop",this,t,i),e("body").css("cursor",""),h.stop(),K(),u&&O(this,t,u,0,i),setTimeout(function(){c=!1},0)}if(1==o.which){c=!0;var h=et();H(),B();var u,d,f=n.css("top"),p=e.extend({},t),g=rt(ot(t.start));Z(),e("body").css("cursor",r+"-resize").one("mouseup",a),E("eventResizeStart",this,t,o),h.start(function(n,o){if(n){var a=nt(o),c=nt(n);if(c=Math.max(c,g),u=st(c)-st(a)){p.end=l(R(t),u,!0);var h=d;d=i(p,s.row,f),d=e(d),d.find("*").css("cursor",r+"-resize"),h&&h.remove(),P(t)}else d&&(I(t),d.remove(),d=null);K(),G(t.start,l(C(t),u))}},o)}})}var T=this;T.renderDayEvents=t,T.draggableDayEvent=x,T.resizableDayEvent=_;var k=T.opt,E=T.trigger,N=T.isEventDraggable,M=T.isEventResizable,R=T.eventEnd,A=T.reportEventElement,F=T.eventElementHandlers,I=T.showEvents,P=T.hideEvents,L=T.eventDrop,O=T.eventResize,H=T.getRowCnt,B=T.getColCnt;T.getColWidth;var $=T.allDayRow,U=T.colLeft,V=T.colRight,Y=T.colContentLeft,X=T.colContentRight;T.dateToCell;var Q=T.getDaySegmentContainer,J=T.calendar.formatDates,G=T.renderDayOverlay,K=T.clearOverlays,Z=T.clearSelection,et=T.getHoverListener,tt=T.rangeToSegments,it=T.cellToDate,nt=T.cellToCellOffset,st=T.cellOffsetToDayOffset,ot=T.dateToDayOffset,rt=T.dayOffsetToCellOffset}function ft(e,t){for(var i=0;t.length>i;i++){var n=t[i];if(n.leftCol<=e.rightCol&&n.rightCol>=e.leftCol)return!0}return!1}function pt(e,t){for(var i=0;e.length>i;i++){var n=e[i],s=n.element;s&&t(n,s,i)}}function gt(e,t){return t.rightCol-t.leftCol-(e.rightCol-e.leftCol)||t.event.allDay-e.event.allDay||e.event.start-t.event.start||(e.event.title||"").localeCompare(t.event.title)}function mt(){function t(e,t,s){i(),t||(t=l(e,s)),c(e,t,s),n(e,t,s)}function i(e){u&&(u=!1,h(),a("unselect",null,e))}function n(e,t,i,n){u=!0,a("select",null,e,t,i,n)}function s(t){var s=o.cellToDate,a=o.getIsCellAllDay,l=o.getHoverListener(),u=o.reportDayClick;if(1==t.which&&r("selectable")){i(t);var d;l.start(function(e,t){h(),e&&a(e)?(d=[s(t),s(e)].sort(L),c(d[0],d[1],!0)):d=null},t),e(document).one("mouseup",function(e){l.stop(),d&&(+d[0]==+d[1]&&u(d[0],!0,e),n(d[0],d[1],!0,e))})}}var o=this;o.select=t,o.unselect=i,o.reportSelection=n,o.daySelectionMousedown=s;var r=o.opt,a=o.trigger,l=o.defaultSelectionEnd,c=o.renderSelection,h=o.clearSelection,u=!1;r("selectable")&&r("unselectAuto")&&e(document).mousedown(function(t){var n=r("unselectCancel");n&&e(t.target).parents(n).length||i(t)})}function vt(){function t(t,i){var n=o.shift();return n||(n=e("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),n[0].parentNode!=i[0]&&n.appendTo(i),s.push(n.css(t).show()),n}function i(){for(var e;e=s.shift();)o.push(e.hide().unbind())}var n=this;n.renderOverlay=t,n.clearOverlays=i;var s=[],o=[]}function yt(e){var t,i,n=this;n.build=function(){t=[],i=[],e(t,i)},n.cell=function(e,n){var s,o=t.length,r=i.length,a=-1,l=-1;for(s=0;o>s;s++)if(n>=t[s][0]&&t[s][1]>n){a=s;break}for(s=0;r>s;s++)if(e>=i[s][0]&&i[s][1]>e){l=s;break}return a>=0&&l>=0?{row:a,col:l}:null},n.rect=function(e,n,s,o,r){var a=r.offset();return{top:t[e][0]-a.top,left:i[n][0]-a.left,width:i[o][1]-i[n][0],height:t[s][1]-t[e][0]}}}function bt(t){function i(e){wt(e);var i=t.cell(e.pageX,e.pageY);(!i!=!r||i&&(i.row!=r.row||i.col!=r.col))&&(i?(o||(o=i),s(i,o,i.row-o.row,i.col-o.col)):s(i,o),r=i)}var n,s,o,r,a=this;a.start=function(a,l,c){s=a,o=r=null,t.build(),i(l),n=c||"mousemove",e(document).bind(n,i)},a.stop=function(){return e(document).unbind(n,i),r}}function wt(e){e.pageX===t&&(e.pageX=e.originalEvent.pageX,e.pageY=e.originalEvent.pageY)}function xt(e){function i(t){return s[t]=s[t]||e(t)}var n=this,s={},o={},r={};n.left=function(e){return o[e]=o[e]===t?i(e).position().left:o[e]},n.right=function(e){return r[e]=r[e]===t?n.left(e)+i(e).width():r[e]},n.clear=function(){s={},o={},r={}}}var Ct={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},_t={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},St=e.fullCalendar={version:"1.6.4"},Tt=St.views={};e.fn.fullCalendar=function(i){if("string"==typeof i){var s,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=e.data(this,"fullCalendar");if(n&&e.isFunction(n[i])){var r=n[i].apply(n,o);s===t&&(s=r),"destroy"==i&&e.removeData(this,"fullCalendar")}}),s!==t?s:this}i=i||{};var r=i.eventSources||[];return delete i.eventSources,i.events&&(r.push(i.events),delete i.events),i=e.extend(!0,{},Ct,i.isRTL||i.isRTL===t&&Ct.isRTL?_t:{},i),this.each(function(t,s){var o=e(s),a=new n(o,i,r);o.data("fullCalendar",a),a.render()}),this},St.sourceNormalizers=[],St.sourceFetchers=[];var kt={dataType:"json",cache:!1},Dt=1;St.addDays=l,St.cloneDate=d,St.parseDate=m,St.parseISO8601=v,St.parseTime=y,St.formatDate=b,St.formatDates=w;var Et=["sun","mon","tue","wed","thu","fri","sat"],Nt=864e5,Mt=36e5,Rt=6e4,At={s:function(e){return e.getSeconds()},ss:function(e){return O(e.getSeconds())},m:function(e){return e.getMinutes()},mm:function(e){return O(e.getMinutes())},h:function(e){return e.getHours()%12||12},hh:function(e){return O(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return O(e.getHours())},d:function(e){return e.getDate()},dd:function(e){return O(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return O(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return(e.getFullYear()+"").substring(2)},yyyy:function(e){return e.getFullYear()},t:function(e){return 12>e.getHours()?"a":"p"},tt:function(e){return 12>e.getHours()?"am":"pm"},T:function(e){return 12>e.getHours()?"A":"P"},TT:function(e){return 12>e.getHours()?"AM":"PM"},u:function(e){return b(e,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(e){var t=e.getDate();return t>10&&20>t?"th":["st","nd","rd"][t%10-1]||"th"},w:function(e,t){return t.weekNumberCalculation(e)},W:function(e){return x(e)}};St.dateFormatters=At,St.applyAll=$,Tt.month=V,Tt.basicWeek=Y,Tt.basicDay=X,i({weekMode:"fixed"}),Tt.agendaWeek=G,Tt.agendaDay=K,i({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24,slotEventOverlap:!0})}(jQuery),!function(e){function t(t,i,a){var l=t.success,c=e.extend({},t.data||{},{"start-min":n(i,"u"),"start-max":n(a,"u"),singleevents:!0,"max-results":9999}),h=t.currentTimezone;return h&&(c.ctz=h=h.replace(" ","_")),e.extend({},t,{url:t.url.replace(/\/basic$/,"/full")+"?alt=json-in-script&callback=?",dataType:"jsonp",data:c,startParam:!1,endParam:!1,success:function(t){var i=[];t.feed.entry&&e.each(t.feed.entry,function(t,n){var r,a=n.gd$when[0].startTime,l=s(a,!0),c=s(n.gd$when[0].endTime,!0),u=-1==a.indexOf("T");e.each(n.link,function(e,t){"text/html"==t.type&&(r=t.href,h&&(r+=(-1==r.indexOf("?")?"?":"&")+"ctz="+h))}),u&&o(c,-1),i.push({id:n.gCal$uid.value,title:n.title.$t,url:r,start:l,end:c,allDay:u,location:n.gd$where[0].valueString,description:n.content.$t})});var n=[i].concat(Array.prototype.slice.call(arguments,1)),a=r(l,this,n);return e.isArray(a)?a:i}})}var i=e.fullCalendar,n=i.formatDate,s=i.parseISO8601,o=i.addDays,r=i.applyAll;i.sourceNormalizers.push(function(e){("gcal"==e.dataType||void 0===e.dataType&&(e.url||"").match(/^(http|https):\/\/www.google.com\/calendar\/feeds\//))&&(e.dataType="gcal",void 0===e.editable&&(e.editable=!1))}),i.sourceFetchers.push(function(e,i,n){return"gcal"==e.dataType?t(e,i,n):void 0}),i.gcalFeed=function(t,i){return e.extend({},i,{url:t,dataType:"gcal"})}}(jQuery),/*!
 * Easy pie chart is a jquery plugin to display simple animated pie charts for only one value
 *
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Built on top of the jQuery library (http://jquery.com)
 *
 * @source: http://github.com/rendro/easy-pie-chart/
 * @autor: Robert Fleischmann
 * @version: 1.2.5
 *
 * Inspired by: http://dribbble.com/shots/631074-Simple-Pie-Charts-II?list=popular&offset=210
 * Thanks to Philip Thrasher for the jquery plugin boilerplate for coffee script
 */
!function(e){return e.easyPieChart=function(t,i){var n,s,o,r,a,l,c,h,u=this;return this.el=t,this.$el=e(t),this.$el.data("easyPieChart",this),this.init=function(){var t,n;return u.options=e.extend({},e.easyPieChart.defaultOptions,i),t=parseInt(u.$el.data("percent"),10),u.percentage=0,u.canvas=e("<canvas width='"+u.options.size+"' height='"+u.options.size+"'></canvas>").get(0),u.$el.append(u.canvas),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(u.canvas),u.ctx=u.canvas.getContext("2d"),window.devicePixelRatio>1&&(n=window.devicePixelRatio,e(u.canvas).css({width:u.options.size,height:u.options.size}),u.canvas.width*=n,u.canvas.height*=n,u.ctx.scale(n,n)),u.ctx.translate(u.options.size/2,u.options.size/2),u.ctx.rotate(u.options.rotate*Math.PI/180),u.$el.addClass("easyPieChart"),u.$el.css({width:u.options.size,height:u.options.size,lineHeight:""+u.options.size+"px"}),u.update(t),u},this.update=function(e){return e=parseFloat(e)||0,u.options.animate===!1?o(e):u.options.delay?(s(u.percentage,0),setTimeout(function(){return s(u.percentage,e)},u.options.delay)):s(u.percentage,e),u},c=function(){var e,t,i;for(u.ctx.fillStyle=u.options.scaleColor,u.ctx.lineWidth=1,i=[],e=t=0;24>=t;e=++t)i.push(n(e));return i},n=function(e){var t;t=0===e%6?0:.017*u.options.size,u.ctx.save(),u.ctx.rotate(e*Math.PI/12),u.ctx.fillRect(u.options.size/2-t,0,.05*-u.options.size+t,1),u.ctx.restore()},h=function(){var e;e=u.options.size/2-u.options.lineWidth/2,u.options.scaleColor!==!1&&(e-=.08*u.options.size),u.ctx.beginPath(),u.ctx.arc(0,0,e,0,2*Math.PI,!0),u.ctx.closePath(),u.ctx.strokeStyle=u.options.trackColor,u.ctx.lineWidth=u.options.lineWidth,u.ctx.stroke()},l=function(){u.options.scaleColor!==!1&&c(),u.options.trackColor!==!1&&h()},o=function(t){var i;l(),u.ctx.strokeStyle=e.isFunction(u.options.barColor)?u.options.barColor(t):u.options.barColor,u.ctx.lineCap=u.options.lineCap,u.ctx.lineWidth=u.options.lineWidth,i=u.options.size/2-u.options.lineWidth/2,u.options.scaleColor!==!1&&(i-=.08*u.options.size),u.ctx.save(),u.ctx.rotate(-Math.PI/2),u.ctx.beginPath(),u.ctx.arc(0,0,i,0,2*Math.PI*t/100,!1),u.ctx.stroke(),u.ctx.restore()},a=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),s=function(e,t){var i,n;u.options.onStart.call(u),u.percentage=t,Date.now||(Date.now=function(){return+new Date}),n=Date.now(),i=function(){var s,c;return c=Math.min(Date.now()-n,u.options.animate),u.ctx.clearRect(-u.options.size/2,-u.options.size/2,u.options.size,u.options.size),l.call(u),s=[r(c,e,t-e,u.options.animate)],u.options.onStep.call(u,s),o.call(u,s),c>=u.options.animate?u.options.onStop.call(u,s,t):a(i)},a(i)},r=function(e,t,i,n){var s,o;return s=function(e){return Math.pow(e,2)},o=function(e){return 1>e?s(e):2-s(-2*(e/2)+2)},e/=n/2,i/2*o(e)+t},this.init()},e.easyPieChart.defaultOptions={barColor:"#ef1e25",trackColor:"#f2f2f2",scaleColor:"#dfe0e0",lineCap:"round",rotate:0,size:110,lineWidth:3,animate:!1,delay:!1,onStart:e.noop,onStop:e.noop,onStep:e.noop},void(e.fn.easyPieChart=function(t){return e.each(this,function(i,n){var s,o;return s=e(n),s.data("easyPieChart")?void 0:(o=e.extend({},t,s.data()),s.data("easyPieChart",new e.easyPieChart(n,o)))})})}(jQuery),/*!
 * Javascript plotting library for jQuery, version 0.8.2.
 * Copyright (c) 2007-2013 IOLA and Ole Laursen.
 * Licensed under the MIT license.
 *
 * Plugin for jQuery for working with colors. Version 1.1.
 * Inspiration from jQuery color animation plugin by John Resig.
 * Released under the MIT license by Ole Laursen, October 2009.
 */
function(e){e.color={},e.color.make=function(t,i,n,s){var o={};return o.r=t||0,o.g=i||0,o.b=n||0,o.a=null!=s?s:1,o.add=function(e,t){for(var i=0;i<e.length;++i)o[e.charAt(i)]+=t;return o.normalize()},o.scale=function(e,t){for(var i=0;i<e.length;++i)o[e.charAt(i)]*=t;return o.normalize()},o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function e(e,t,i){return e>t?e:t>i?i:t}return o.r=e(0,parseInt(o.r),255),o.g=e(0,parseInt(o.g),255),o.b=e(0,parseInt(o.b),255),o.a=e(0,o.a,1),o},o.clone=function(){return e.color.make(o.r,o.b,o.g,o.a)},o.normalize()},e.color.extract=function(t,i){var n;do{if(n=t.css(i).toLowerCase(),""!=n&&"transparent"!=n)break;t=t.parent()}while(t.length&&!e.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"==n&&(n="transparent"),e.color.parse(n)},e.color.parse=function(i){var n,s=e.color.make;if(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))return s(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10));if(n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return s(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4]));if(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(i))return s(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]));if(n=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return s(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]),parseFloat(n[4]));if(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))return s(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16));if(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))return s(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16));var o=e.trim(i).toLowerCase();return"transparent"==o?s(255,255,255,0):(n=t[o]||[0,0,0],s(n[0],n[1],n[2]))};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(e){function t(t,i){var n=i.children("."+t)[0];if(null==n&&(n=document.createElement("canvas"),n.className=t,e(n).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(i),!n.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");n=window.G_vmlCanvasManager.initElement(n)}this.element=n;var s=this.context=n.getContext("2d"),o=window.devicePixelRatio||1,r=s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1;this.pixelRatio=o/r,this.resize(i.width(),i.height()),this.textContainer=null,this.text={},this._textCache={}}function i(i,s,o,r){function a(e,t){t=[mt].concat(t);for(var i=0;i<e.length;++i)e[i].apply(this,t)}function l(){for(var i={Canvas:t},n=0;n<r.length;++n){var s=r[n];s.init(mt,i),s.options&&e.extend(!0,st,s.options)}}function c(t){e.extend(!0,st,t),t&&t.colors&&(st.colors=t.colors),null==st.xaxis.color&&(st.xaxis.color=e.color.parse(st.grid.color).scale("a",.22).toString()),null==st.yaxis.color&&(st.yaxis.color=e.color.parse(st.grid.color).scale("a",.22).toString()),null==st.xaxis.tickColor&&(st.xaxis.tickColor=st.grid.tickColor||st.xaxis.color),null==st.yaxis.tickColor&&(st.yaxis.tickColor=st.grid.tickColor||st.yaxis.color),null==st.grid.borderColor&&(st.grid.borderColor=st.grid.color),null==st.grid.tickColor&&(st.grid.tickColor=e.color.parse(st.grid.color).scale("a",.22).toString());var n,s,o,r=i.css("font-size"),l=r?+r.replace("px",""):13,c={style:i.css("font-style"),size:Math.round(.8*l),variant:i.css("font-variant"),weight:i.css("font-weight"),family:i.css("font-family")};for(o=st.xaxes.length||1,n=0;o>n;++n)s=st.xaxes[n],s&&!s.tickColor&&(s.tickColor=s.color),s=e.extend(!0,{},st.xaxis,s),st.xaxes[n]=s,s.font&&(s.font=e.extend({},c,s.font),s.font.color||(s.font.color=s.color),s.font.lineHeight||(s.font.lineHeight=Math.round(1.15*s.font.size)));for(o=st.yaxes.length||1,n=0;o>n;++n)s=st.yaxes[n],s&&!s.tickColor&&(s.tickColor=s.color),s=e.extend(!0,{},st.yaxis,s),st.yaxes[n]=s,s.font&&(s.font=e.extend({},c,s.font),s.font.color||(s.font.color=s.color),s.font.lineHeight||(s.font.lineHeight=Math.round(1.15*s.font.size)));for(st.xaxis.noTicks&&null==st.xaxis.ticks&&(st.xaxis.ticks=st.xaxis.noTicks),st.yaxis.noTicks&&null==st.yaxis.ticks&&(st.yaxis.ticks=st.yaxis.noTicks),st.x2axis&&(st.xaxes[1]=e.extend(!0,{},st.xaxis,st.x2axis),st.xaxes[1].position="top"),st.y2axis&&(st.yaxes[1]=e.extend(!0,{},st.yaxis,st.y2axis),st.yaxes[1].position="right"),st.grid.coloredAreas&&(st.grid.markings=st.grid.coloredAreas),st.grid.coloredAreasColor&&(st.grid.markingsColor=st.grid.coloredAreasColor),st.lines&&e.extend(!0,st.series.lines,st.lines),st.points&&e.extend(!0,st.series.points,st.points),st.bars&&e.extend(!0,st.series.bars,st.bars),null!=st.shadowSize&&(st.series.shadowSize=st.shadowSize),null!=st.highlightColor&&(st.series.highlightColor=st.highlightColor),n=0;n<st.xaxes.length;++n)m(ht,n+1).options=st.xaxes[n];for(n=0;n<st.yaxes.length;++n)m(ut,n+1).options=st.yaxes[n];for(var h in gt)st.hooks[h]&&st.hooks[h].length&&(gt[h]=gt[h].concat(st.hooks[h]));a(gt.processOptions,[st])}function h(e){nt=u(e),v(),y()}function u(t){for(var i=[],n=0;n<t.length;++n){var s=e.extend(!0,{},st.series);null!=t[n].data?(s.data=t[n].data,delete t[n].data,e.extend(!0,s,t[n]),t[n].data=s.data):s.data=t[n],i.push(s)}return i}function d(e,t){var i=e[t+"axis"];return"object"==typeof i&&(i=i.n),"number"!=typeof i&&(i=1),i}function f(){return e.grep(ht.concat(ut),function(e){return e})}function p(e){var t,i,n={};for(t=0;t<ht.length;++t)i=ht[t],i&&i.used&&(n["x"+i.n]=i.c2p(e.left));for(t=0;t<ut.length;++t)i=ut[t],i&&i.used&&(n["y"+i.n]=i.c2p(e.top));return void 0!==n.x1&&(n.x=n.x1),void 0!==n.y1&&(n.y=n.y1),n}function g(e){var t,i,n,s={};for(t=0;t<ht.length;++t)if(i=ht[t],i&&i.used&&(n="x"+i.n,null==e[n]&&1==i.n&&(n="x"),null!=e[n])){s.left=i.p2c(e[n]);break}for(t=0;t<ut.length;++t)if(i=ut[t],i&&i.used&&(n="y"+i.n,null==e[n]&&1==i.n&&(n="y"),null!=e[n])){s.top=i.p2c(e[n]);break}return s}function m(t,i){return t[i-1]||(t[i-1]={n:i,direction:t==ht?"x":"y",options:e.extend(!0,{},t==ht?st.xaxis:st.yaxis)}),t[i-1]}function v(){var t,i=nt.length,n=-1;for(t=0;t<nt.length;++t){var s=nt[t].color;null!=s&&(i--,"number"==typeof s&&s>n&&(n=s))}n>=i&&(i=n+1);var o,r=[],a=st.colors,l=a.length,c=0;for(t=0;i>t;t++)o=e.color.parse(a[t%l]||"#666"),t%l==0&&t&&(c=c>=0?.5>c?-c-.2:0:-c),r[t]=o.scale("rgb",1+c);var h,u=0;for(t=0;t<nt.length;++t){if(h=nt[t],null==h.color?(h.color=r[u].toString(),++u):"number"==typeof h.color&&(h.color=r[h.color].toString()),null==h.lines.show){var f,p=!0;for(f in h)if(h[f]&&h[f].show){p=!1;break}p&&(h.lines.show=!0)}null==h.lines.zero&&(h.lines.zero=!!h.lines.fill),h.xaxis=m(ht,d(h,"x")),h.yaxis=m(ut,d(h,"y"))}}function y(){function t(e,t,i){t<e.datamin&&t!=-y&&(e.datamin=t),i>e.datamax&&i!=y&&(e.datamax=i)}var i,n,s,o,r,l,c,h,u,d,p,g,m=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,y=Number.MAX_VALUE;for(e.each(f(),function(e,t){t.datamin=m,t.datamax=v,t.used=!1}),i=0;i<nt.length;++i)r=nt[i],r.datapoints={points:[]},a(gt.processRawData,[r,r.data,r.datapoints]);for(i=0;i<nt.length;++i){if(r=nt[i],p=r.data,g=r.datapoints.format,!g){if(g=[],g.push({x:!0,number:!0,required:!0}),g.push({y:!0,number:!0,required:!0}),r.bars.show||r.lines.show&&r.lines.fill){var b=!!(r.bars.show&&r.bars.zero||r.lines.show&&r.lines.zero);g.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:b}),r.bars.horizontal&&(delete g[g.length-1].y,g[g.length-1].x=!0)}r.datapoints.format=g}if(null==r.datapoints.pointsize){r.datapoints.pointsize=g.length,c=r.datapoints.pointsize,l=r.datapoints.points;var w=r.lines.show&&r.lines.steps;for(r.xaxis.used=r.yaxis.used=!0,n=s=0;n<p.length;++n,s+=c){d=p[n];var x=null==d;if(!x)for(o=0;c>o;++o)h=d[o],u=g[o],u&&(u.number&&null!=h&&(h=+h,isNaN(h)?h=null:1/0==h?h=y:h==-1/0&&(h=-y)),null==h&&(u.required&&(x=!0),null!=u.defaultValue&&(h=u.defaultValue))),l[s+o]=h;if(x)for(o=0;c>o;++o)h=l[s+o],null!=h&&(u=g[o],u.autoscale!==!1&&(u.x&&t(r.xaxis,h,h),u.y&&t(r.yaxis,h,h))),l[s+o]=null;else if(w&&s>0&&null!=l[s-c]&&l[s-c]!=l[s]&&l[s-c+1]!=l[s+1]){for(o=0;c>o;++o)l[s+c+o]=l[s+o];l[s+1]=l[s-c+1],s+=c}}}}for(i=0;i<nt.length;++i)r=nt[i],a(gt.processDatapoints,[r,r.datapoints]);for(i=0;i<nt.length;++i){r=nt[i],l=r.datapoints.points,c=r.datapoints.pointsize,g=r.datapoints.format;var C=m,_=m,S=v,T=v;for(n=0;n<l.length;n+=c)if(null!=l[n])for(o=0;c>o;++o)h=l[n+o],u=g[o],u&&u.autoscale!==!1&&h!=y&&h!=-y&&(u.x&&(C>h&&(C=h),h>S&&(S=h)),u.y&&(_>h&&(_=h),h>T&&(T=h)));if(r.bars.show){var k;switch(r.bars.align){case"left":k=0;break;case"right":k=-r.bars.barWidth;break;default:k=-r.bars.barWidth/2}r.bars.horizontal?(_+=k,T+=k+r.bars.barWidth):(C+=k,S+=k+r.bars.barWidth)}t(r.xaxis,C,S),t(r.yaxis,_,T)}e.each(f(),function(e,t){t.datamin==m&&(t.datamin=null),t.datamax==v&&(t.datamax=null)})}function b(){i.css("padding",0).children().filter(function(){return!e(this).hasClass("flot-overlay")&&!e(this).hasClass("flot-base")}).remove(),"static"==i.css("position")&&i.css("position","relative"),ot=new t("flot-base",i),rt=new t("flot-overlay",i),lt=ot.context,ct=rt.context,at=e(rt.element).unbind();var n=i.data("plot");n&&(n.shutdown(),rt.clear()),i.data("plot",mt)}function w(){st.grid.hoverable&&(at.mousemove(U),at.bind("mouseleave",V)),st.grid.clickable&&at.click(Y),a(gt.bindEvents,[at])}function x(){yt&&clearTimeout(yt),at.unbind("mousemove",U),at.unbind("mouseleave",V),at.unbind("click",Y),a(gt.shutdown,[at])}function C(e){function t(e){return e}var i,n,s=e.options.transform||t,o=e.options.inverseTransform;"x"==e.direction?(i=e.scale=ft/Math.abs(s(e.max)-s(e.min)),n=Math.min(s(e.max),s(e.min))):(i=e.scale=pt/Math.abs(s(e.max)-s(e.min)),i=-i,n=Math.max(s(e.max),s(e.min))),e.p2c=s==t?function(e){return(e-n)*i}:function(e){return(s(e)-n)*i},e.c2p=o?function(e){return o(n+e/i)}:function(e){return n+e/i}}function _(e){for(var t=e.options,i=e.ticks||[],n=t.labelWidth||0,s=t.labelHeight||0,o=n||("x"==e.direction?Math.floor(ot.width/(i.length||1)):null),r=e.direction+"Axis "+e.direction+e.n+"Axis",a="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+r,l=t.font||"flot-tick-label tickLabel",c=0;c<i.length;++c){var h=i[c];if(h.label){var u=ot.getTextInfo(a,h.label,l,null,o);n=Math.max(n,u.width),s=Math.max(s,u.height)}}e.labelWidth=t.labelWidth||n,e.labelHeight=t.labelHeight||s}function S(t){var i=t.labelWidth,n=t.labelHeight,s=t.options.position,o="x"===t.direction,r=t.options.tickLength,a=st.grid.axisMargin,l=st.grid.labelMargin,c=!0,h=!0,u=!0,d=!1;e.each(o?ht:ut,function(e,i){i&&i.reserveSpace&&(i===t?d=!0:i.options.position===s&&(d?h=!1:c=!1),d||(u=!1))}),h&&(a=0),null==r&&(r=u?"full":5),isNaN(+r)||(l+=+r),o?(n+=l,"bottom"==s?(dt.bottom+=n+a,t.box={top:ot.height-dt.bottom,height:n}):(t.box={top:dt.top+a,height:n},dt.top+=n+a)):(i+=l,"left"==s?(t.box={left:dt.left+a,width:i},dt.left+=i+a):(dt.right+=i+a,t.box={left:ot.width-dt.right,width:i})),t.position=s,t.tickLength=r,t.box.padding=l,t.innermost=c}function T(e){"x"==e.direction?(e.box.left=dt.left-e.labelWidth/2,e.box.width=ot.width-dt.left-dt.right+e.labelWidth):(e.box.top=dt.top-e.labelHeight/2,e.box.height=ot.height-dt.bottom-dt.top+e.labelHeight)}function k(){var t,i=st.grid.minBorderMargin;if(null==i)for(i=0,t=0;t<nt.length;++t)i=Math.max(i,2*(nt[t].points.radius+nt[t].points.lineWidth/2));var n={left:i,right:i,top:i,bottom:i};e.each(f(),function(e,t){if(t.reserveSpace&&t.ticks&&t.ticks.length){var i=t.ticks[t.ticks.length-1];"x"===t.direction?(n.left=Math.max(n.left,t.labelWidth/2),i.v<=t.max&&(n.right=Math.max(n.right,t.labelWidth/2))):(n.bottom=Math.max(n.bottom,t.labelHeight/2),i.v<=t.max&&(n.top=Math.max(n.top,t.labelHeight/2)))}}),dt.left=Math.ceil(Math.max(n.left,dt.left)),dt.right=Math.ceil(Math.max(n.right,dt.right)),dt.top=Math.ceil(Math.max(n.top,dt.top)),dt.bottom=Math.ceil(Math.max(n.bottom,dt.bottom))}function D(){var t,i=f(),n=st.grid.show;for(var s in dt){var o=st.grid.margin||0;dt[s]="number"==typeof o?o:o[s]||0}a(gt.processOffset,[dt]);for(var s in dt)dt[s]+="object"==typeof st.grid.borderWidth?n?st.grid.borderWidth[s]:0:n?st.grid.borderWidth:0;if(e.each(i,function(e,t){t.show=t.options.show,null==t.show&&(t.show=t.used),t.reserveSpace=t.show||t.options.reserveSpace,E(t)}),n){var r=e.grep(i,function(e){return e.reserveSpace});for(e.each(r,function(e,t){N(t),M(t),R(t,t.ticks),_(t)}),t=r.length-1;t>=0;--t)S(r[t]);k(),e.each(r,function(e,t){T(t)})}ft=ot.width-dt.left-dt.right,pt=ot.height-dt.bottom-dt.top,e.each(i,function(e,t){C(t)}),n&&L(),q()}function E(e){var t=e.options,i=+(null!=t.min?t.min:e.datamin),n=+(null!=t.max?t.max:e.datamax),s=n-i;if(0==s){var o=0==n?1:.01;null==t.min&&(i-=o),(null==t.max||null!=t.min)&&(n+=o)}else{var r=t.autoscaleMargin;null!=r&&(null==t.min&&(i-=s*r,0>i&&null!=e.datamin&&e.datamin>=0&&(i=0)),null==t.max&&(n+=s*r,n>0&&null!=e.datamax&&e.datamax<=0&&(n=0)))}e.min=i,e.max=n}function N(t){var i,s=t.options;i="number"==typeof s.ticks&&s.ticks>0?s.ticks:.3*Math.sqrt("x"==t.direction?ot.width:ot.height);var o=(t.max-t.min)/i,r=-Math.floor(Math.log(o)/Math.LN10),a=s.tickDecimals;null!=a&&r>a&&(r=a);var l,c=Math.pow(10,-r),h=o/c;if(1.5>h?l=1:3>h?(l=2,h>2.25&&(null==a||a>=r+1)&&(l=2.5,++r)):l=7.5>h?5:10,l*=c,null!=s.minTickSize&&l<s.minTickSize&&(l=s.minTickSize),t.delta=o,t.tickDecimals=Math.max(0,null!=a?a:r),t.tickSize=s.tickSize||l,"time"==s.mode&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(t.tickGenerator||(t.tickGenerator=function(e){var t,i=[],s=n(e.min,e.tickSize),o=0,r=Number.NaN;do t=r,r=s+o*e.tickSize,i.push(r),++o;while(r<e.max&&r!=t);return i},t.tickFormatter=function(e,t){var i=t.tickDecimals?Math.pow(10,t.tickDecimals):1,n=""+Math.round(e*i)/i;if(null!=t.tickDecimals){var s=n.indexOf("."),o=-1==s?0:n.length-s-1;if(o<t.tickDecimals)return(o?n:n+".")+(""+i).substr(1,t.tickDecimals-o)}return n}),e.isFunction(s.tickFormatter)&&(t.tickFormatter=function(e,t){return""+s.tickFormatter(e,t)}),null!=s.alignTicksWithAxis){var u=("x"==t.direction?ht:ut)[s.alignTicksWithAxis-1];if(u&&u.used&&u!=t){var d=t.tickGenerator(t);if(d.length>0&&(null==s.min&&(t.min=Math.min(t.min,d[0])),null==s.max&&d.length>1&&(t.max=Math.max(t.max,d[d.length-1]))),t.tickGenerator=function(e){var t,i,n=[];for(i=0;i<u.ticks.length;++i)t=(u.ticks[i].v-u.min)/(u.max-u.min),t=e.min+t*(e.max-e.min),n.push(t);return n},!t.mode&&null==s.tickDecimals){var f=Math.max(0,-Math.floor(Math.log(t.delta)/Math.LN10)+1),p=t.tickGenerator(t);p.length>1&&/\..*0$/.test((p[1]-p[0]).toFixed(f))||(t.tickDecimals=f)}}}}function M(t){var i=t.options.ticks,n=[];null==i||"number"==typeof i&&i>0?n=t.tickGenerator(t):i&&(n=e.isFunction(i)?i(t):i);var s,o;for(t.ticks=[],s=0;s<n.length;++s){var r=null,a=n[s];"object"==typeof a?(o=+a[0],a.length>1&&(r=a[1])):o=+a,null==r&&(r=t.tickFormatter(o,t)),isNaN(o)||t.ticks.push({v:o,label:r})}}function R(e,t){e.options.autoscaleMargin&&t.length>0&&(null==e.options.min&&(e.min=Math.min(e.min,t[0].v)),null==e.options.max&&t.length>1&&(e.max=Math.max(e.max,t[t.length-1].v)))}function A(){ot.clear(),a(gt.drawBackground,[lt]);var e=st.grid;e.show&&e.backgroundColor&&I(),e.show&&!e.aboveData&&P();for(var t=0;t<nt.length;++t)a(gt.drawSeries,[lt,nt[t]]),z(nt[t]);a(gt.draw,[lt]),e.show&&e.aboveData&&P(),ot.render(),Q()}function F(e,t){for(var i,n,s,o,r=f(),a=0;a<r.length;++a)if(i=r[a],i.direction==t&&(o=t+i.n+"axis",e[o]||1!=i.n||(o=t+"axis"),e[o])){n=e[o].from,s=e[o].to;break}if(e[o]||(i="x"==t?ht[0]:ut[0],n=e[t+"1"],s=e[t+"2"]),null!=n&&null!=s&&n>s){var l=n;n=s,s=l}return{from:n,to:s,axis:i}}function I(){lt.save(),lt.translate(dt.left,dt.top),lt.fillStyle=it(st.grid.backgroundColor,pt,0,"rgba(255, 255, 255, 0)"),lt.fillRect(0,0,ft,pt),lt.restore()}function P(){var t,i,n,s;lt.save(),lt.translate(dt.left,dt.top);var o=st.grid.markings;if(o)for(e.isFunction(o)&&(i=mt.getAxes(),i.xmin=i.xaxis.min,i.xmax=i.xaxis.max,i.ymin=i.yaxis.min,i.ymax=i.yaxis.max,o=o(i)),t=0;t<o.length;++t){var r=o[t],a=F(r,"x"),l=F(r,"y");null==a.from&&(a.from=a.axis.min),null==a.to&&(a.to=a.axis.max),null==l.from&&(l.from=l.axis.min),null==l.to&&(l.to=l.axis.max),a.to<a.axis.min||a.from>a.axis.max||l.to<l.axis.min||l.from>l.axis.max||(a.from=Math.max(a.from,a.axis.min),a.to=Math.min(a.to,a.axis.max),l.from=Math.max(l.from,l.axis.min),l.to=Math.min(l.to,l.axis.max),(a.from!=a.to||l.from!=l.to)&&(a.from=a.axis.p2c(a.from),a.to=a.axis.p2c(a.to),l.from=l.axis.p2c(l.from),l.to=l.axis.p2c(l.to),a.from==a.to||l.from==l.to?(lt.beginPath(),lt.strokeStyle=r.color||st.grid.markingsColor,lt.lineWidth=r.lineWidth||st.grid.markingsLineWidth,lt.moveTo(a.from,l.from),lt.lineTo(a.to,l.to),lt.stroke()):(lt.fillStyle=r.color||st.grid.markingsColor,lt.fillRect(a.from,l.to,a.to-a.from,l.from-l.to))))}i=f(),n=st.grid.borderWidth;for(var c=0;c<i.length;++c){var h,u,d,p,g=i[c],m=g.box,v=g.tickLength;if(g.show&&0!=g.ticks.length){for(lt.lineWidth=1,"x"==g.direction?(h=0,u="full"==v?"top"==g.position?0:pt:m.top-dt.top+("top"==g.position?m.height:0)):(u=0,h="full"==v?"left"==g.position?0:ft:m.left-dt.left+("left"==g.position?m.width:0)),g.innermost||(lt.strokeStyle=g.options.color,lt.beginPath(),d=p=0,"x"==g.direction?d=ft+1:p=pt+1,1==lt.lineWidth&&("x"==g.direction?u=Math.floor(u)+.5:h=Math.floor(h)+.5),lt.moveTo(h,u),lt.lineTo(h+d,u+p),lt.stroke()),lt.strokeStyle=g.options.tickColor,lt.beginPath(),t=0;t<g.ticks.length;++t){var y=g.ticks[t].v;d=p=0,isNaN(y)||y<g.min||y>g.max||"full"==v&&("object"==typeof n&&n[g.position]>0||n>0)&&(y==g.min||y==g.max)||("x"==g.direction?(h=g.p2c(y),p="full"==v?-pt:v,"top"==g.position&&(p=-p)):(u=g.p2c(y),d="full"==v?-ft:v,"left"==g.position&&(d=-d)),1==lt.lineWidth&&("x"==g.direction?h=Math.floor(h)+.5:u=Math.floor(u)+.5),lt.moveTo(h,u),lt.lineTo(h+d,u+p))}lt.stroke()}}n&&(s=st.grid.borderColor,"object"==typeof n||"object"==typeof s?("object"!=typeof n&&(n={top:n,right:n,bottom:n,left:n}),"object"!=typeof s&&(s={top:s,right:s,bottom:s,left:s}),n.top>0&&(lt.strokeStyle=s.top,lt.lineWidth=n.top,lt.beginPath(),lt.moveTo(0-n.left,0-n.top/2),lt.lineTo(ft,0-n.top/2),lt.stroke()),n.right>0&&(lt.strokeStyle=s.right,lt.lineWidth=n.right,lt.beginPath(),lt.moveTo(ft+n.right/2,0-n.top),lt.lineTo(ft+n.right/2,pt),lt.stroke()),n.bottom>0&&(lt.strokeStyle=s.bottom,lt.lineWidth=n.bottom,lt.beginPath(),lt.moveTo(ft+n.right,pt+n.bottom/2),lt.lineTo(0,pt+n.bottom/2),lt.stroke()),n.left>0&&(lt.strokeStyle=s.left,lt.lineWidth=n.left,lt.beginPath(),lt.moveTo(0-n.left/2,pt+n.bottom),lt.lineTo(0-n.left/2,0),lt.stroke())):(lt.lineWidth=n,lt.strokeStyle=st.grid.borderColor,lt.strokeRect(-n/2,-n/2,ft+n,pt+n))),lt.restore()}function L(){e.each(f(),function(e,t){var i,n,s,o,r,a=t.box,l=t.direction+"Axis "+t.direction+t.n+"Axis",c="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+l,h=t.options.font||"flot-tick-label tickLabel";if(ot.removeText(c),t.show&&0!=t.ticks.length)for(var u=0;u<t.ticks.length;++u)i=t.ticks[u],!i.label||i.v<t.min||i.v>t.max||("x"==t.direction?(o="center",n=dt.left+t.p2c(i.v),"bottom"==t.position?s=a.top+a.padding:(s=a.top+a.height-a.padding,r="bottom")):(r="middle",s=dt.top+t.p2c(i.v),"left"==t.position?(n=a.left+a.width-a.padding,o="right"):n=a.left+a.padding),ot.addText(c,n,s,i.label,h,null,null,o,r))})}function z(e){e.lines.show&&O(e),e.bars.show&&W(e),e.points.show&&H(e)}function O(e){function t(e,t,i,n,s){var o=e.points,r=e.pointsize,a=null,l=null;lt.beginPath();for(var c=r;c<o.length;c+=r){var h=o[c-r],u=o[c-r+1],d=o[c],f=o[c+1];if(null!=h&&null!=d){if(f>=u&&u<s.min){if(f<s.min)continue;h=(s.min-u)/(f-u)*(d-h)+h,u=s.min}else if(u>=f&&f<s.min){if(u<s.min)continue;d=(s.min-u)/(f-u)*(d-h)+h,f=s.min}if(u>=f&&u>s.max){if(f>s.max)continue;h=(s.max-u)/(f-u)*(d-h)+h,u=s.max}else if(f>=u&&f>s.max){if(u>s.max)continue;d=(s.max-u)/(f-u)*(d-h)+h,f=s.max}if(d>=h&&h<n.min){if(d<n.min)continue;u=(n.min-h)/(d-h)*(f-u)+u,h=n.min}else if(h>=d&&d<n.min){if(h<n.min)continue;f=(n.min-h)/(d-h)*(f-u)+u,d=n.min}if(h>=d&&h>n.max){if(d>n.max)continue;u=(n.max-h)/(d-h)*(f-u)+u,h=n.max}else if(d>=h&&d>n.max){if(h>n.max)continue;f=(n.max-h)/(d-h)*(f-u)+u,d=n.max}(h!=a||u!=l)&&lt.moveTo(n.p2c(h)+t,s.p2c(u)+i),a=d,l=f,lt.lineTo(n.p2c(d)+t,s.p2c(f)+i)}}lt.stroke()}function i(e,t,i){for(var n=e.points,s=e.pointsize,o=Math.min(Math.max(0,i.min),i.max),r=0,a=!1,l=1,c=0,h=0;;){if(s>0&&r>n.length+s)break;r+=s;var u=n[r-s],d=n[r-s+l],f=n[r],p=n[r+l];if(a){if(s>0&&null!=u&&null==f){h=r,s=-s,l=2;continue}if(0>s&&r==c+s){lt.fill(),a=!1,s=-s,l=1,r=c=h+s;continue}}if(null!=u&&null!=f){if(f>=u&&u<t.min){if(f<t.min)continue;d=(t.min-u)/(f-u)*(p-d)+d,u=t.min}else if(u>=f&&f<t.min){if(u<t.min)continue;p=(t.min-u)/(f-u)*(p-d)+d,f=t.min}if(u>=f&&u>t.max){if(f>t.max)continue;d=(t.max-u)/(f-u)*(p-d)+d,u=t.max}else if(f>=u&&f>t.max){if(u>t.max)continue;p=(t.max-u)/(f-u)*(p-d)+d,f=t.max}if(a||(lt.beginPath(),lt.moveTo(t.p2c(u),i.p2c(o)),a=!0),d>=i.max&&p>=i.max)lt.lineTo(t.p2c(u),i.p2c(i.max)),lt.lineTo(t.p2c(f),i.p2c(i.max));else if(d<=i.min&&p<=i.min)lt.lineTo(t.p2c(u),i.p2c(i.min)),lt.lineTo(t.p2c(f),i.p2c(i.min));else{var g=u,m=f;p>=d&&d<i.min&&p>=i.min?(u=(i.min-d)/(p-d)*(f-u)+u,d=i.min):d>=p&&p<i.min&&d>=i.min&&(f=(i.min-d)/(p-d)*(f-u)+u,p=i.min),d>=p&&d>i.max&&p<=i.max?(u=(i.max-d)/(p-d)*(f-u)+u,d=i.max):p>=d&&p>i.max&&d<=i.max&&(f=(i.max-d)/(p-d)*(f-u)+u,p=i.max),u!=g&&lt.lineTo(t.p2c(g),i.p2c(d)),lt.lineTo(t.p2c(u),i.p2c(d)),lt.lineTo(t.p2c(f),i.p2c(p)),f!=m&&(lt.lineTo(t.p2c(f),i.p2c(p)),lt.lineTo(t.p2c(m),i.p2c(p)))}}}}lt.save(),lt.translate(dt.left,dt.top),lt.lineJoin="round";var n=e.lines.lineWidth,s=e.shadowSize;if(n>0&&s>0){lt.lineWidth=s,lt.strokeStyle="rgba(0,0,0,0.1)";var o=Math.PI/18;t(e.datapoints,Math.sin(o)*(n/2+s/2),Math.cos(o)*(n/2+s/2),e.xaxis,e.yaxis),lt.lineWidth=s/2,t(e.datapoints,Math.sin(o)*(n/2+s/4),Math.cos(o)*(n/2+s/4),e.xaxis,e.yaxis)}lt.lineWidth=n,lt.strokeStyle=e.color;var r=B(e.lines,e.color,0,pt);r&&(lt.fillStyle=r,i(e.datapoints,e.xaxis,e.yaxis)),n>0&&t(e.datapoints,0,0,e.xaxis,e.yaxis),lt.restore()}function H(e){function t(e,t,i,n,s,o,r,a){for(var l=e.points,c=e.pointsize,h=0;h<l.length;h+=c){var u=l[h],d=l[h+1];null==u||u<o.min||u>o.max||d<r.min||d>r.max||(lt.beginPath(),u=o.p2c(u),d=r.p2c(d)+n,"circle"==a?lt.arc(u,d,t,0,s?Math.PI:2*Math.PI,!1):a(lt,u,d,t,s),lt.closePath(),i&&(lt.fillStyle=i,lt.fill()),lt.stroke())}}lt.save(),lt.translate(dt.left,dt.top);var i=e.points.lineWidth,n=e.shadowSize,s=e.points.radius,o=e.points.symbol;if(0==i&&(i=1e-4),i>0&&n>0){var r=n/2;lt.lineWidth=r,lt.strokeStyle="rgba(0,0,0,0.1)",t(e.datapoints,s,null,r+r/2,!0,e.xaxis,e.yaxis,o),lt.strokeStyle="rgba(0,0,0,0.2)",t(e.datapoints,s,null,r/2,!0,e.xaxis,e.yaxis,o)}lt.lineWidth=i,lt.strokeStyle=e.color,t(e.datapoints,s,B(e.points,e.color),0,!1,e.xaxis,e.yaxis,o),lt.restore()}function j(e,t,i,n,s,o,r,a,l,c,h){var u,d,f,p,g,m,v,y,b;c?(y=m=v=!0,g=!1,u=i,d=e,p=t+n,f=t+s,u>d&&(b=d,d=u,u=b,g=!0,m=!1)):(g=m=v=!0,y=!1,u=e+n,d=e+s,f=i,p=t,f>p&&(b=p,p=f,f=b,y=!0,v=!1)),d<r.min||u>r.max||p<a.min||f>a.max||(u<r.min&&(u=r.min,g=!1),d>r.max&&(d=r.max,m=!1),f<a.min&&(f=a.min,y=!1),p>a.max&&(p=a.max,v=!1),u=r.p2c(u),f=a.p2c(f),d=r.p2c(d),p=a.p2c(p),o&&(l.fillStyle=o(f,p),l.fillRect(u,p,d-u,f-p)),h>0&&(g||m||v||y)&&(l.beginPath(),l.moveTo(u,f),g?l.lineTo(u,p):l.moveTo(u,p),v?l.lineTo(d,p):l.moveTo(d,p),m?l.lineTo(d,f):l.moveTo(d,f),y?l.lineTo(u,f):l.moveTo(u,f),l.stroke()))}function W(e){function t(t,i,n,s,o,r){for(var a=t.points,l=t.pointsize,c=0;c<a.length;c+=l)null!=a[c]&&j(a[c],a[c+1],a[c+2],i,n,s,o,r,lt,e.bars.horizontal,e.bars.lineWidth)}lt.save(),lt.translate(dt.left,dt.top),lt.lineWidth=e.bars.lineWidth,lt.strokeStyle=e.color;var i;switch(e.bars.align){case"left":i=0;break;case"right":i=-e.bars.barWidth;break;default:i=-e.bars.barWidth/2}var n=e.bars.fill?function(t,i){return B(e.bars,e.color,t,i)}:null;t(e.datapoints,i,i+e.bars.barWidth,n,e.xaxis,e.yaxis),lt.restore()}function B(t,i,n,s){var o=t.fill;if(!o)return null;if(t.fillColor)return it(t.fillColor,n,s,i);var r=e.color.parse(i);return r.a="number"==typeof o?o:.4,r.normalize(),r.toString()}function q(){if(null!=st.legend.container?e(st.legend.container).html(""):i.find(".legend").remove(),st.legend.show){for(var t,n,s=[],o=[],r=!1,a=st.legend.labelFormatter,l=0;l<nt.length;++l)t=nt[l],t.label&&(n=a?a(t.label,t):t.label,n&&o.push({label:n,color:t.color}));if(st.legend.sorted)if(e.isFunction(st.legend.sorted))o.sort(st.legend.sorted);else if("reverse"==st.legend.sorted)o.reverse();else{var c="descending"!=st.legend.sorted;o.sort(function(e,t){return e.label==t.label?0:e.label<t.label!=c?1:-1})}for(var l=0;l<o.length;++l){var h=o[l];l%st.legend.noColumns==0&&(r&&s.push("</tr>"),s.push("<tr>"),r=!0),s.push('<td class="legendColorBox"><div style="border:1px solid '+st.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+h.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+h.label+"</td>")}if(r&&s.push("</tr>"),0!=s.length){var u='<table style="font-size:smaller;color:'+st.grid.color+'">'+s.join("")+"</table>";if(null!=st.legend.container)e(st.legend.container).html(u);else{var d="",f=st.legend.position,p=st.legend.margin;null==p[0]&&(p=[p,p]),"n"==f.charAt(0)?d+="top:"+(p[1]+dt.top)+"px;":"s"==f.charAt(0)&&(d+="bottom:"+(p[1]+dt.bottom)+"px;"),"e"==f.charAt(1)?d+="right:"+(p[0]+dt.right)+"px;":"w"==f.charAt(1)&&(d+="left:"+(p[0]+dt.left)+"px;");var g=e('<div class="legend">'+u.replace('style="','style="position:absolute;'+d+";")+"</div>").appendTo(i);if(0!=st.legend.backgroundOpacity){var m=st.legend.backgroundColor;null==m&&(m=st.grid.backgroundColor,m=m&&"string"==typeof m?e.color.parse(m):e.color.extract(g,"background-color"),m.a=1,m=m.toString());var v=g.children();e('<div style="position:absolute;width:'+v.width()+"px;height:"+v.height()+"px;"+d+"background-color:"+m+';"> </div>').prependTo(g).css("opacity",st.legend.backgroundOpacity)}}}}}function $(e,t,i){var n,s,o,r=st.grid.mouseActiveRadius,a=r*r+1,l=null;for(n=nt.length-1;n>=0;--n)if(i(nt[n])){var c=nt[n],h=c.xaxis,u=c.yaxis,d=c.datapoints.points,f=h.c2p(e),p=u.c2p(t),g=r/h.scale,m=r/u.scale;if(o=c.datapoints.pointsize,h.options.inverseTransform&&(g=Number.MAX_VALUE),u.options.inverseTransform&&(m=Number.MAX_VALUE),c.lines.show||c.points.show)for(s=0;s<d.length;s+=o){var v=d[s],y=d[s+1];if(null!=v&&!(v-f>g||-g>v-f||y-p>m||-m>y-p)){var b=Math.abs(h.p2c(v)-e),w=Math.abs(u.p2c(y)-t),x=b*b+w*w;a>x&&(a=x,l=[n,s/o])}}if(c.bars.show&&!l){var C,_;switch(c.bars.align){case"left":C=0;break;case"right":C=-c.bars.barWidth;break;default:C=-c.bars.barWidth/2}for(_=C+c.bars.barWidth,s=0;s<d.length;s+=o){var v=d[s],y=d[s+1],S=d[s+2];null!=v&&(nt[n].bars.horizontal?f<=Math.max(S,v)&&f>=Math.min(S,v)&&p>=y+C&&y+_>=p:f>=v+C&&v+_>=f&&p>=Math.min(S,y)&&p<=Math.max(S,y))&&(l=[n,s/o])}}}return l?(n=l[0],s=l[1],o=nt[n].datapoints.pointsize,{datapoint:nt[n].datapoints.points.slice(s*o,(s+1)*o),dataIndex:s,series:nt[n],seriesIndex:n}):null}function U(e){st.grid.hoverable&&X("plothover",e,function(e){return 0!=e.hoverable})}function V(e){st.grid.hoverable&&X("plothover",e,function(){return!1})}function Y(e){X("plotclick",e,function(e){return 0!=e.clickable})}function X(e,t,n){var s=at.offset(),o=t.pageX-s.left-dt.left,r=t.pageY-s.top-dt.top,a=p({left:o,top:r});a.pageX=t.pageX,a.pageY=t.pageY;var l=$(o,r,n);if(l&&(l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+s.left+dt.left,10),l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+s.top+dt.top,10)),st.grid.autoHighlight){for(var c=0;c<vt.length;++c){var h=vt[c];h.auto!=e||l&&h.series==l.series&&h.point[0]==l.datapoint[0]&&h.point[1]==l.datapoint[1]||K(h.series,h.point)}l&&G(l.series,l.datapoint,e)}i.trigger(e,[a,l])}function Q(){var e=st.interaction.redrawOverlayInterval;return-1==e?void J():void(yt||(yt=setTimeout(J,e)))}function J(){yt=null,ct.save(),rt.clear(),ct.translate(dt.left,dt.top);var e,t;for(e=0;e<vt.length;++e)t=vt[e],t.series.bars.show?tt(t.series,t.point):et(t.series,t.point);ct.restore(),a(gt.drawOverlay,[ct])}function G(e,t,i){if("number"==typeof e&&(e=nt[e]),"number"==typeof t){var n=e.datapoints.pointsize;t=e.datapoints.points.slice(n*t,n*(t+1))}var s=Z(e,t);-1==s?(vt.push({series:e,point:t,auto:i}),Q()):i||(vt[s].auto=!1)}function K(e,t){if(null==e&&null==t)return vt=[],void Q();if("number"==typeof e&&(e=nt[e]),"number"==typeof t){var i=e.datapoints.pointsize;t=e.datapoints.points.slice(i*t,i*(t+1))}var n=Z(e,t);-1!=n&&(vt.splice(n,1),Q())}function Z(e,t){for(var i=0;i<vt.length;++i){var n=vt[i];if(n.series==e&&n.point[0]==t[0]&&n.point[1]==t[1])return i}return-1}function et(t,i){var n=i[0],s=i[1],o=t.xaxis,r=t.yaxis,a="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString();if(!(n<o.min||n>o.max||s<r.min||s>r.max)){var l=t.points.radius+t.points.lineWidth/2;ct.lineWidth=l,ct.strokeStyle=a;var c=1.5*l;n=o.p2c(n),s=r.p2c(s),ct.beginPath(),"circle"==t.points.symbol?ct.arc(n,s,c,0,2*Math.PI,!1):t.points.symbol(ct,n,s,c,!1),ct.closePath(),ct.stroke()}}function tt(t,i){var n,s="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString(),o=s;switch(t.bars.align){case"left":n=0;break;case"right":n=-t.bars.barWidth;break;default:n=-t.bars.barWidth/2}ct.lineWidth=t.bars.lineWidth,ct.strokeStyle=s,j(i[0],i[1],i[2]||0,n,n+t.bars.barWidth,function(){return o},t.xaxis,t.yaxis,ct,t.bars.horizontal,t.bars.lineWidth)}function it(t,i,n,s){if("string"==typeof t)return t;for(var o=lt.createLinearGradient(0,n,0,i),r=0,a=t.colors.length;a>r;++r){var l=t.colors[r];if("string"!=typeof l){var c=e.color.parse(s);null!=l.brightness&&(c=c.scale("rgb",l.brightness)),null!=l.opacity&&(c.a*=l.opacity),l=c.toString()}o.addColorStop(r/(a-1),l)}return o}var nt=[],st={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},ot=null,rt=null,at=null,lt=null,ct=null,ht=[],ut=[],dt={left:0,right:0,top:0,bottom:0},ft=0,pt=0,gt={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},mt=this;mt.setData=h,mt.setupGrid=D,mt.draw=A,mt.getPlaceholder=function(){return i},mt.getCanvas=function(){return ot.element},mt.getPlotOffset=function(){return dt},mt.width=function(){return ft},mt.height=function(){return pt},mt.offset=function(){var e=at.offset();return e.left+=dt.left,e.top+=dt.top,e},mt.getData=function(){return nt},mt.getAxes=function(){var t={};
return e.each(ht.concat(ut),function(e,i){i&&(t[i.direction+(1!=i.n?i.n:"")+"axis"]=i)}),t},mt.getXAxes=function(){return ht},mt.getYAxes=function(){return ut},mt.c2p=p,mt.p2c=g,mt.getOptions=function(){return st},mt.highlight=G,mt.unhighlight=K,mt.triggerRedrawOverlay=Q,mt.pointOffset=function(e){return{left:parseInt(ht[d(e,"x")-1].p2c(+e.x)+dt.left,10),top:parseInt(ut[d(e,"y")-1].p2c(+e.y)+dt.top,10)}},mt.shutdown=x,mt.destroy=function(){x(),i.removeData("plot").empty(),nt=[],st=null,ot=null,rt=null,at=null,lt=null,ct=null,ht=[],ut=[],gt=null,vt=[],mt=null},mt.resize=function(){var e=i.width(),t=i.height();ot.resize(e,t),rt.resize(e,t)},mt.hooks=gt,l(mt),c(o),b(),h(s),D(),A(),w();var vt=[],yt=null}function n(e,t){return t*Math.floor(e/t)}var s=Object.prototype.hasOwnProperty;t.prototype.resize=function(e,t){if(0>=e||0>=t)throw new Error("Invalid dimensions for plot, width = "+e+", height = "+t);var i=this.element,n=this.context,s=this.pixelRatio;this.width!=e&&(i.width=e*s,i.style.width=e+"px",this.width=e),this.height!=t&&(i.height=t*s,i.style.height=t+"px",this.height=t),n.restore(),n.save(),n.scale(s,s)},t.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},t.prototype.render=function(){var e=this._textCache;for(var t in e)if(s.call(e,t)){var i=this.getTextLayer(t),n=e[t];i.hide();for(var o in n)if(s.call(n,o)){var r=n[o];for(var a in r)if(s.call(r,a)){for(var l,c=r[a].positions,h=0;l=c[h];h++)l.active?l.rendered||(i.append(l.element),l.rendered=!0):(c.splice(h--,1),l.rendered&&l.element.detach());0==c.length&&delete r[a]}}i.show()}},t.prototype.getTextLayer=function(t){var i=this.text[t];return null==i&&(null==this.textContainer&&(this.textContainer=e("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),i=this.text[t]=e("<div></div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),i},t.prototype.getTextInfo=function(t,i,n,s,o){var r,a,l,c;if(i=""+i,r="object"==typeof n?n.style+" "+n.variant+" "+n.weight+" "+n.size+"px/"+n.lineHeight+"px "+n.family:n,a=this._textCache[t],null==a&&(a=this._textCache[t]={}),l=a[r],null==l&&(l=a[r]={}),c=l[i],null==c){var h=e("<div></div>").html(i).css({position:"absolute","max-width":o,top:-9999}).appendTo(this.getTextLayer(t));"object"==typeof n?h.css({font:r,color:n.color}):"string"==typeof n&&h.addClass(n),c=l[i]={width:h.outerWidth(!0),height:h.outerHeight(!0),element:h,positions:[]},h.detach()}return c},t.prototype.addText=function(e,t,i,n,s,o,r,a,l){var c=this.getTextInfo(e,n,s,o,r),h=c.positions;"center"==a?t-=c.width/2:"right"==a&&(t-=c.width),"middle"==l?i-=c.height/2:"bottom"==l&&(i-=c.height);for(var u,d=0;u=h[d];d++)if(u.x==t&&u.y==i)return void(u.active=!0);u={active:!0,rendered:!1,element:h.length?c.element.clone():c.element,x:t,y:i},h.push(u),u.element.css({top:Math.round(i),left:Math.round(t),"text-align":a})},t.prototype.removeText=function(e,t,i,n,o,r){if(null==n){var a=this._textCache[e];if(null!=a)for(var l in a)if(s.call(a,l)){var c=a[l];for(var h in c)if(s.call(c,h))for(var u,d=c[h].positions,f=0;u=d[f];f++)u.active=!1}}else for(var u,d=this.getTextInfo(e,n,o,r).positions,f=0;u=d[f];f++)u.x==t&&u.y==i&&(u.active=!1)},e.plot=function(t,n,s){var o=new i(e(t),n,s,e.plot.plugins);return o},e.plot.version="0.8.2",e.plot.plugins=[],e.fn.plot=function(t,i){return this.each(function(){e.plot(this,t,i)})}}(jQuery),/*!
 * Flot plugin for rendering pie charts.
 * Copyright (c) 2007-2013 IOLA and Ole Laursen.
 * Licensed under the MIT license.
 * Created by Brian Medendorp
 * Updated with contributions from btburnett3, Anthony Aragues and Xavi Ivars
 */
function(e){function t(t){function s(t){_||(_=!0,v=t.getCanvas(),y=e(v).parent(),b=t.getOptions(),t.setData(o(t.getData())))}function o(t){for(var i=0,n=0,s=0,o=b.series.pie.combine.color,r=[],a=0;a<t.length;++a){var l=t[a].data;e.isArray(l)&&1==l.length&&(l=l[0]),e.isArray(l)?l[1]=!isNaN(parseFloat(l[1]))&&isFinite(l[1])?+l[1]:0:l=!isNaN(parseFloat(l))&&isFinite(l)?[1,+l]:[1,0],t[a].data=[l]}for(var a=0;a<t.length;++a)i+=t[a].data[0][1];for(var a=0;a<t.length;++a){var l=t[a].data[0][1];l/i<=b.series.pie.combine.threshold&&(n+=l,s++,o||(o=t[a].color))}for(var a=0;a<t.length;++a){var l=t[a].data[0][1];(2>s||l/i>b.series.pie.combine.threshold)&&r.push({data:[[1,l]],color:t[a].color,label:t[a].label,angle:l*Math.PI*2/i,percent:l/(i/100)})}return s>1&&r.push({data:[[1,n]],color:o,label:b.series.pie.combine.label,angle:n*Math.PI*2/i,percent:n/(i/100)}),r}function r(t,s){function o(){S.clearRect(0,0,c,h),y.children().filter(".pieLabel, .pieLabelBackground").remove()}function r(){var e=b.series.pie.shadow.left,t=b.series.pie.shadow.top,i=10,n=b.series.pie.shadow.alpha,s=b.series.pie.radius>1?b.series.pie.radius:w*b.series.pie.radius;if(!(s>=c/2-e||s*b.series.pie.tilt>=h/2-t||i>=s)){S.save(),S.translate(e,t),S.globalAlpha=n,S.fillStyle="#000",S.translate(x,C),S.scale(1,b.series.pie.tilt);for(var o=1;i>=o;o++)S.beginPath(),S.arc(0,0,s,0,2*Math.PI,!1),S.fill(),s-=o;S.restore()}}function l(){function t(e,t,i){0>=e||isNaN(e)||(i?S.fillStyle=t:(S.strokeStyle=t,S.lineJoin="round"),S.beginPath(),Math.abs(e-2*Math.PI)>1e-9&&S.moveTo(0,0),S.arc(0,0,s,o,o+e/2,!1),S.arc(0,0,s,o+e/2,o+e,!1),S.closePath(),o+=e,i?S.fill():S.stroke())}function i(){function t(t,i,n){if(0==t.data[0][1])return!0;var o,r=b.legend.labelFormatter,a=b.series.pie.label.formatter;o=r?r(t.label,t):t.label,a&&(o=a(o,t));var l=(i+t.angle+i)/2,u=x+Math.round(Math.cos(l)*s),d=C+Math.round(Math.sin(l)*s)*b.series.pie.tilt,f="<span class='pieLabel' id='pieLabel"+n+"' style='position:absolute;top:"+d+"px;left:"+u+"px;'>"+o+"</span>";y.append(f);var p=y.children("#pieLabel"+n),g=d-p.height()/2,m=u-p.width()/2;if(p.css("top",g),p.css("left",m),0-g>0||0-m>0||h-(g+p.height())<0||c-(m+p.width())<0)return!1;if(0!=b.series.pie.label.background.opacity){var v=b.series.pie.label.background.color;null==v&&(v=t.color);var w="top:"+g+"px;left:"+m+"px;";e("<div class='pieLabelBackground' style='position:absolute;width:"+p.width()+"px;height:"+p.height()+"px;"+w+"background-color:"+v+";'></div>").css("opacity",b.series.pie.label.background.opacity).insertBefore(p)}return!0}for(var i=n,s=b.series.pie.label.radius>1?b.series.pie.label.radius:w*b.series.pie.label.radius,o=0;o<d.length;++o){if(d[o].percent>=100*b.series.pie.label.threshold&&!t(d[o],i,o))return!1;i+=d[o].angle}return!0}var n=Math.PI*b.series.pie.startAngle,s=b.series.pie.radius>1?b.series.pie.radius:w*b.series.pie.radius;S.save(),S.translate(x,C),S.scale(1,b.series.pie.tilt),S.save();for(var o=n,r=0;r<d.length;++r)d[r].startAngle=o,t(d[r].angle,d[r].color,!0);if(S.restore(),b.series.pie.stroke.width>0){S.save(),S.lineWidth=b.series.pie.stroke.width,o=n;for(var r=0;r<d.length;++r)t(d[r].angle,b.series.pie.stroke.color,!1);S.restore()}return a(S),S.restore(),b.series.pie.label.show?i():!0}if(y){var c=t.getPlaceholder().width(),h=t.getPlaceholder().height(),u=y.children().filter(".legend").children().width()||0;S=s,_=!1,w=Math.min(c,h/b.series.pie.tilt)/2,C=h/2+b.series.pie.offset.top,x=c/2,"auto"==b.series.pie.offset.left?(b.legend.position.match("w")?x+=u/2:x-=u/2,w>x?x=w:x>c-w&&(x=c-w)):x+=b.series.pie.offset.left;var d=t.getData(),f=0;do f>0&&(w*=n),f+=1,o(),b.series.pie.tilt<=.8&&r();while(!l()&&i>f);f>=i&&(o(),y.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")),t.setSeries&&t.insertLegend&&(t.setSeries(d),t.insertLegend())}}function a(e){if(b.series.pie.innerRadius>0){e.save();var t=b.series.pie.innerRadius>1?b.series.pie.innerRadius:w*b.series.pie.innerRadius;e.globalCompositeOperation="destination-out",e.beginPath(),e.fillStyle=b.series.pie.stroke.color,e.arc(0,0,t,0,2*Math.PI,!1),e.fill(),e.closePath(),e.restore(),e.save(),e.beginPath(),e.strokeStyle=b.series.pie.stroke.color,e.arc(0,0,t,0,2*Math.PI,!1),e.stroke(),e.closePath(),e.restore()}}function l(e,t){for(var i=!1,n=-1,s=e.length,o=s-1;++n<s;o=n)(e[n][1]<=t[1]&&t[1]<e[o][1]||e[o][1]<=t[1]&&t[1]<e[n][1])&&t[0]<(e[o][0]-e[n][0])*(t[1]-e[n][1])/(e[o][1]-e[n][1])+e[n][0]&&(i=!i);return i}function c(e,i){for(var n,s,o=t.getData(),r=t.getOptions(),a=r.series.pie.radius>1?r.series.pie.radius:w*r.series.pie.radius,c=0;c<o.length;++c){var h=o[c];if(h.pie.show){if(S.save(),S.beginPath(),S.moveTo(0,0),S.arc(0,0,a,h.startAngle,h.startAngle+h.angle/2,!1),S.arc(0,0,a,h.startAngle+h.angle/2,h.startAngle+h.angle,!1),S.closePath(),n=e-x,s=i-C,S.isPointInPath){if(S.isPointInPath(e-x,i-C))return S.restore(),{datapoint:[h.percent,h.data],dataIndex:0,series:h,seriesIndex:c}}else{var u=a*Math.cos(h.startAngle),d=a*Math.sin(h.startAngle),f=a*Math.cos(h.startAngle+h.angle/4),p=a*Math.sin(h.startAngle+h.angle/4),g=a*Math.cos(h.startAngle+h.angle/2),m=a*Math.sin(h.startAngle+h.angle/2),v=a*Math.cos(h.startAngle+h.angle/1.5),y=a*Math.sin(h.startAngle+h.angle/1.5),b=a*Math.cos(h.startAngle+h.angle),_=a*Math.sin(h.startAngle+h.angle),T=[[0,0],[u,d],[f,p],[g,m],[v,y],[b,_]],k=[n,s];if(l(T,k))return S.restore(),{datapoint:[h.percent,h.data],dataIndex:0,series:h,seriesIndex:c}}S.restore()}}return null}function h(e){d("plothover",e)}function u(e){d("plotclick",e)}function d(e,i){var n=t.offset(),s=parseInt(i.pageX-n.left),o=parseInt(i.pageY-n.top),r=c(s,o);if(b.grid.autoHighlight)for(var a=0;a<T.length;++a){var l=T[a];l.auto!=e||r&&l.series==r.series||p(l.series)}r&&f(r.series,e);var h={pageX:i.pageX,pageY:i.pageY};y.trigger(e,[h,r])}function f(e,i){var n=g(e);-1==n?(T.push({series:e,auto:i}),t.triggerRedrawOverlay()):i||(T[n].auto=!1)}function p(e){null==e&&(T=[],t.triggerRedrawOverlay());var i=g(e);-1!=i&&(T.splice(i,1),t.triggerRedrawOverlay())}function g(e){for(var t=0;t<T.length;++t){var i=T[t];if(i.series==e)return t}return-1}function m(e,t){function i(e){e.angle<=0||isNaN(e.angle)||(t.fillStyle="rgba(255, 255, 255, "+n.series.pie.highlight.opacity+")",t.beginPath(),Math.abs(e.angle-2*Math.PI)>1e-9&&t.moveTo(0,0),t.arc(0,0,s,e.startAngle,e.startAngle+e.angle/2,!1),t.arc(0,0,s,e.startAngle+e.angle/2,e.startAngle+e.angle,!1),t.closePath(),t.fill())}var n=e.getOptions(),s=n.series.pie.radius>1?n.series.pie.radius:w*n.series.pie.radius;t.save(),t.translate(x,C),t.scale(1,n.series.pie.tilt);for(var o=0;o<T.length;++o)i(T[o].series);a(t),t.restore()}var v=null,y=null,b=null,w=null,x=null,C=null,_=!1,S=null,T=[];t.hooks.processOptions.push(function(e,t){t.series.pie.show&&(t.grid.show=!1,"auto"==t.series.pie.label.show&&(t.series.pie.label.show=t.legend.show?!1:!0),"auto"==t.series.pie.radius&&(t.series.pie.radius=t.series.pie.label.show?.75:1),t.series.pie.tilt>1?t.series.pie.tilt=1:t.series.pie.tilt<0&&(t.series.pie.tilt=0))}),t.hooks.bindEvents.push(function(e,t){var i=e.getOptions();i.series.pie.show&&(i.grid.hoverable&&t.unbind("mousemove").mousemove(h),i.grid.clickable&&t.unbind("click").click(u))}),t.hooks.processDatapoints.push(function(e,t,i,n){var o=e.getOptions();o.series.pie.show&&s(e,t,i,n)}),t.hooks.drawOverlay.push(function(e,t){var i=e.getOptions();i.series.pie.show&&m(e,t)}),t.hooks.draw.push(function(e,t){var i=e.getOptions();i.series.pie.show&&r(e,t)})}var i=10,n=.95,s={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(e,t){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+t.color+";'>"+e+"<br/>"+Math.round(t.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};e.plot.plugins.push({init:t,options:s,name:"pie",version:"1.1"})}(jQuery),/*!
 * Flot plugin for automatically redrawing plots as the placeholder resizes.
 * Copyright (c) 2007-2013 IOLA and Ole Laursen.
 * Licensed under the MIT license.
 * Inline dependency:
 * jQuery resize event - v1.1 - 3/14/2010
 * http://benalman.com/projects/jquery-resize-plugin/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
function(e,t,i){function n(){for(var i=o.length-1;i>=0;i--){var a=e(o[i]);if(a[0]==t||a.is(":visible")){var f=a.width(),p=a.height(),g=a.data(c);!g||f===g.w&&p===g.h?r[h]=r[u]:(r[h]=r[d],a.trigger(l,[g.w=f,g.h=p]))}else g=a.data(c),g.w=0,g.h=0}null!==s&&(s=t.requestAnimationFrame(n))}var s,o=[],r=e.resize=e.extend(e.resize,{}),a="setTimeout",l="resize",c=l+"-special-event",h="delay",u="pendingDelay",d="activeDelay",f="throttleWindow";r[u]=250,r[d]=20,r[h]=r[u],r[f]=!0,e.event.special[l]={setup:function(){if(!r[f]&&this[a])return!1;var t=e(this);o.push(this),t.data(c,{w:t.width(),h:t.height()}),1===o.length&&(s=i,n())},teardown:function(){if(!r[f]&&this[a])return!1;for(var t=e(this),i=o.length-1;i>=0;i--)if(o[i]==this){o.splice(i,1);break}t.removeData(c),o.length||(cancelAnimationFrame(s),s=null)},add:function(t){function n(t,n,o){var r=e(this),a=r.data(c);a.w=n!==i?n:r.width(),a.h=o!==i?o:r.height(),s.apply(this,arguments)}if(!r[f]&&this[a])return!1;var s;return e.isFunction(t)?(s=t,n):(s=t.handler,void(t.handler=n))}},t.requestAnimationFrame||(t.requestAnimationFrame=function(){return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return t.setTimeout(e,r[h])}}()),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(){return t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout}())}(jQuery,this),function(e){function t(e){function t(){var t=e.getPlaceholder();0!=t.width()&&0!=t.height()&&(e.resize(),e.setupGrid(),e.draw())}function i(e){e.getPlaceholder().resize(t)}function n(e){e.getPlaceholder().unbind("resize",t)}e.hooks.bindEvents.push(i),e.hooks.shutdown.push(n)}var i={};e.plot.plugins.push({init:t,options:i,name:"resize",version:"1.0"})}(jQuery),/*!
 * Flot plugin for stacking data sets rather than overlyaing them.
 * Copyright (c) 2007-2013 IOLA and Ole Laursen.
 * Licensed under the MIT license.
 */
function(e){function t(e){function t(e,t){for(var i=null,n=0;n<t.length&&e!=t[n];++n)t[n].stack==e.stack&&(i=t[n]);return i}function i(e,i,n){if(null!=i.stack&&i.stack!==!1){var s=t(i,e.getData());if(s){for(var o,r,a,l,c,h,u,d,f=n.pointsize,p=n.points,g=s.datapoints.pointsize,m=s.datapoints.points,v=[],y=i.lines.show,b=i.bars.horizontal,w=f>2&&(b?n.format[2].x:n.format[2].y),x=y&&i.lines.steps,C=!0,_=b?1:0,S=b?0:1,T=0,k=0;;){if(T>=p.length)break;if(u=v.length,null==p[T]){for(d=0;f>d;++d)v.push(p[T+d]);T+=f}else if(k>=m.length){if(!y)for(d=0;f>d;++d)v.push(p[T+d]);T+=f}else if(null==m[k]){for(d=0;f>d;++d)v.push(null);C=!0,k+=g}else{if(o=p[T+_],r=p[T+S],l=m[k+_],c=m[k+S],h=0,o==l){for(d=0;f>d;++d)v.push(p[T+d]);v[u+S]+=c,h=c,T+=f,k+=g}else if(o>l){if(y&&T>0&&null!=p[T-f]){for(a=r+(p[T-f+S]-r)*(l-o)/(p[T-f+_]-o),v.push(l),v.push(a+c),d=2;f>d;++d)v.push(p[T+d]);h=c}k+=g}else{if(C&&y){T+=f;continue}for(d=0;f>d;++d)v.push(p[T+d]);y&&k>0&&null!=m[k-g]&&(h=c+(m[k-g+S]-c)*(o-l)/(m[k-g+_]-l)),v[u+S]+=h,T+=f}C=!1,u!=v.length&&w&&(v[u+2]+=h)}if(x&&u!=v.length&&u>0&&null!=v[u]&&v[u]!=v[u-f]&&v[u+1]!=v[u-f+1]){for(d=0;f>d;++d)v[u+f+d]=v[u+d];v[u+1]=v[u-f+1]}}n.points=v}}}e.hooks.processDatapoints.push(i)}var i={series:{stack:null}};e.plot.plugins.push({init:t,options:i,name:"stack",version:"1.2"})}(jQuery),/*
 * Pretty handling of time axes.
 *
 * Copyright (c) 2007-2013 IOLA and Ole Laursen.
 * Licensed under the MIT license.
 *
 * Set axis.mode to "time" to enable. See the section "Time series data" in
 * API.txt for details.
 */
function(e){function t(e,t){return t*Math.floor(e/t)}function i(e,t,i,n){if("function"==typeof e.strftime)return e.strftime(t);var s=function(e,t){return e=""+e,t=""+(null==t?"0":t),1==e.length?t+e:e},o=[],r=!1,a=e.getHours(),l=12>a;null==i&&(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==n&&(n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var c;c=a>12?a-12:0==a?12:a;for(var h=0;h<t.length;++h){var u=t.charAt(h);if(r){switch(u){case"a":u=""+n[e.getDay()];break;case"b":u=""+i[e.getMonth()];break;case"d":u=s(e.getDate());break;case"e":u=s(e.getDate()," ");break;case"h":case"H":u=s(a);break;case"I":u=s(c);break;case"l":u=s(c," ");break;case"m":u=s(e.getMonth()+1);break;case"M":u=s(e.getMinutes());break;case"q":u=""+(Math.floor(e.getMonth()/3)+1);break;case"S":u=s(e.getSeconds());break;case"y":u=s(e.getFullYear()%100);break;case"Y":u=""+e.getFullYear();break;case"p":u=l?"am":"pm";break;case"P":u=l?"AM":"PM";break;case"w":u=""+e.getDay()}o.push(u),r=!1}else"%"==u?r=!0:o.push(u)}return o.join("")}function n(e){function t(e,t,i,n){e[t]=function(){return i[n].apply(i,arguments)}}var i={date:e};void 0!=e.strftime&&t(i,"strftime",e,"strftime"),t(i,"getTime",e,"getTime"),t(i,"setTime",e,"setTime");for(var n=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],s=0;s<n.length;s++)t(i,"get"+n[s],e,"getUTC"+n[s]),t(i,"set"+n[s],e,"setUTC"+n[s]);return i}function s(e,t){if("browser"==t.timezone)return new Date(e);if(t.timezone&&"utc"!=t.timezone){if("undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var i=new timezoneJS.Date;return i.setTimezone(t.timezone),i.setTime(e),i}return n(new Date(e))}return n(new Date(e))}function o(n){n.hooks.processOptions.push(function(n){e.each(n.getAxes(),function(e,n){var o=n.options;"time"==o.mode&&(n.tickGenerator=function(e){var i=[],n=s(e.min,o),r=0,l=o.tickSize&&"quarter"===o.tickSize[1]||o.minTickSize&&"quarter"===o.minTickSize[1]?h:c;null!=o.minTickSize&&(r="number"==typeof o.tickSize?o.tickSize:o.minTickSize[0]*a[o.minTickSize[1]]);for(var u=0;u<l.length-1&&!(e.delta<(l[u][0]*a[l[u][1]]+l[u+1][0]*a[l[u+1][1]])/2&&l[u][0]*a[l[u][1]]>=r);++u);var d=l[u][0],f=l[u][1];if("year"==f){if(null!=o.minTickSize&&"year"==o.minTickSize[1])d=Math.floor(o.minTickSize[0]);else{var p=Math.pow(10,Math.floor(Math.log(e.delta/a.year)/Math.LN10)),g=e.delta/a.year/p;d=1.5>g?1:3>g?2:7.5>g?5:10,d*=p}1>d&&(d=1)}e.tickSize=o.tickSize||[d,f];var m=e.tickSize[0];f=e.tickSize[1];var v=m*a[f];"second"==f?n.setSeconds(t(n.getSeconds(),m)):"minute"==f?n.setMinutes(t(n.getMinutes(),m)):"hour"==f?n.setHours(t(n.getHours(),m)):"month"==f?n.setMonth(t(n.getMonth(),m)):"quarter"==f?n.setMonth(3*t(n.getMonth()/3,m)):"year"==f&&n.setFullYear(t(n.getFullYear(),m)),n.setMilliseconds(0),v>=a.minute&&n.setSeconds(0),v>=a.hour&&n.setMinutes(0),v>=a.day&&n.setHours(0),v>=4*a.day&&n.setDate(1),v>=2*a.month&&n.setMonth(t(n.getMonth(),3)),v>=2*a.quarter&&n.setMonth(t(n.getMonth(),6)),v>=a.year&&n.setMonth(0);var y,b=0,w=Number.NaN;do if(y=w,w=n.getTime(),i.push(w),"month"==f||"quarter"==f)if(1>m){n.setDate(1);var x=n.getTime();n.setMonth(n.getMonth()+("quarter"==f?3:1));var C=n.getTime();n.setTime(w+b*a.hour+(C-x)*m),b=n.getHours(),n.setHours(0)}else n.setMonth(n.getMonth()+m*("quarter"==f?3:1));else"year"==f?n.setFullYear(n.getFullYear()+m):n.setTime(w+v);while(w<e.max&&w!=y);return i},n.tickFormatter=function(e,t){var n=s(e,t.options);if(null!=o.timeformat)return i(n,o.timeformat,o.monthNames,o.dayNames);var r,l=t.options.tickSize&&"quarter"==t.options.tickSize[1]||t.options.minTickSize&&"quarter"==t.options.minTickSize[1],c=t.tickSize[0]*a[t.tickSize[1]],h=t.max-t.min,u=o.twelveHourClock?" %p":"",d=o.twelveHourClock?"%I":"%H";r=c<a.minute?d+":%M:%S"+u:c<a.day?h<2*a.day?d+":%M"+u:"%b %d "+d+":%M"+u:c<a.month?"%b %d":l&&c<a.quarter||!l&&c<a.year?h<a.year?"%b":"%b %Y":l&&c<a.year?h<a.year?"Q%q":"Q%q %Y":"%Y";var f=i(n,r,o.monthNames,o.dayNames);return f})})})}var r={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},a={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},l=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],c=l.concat([[3,"month"],[6,"month"],[1,"year"]]),h=l.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);e.plot.plugins.push({init:o,options:r,name:"time",version:"1.0"}),e.plot.formatDate=i}(jQuery),/*!
 * Dropzone.js 3.8.4
 * http://www.dropzonejs.com/
 */
!function(){function e(t,i,n){var s=e.resolve(t);if(null==s){n=n||t,i=i||"root";var o=new Error('Failed to require "'+n+'" from "'+i+'"');throw o.path=n,o.parent=i,o.require=!0,o}var r=e.modules[s];if(!r._resolving&&!r.exports){var a={};a.exports={},a.client=a.component=!0,r._resolving=!0,r.call(this,a.exports,e.relative(s),a),delete r._resolving,r.exports=a.exports}return r.exports}e.modules={},e.aliases={},e.resolve=function(t){"/"===t.charAt(0)&&(t=t.slice(1));for(var i=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"],n=0;n<i.length;n++){var t=i[n];if(e.modules.hasOwnProperty(t))return t;if(e.aliases.hasOwnProperty(t))return e.aliases[t]}},e.normalize=function(e,t){var i=[];if("."!=t.charAt(0))return t;e=e.split("/"),t=t.split("/");for(var n=0;n<t.length;++n)".."==t[n]?e.pop():"."!=t[n]&&""!=t[n]&&i.push(t[n]);return e.concat(i).join("/")},e.register=function(t,i){e.modules[t]=i},e.alias=function(t,i){if(!e.modules.hasOwnProperty(t))throw new Error('Failed to alias "'+t+'", it does not exist');e.aliases[i]=t},e.relative=function(t){function i(e,t){for(var i=e.length;i--;)if(e[i]===t)return i;return-1}function n(i){var s=n.resolve(i);return e(s,t,i)}var s=e.normalize(t,"..");return n.resolve=function(n){var o=n.charAt(0);if("/"==o)return n.slice(1);if("."==o)return e.normalize(s,n);var r=t.split("/"),a=i(r,"deps")+1;return a||(a=0),n=r.slice(0,a+1).join("/")+"/deps/"+n},n.exists=function(t){return e.modules.hasOwnProperty(n.resolve(t))},n},e.register("component-emitter/index.js",function(e,t,i){function n(e){return e?s(e):void 0}function s(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}i.exports=n,n.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function i(){n.off(e,i),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},t._off=i,this.on(e,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=function(e,t){this._callbacks=this._callbacks||{};var i=this._callbacks[e];if(!i)return this;if(1==arguments.length)return delete this._callbacks[e],this;var n=i.indexOf(t._off||t);return~n&&i.splice(n,1),this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks[e];if(i){i=i.slice(0);for(var n=0,s=i.length;s>n;++n)i[n].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}}),e.register("dropzone/index.js",function(e,t,i){i.exports=t("./lib/dropzone.js")}),e.register("dropzone/lib/dropzone.js",function(e,t,i){(function(){var e,n,s,o,r,a,l,c,h={}.hasOwnProperty,u=function(e,t){function i(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},d=[].slice;n="undefined"!=typeof Emitter&&null!==Emitter?Emitter:t("emitter"),l=function(){},e=function(e){function t(e,n){var s,o,r;if(this.element=e,this.version=t.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(t.instances.push(this),this.element.dropzone=this,s=null!=(r=t.optionsForElement(this.element))?r:{},this.options=i({},this.defaultOptions,s,null!=n?n:{}),this.options.forceFallback||!t.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),this.previewsContainer=this.options.previewsContainer?t.getElement(this.options.previewsContainer,"previewsContainer"):this.element,this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:t.getElements(this.options.clickable,"clickable")),this.init()}var i;return u(t,e),t.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached"],t.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return l},forceFallback:!1,fallback:function(){var e,i,n,s,o,r;for(this.element.className=""+this.element.className+" dz-browser-not-supported",r=this.element.getElementsByTagName("div"),s=0,o=r.length;o>s;s++)e=r[s],/(^| )dz-message($| )/.test(e.className)&&(i=e,e.className="dz-message");return i||(i=t.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(i)),n=i.getElementsByTagName("span")[0],n&&(n.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,i,n;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},i=e.width/e.height,n=this.options.thumbnailWidth/this.options.thumbnailHeight,e.height<this.options.thumbnailHeight||e.width<this.options.thumbnailWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):i>n?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*n):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/n),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:l,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:l,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var i,n,s,o,r,a,l,c,h,u,d,f,p,g=this;for(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),e.previewElement=t.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),u=e.previewElement.querySelectorAll("[data-dz-name]"),o=0,l=u.length;l>o;o++)i=u[o],i.textContent=e.name;for(d=e.previewElement.querySelectorAll("[data-dz-size]"),r=0,c=d.length;c>r;r++)i=d[r],i.innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),n=function(i){return i.preventDefault(),i.stopPropagation(),e.status===t.UPLOADING?t.confirm(g.options.dictCancelUploadConfirmation,function(){return g.removeFile(e)}):g.options.dictRemoveFileConfirmation?t.confirm(g.options.dictRemoveFileConfirmation,function(){return g.removeFile(e)}):g.removeFile(e)},f=e.previewElement.querySelectorAll("[data-dz-remove]"),p=[],a=0,h=f.length;h>a;a++)s=f[a],p.push(s.addEventListener("click",n));return p},removedfile:function(e){var t;return null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var i,n,s,o,r;for(e.previewElement.classList.remove("dz-file-preview"),e.previewElement.classList.add("dz-image-preview"),o=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),r=[],n=0,s=o.length;s>n;n++)i=o[n],i.alt=e.name,r.push(i.src=t);return r},error:function(e,t){var i,n,s,o,r;for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),o=e.previewElement.querySelectorAll("[data-dz-errormessage]"),r=[],n=0,s=o.length;s>n;n++)i=o[n],r.push(i.textContent=t);return r},errormultiple:l,processing:function(e){return e.previewElement.classList.add("dz-processing"),e._removeLink?e._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:l,uploadprogress:function(e,t){var i,n,s,o,r;for(o=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),r=[],n=0,s=o.length;s>n;n++)i=o[n],r.push(i.style.width=""+t+"%");return r},totaluploadprogress:l,sending:l,sendingmultiple:l,success:function(e){return e.previewElement.classList.add("dz-success")},successmultiple:l,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:l,complete:function(e){return e._removeLink?e._removeLink.textContent=this.options.dictRemoveFile:void 0},completemultiple:l,maxfilesexceeded:l,maxfilesreached:l,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>\u2714</span></div>\n  <div class="dz-error-mark"><span>\u2718</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'},i=function(){var e,t,i,n,s,o,r;for(n=arguments[0],i=2<=arguments.length?d.call(arguments,1):[],o=0,r=i.length;r>o;o++){t=i[o];for(e in t)s=t[e],n[e]=s}return n},t.prototype.getAcceptedFiles=function(){var e,t,i,n,s;for(n=this.files,s=[],t=0,i=n.length;i>t;t++)e=n[t],e.accepted&&s.push(e);return s},t.prototype.getRejectedFiles=function(){var e,t,i,n,s;for(n=this.files,s=[],t=0,i=n.length;i>t;t++)e=n[t],e.accepted||s.push(e);return s},t.prototype.getQueuedFiles=function(){var e,i,n,s,o;for(s=this.files,o=[],i=0,n=s.length;n>i;i++)e=s[i],e.status===t.QUEUED&&o.push(e);return o},t.prototype.getUploadingFiles=function(){var e,i,n,s,o;for(s=this.files,o=[],i=0,n=s.length;n>i;i++)e=s[i],e.status===t.UPLOADING&&o.push(e);return o},t.prototype.init=function(){var e,i,n,s,o,r,a,l=this;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(n=function(){return l.hiddenFileInput&&document.body.removeChild(l.hiddenFileInput),l.hiddenFileInput=document.createElement("input"),l.hiddenFileInput.setAttribute("type","file"),(null==l.options.maxFiles||l.options.maxFiles>1)&&l.hiddenFileInput.setAttribute("multiple","multiple"),null!=l.options.acceptedFiles&&l.hiddenFileInput.setAttribute("accept",l.options.acceptedFiles),l.hiddenFileInput.style.visibility="hidden",l.hiddenFileInput.style.position="absolute",l.hiddenFileInput.style.top="0",l.hiddenFileInput.style.left="0",l.hiddenFileInput.style.height="0",l.hiddenFileInput.style.width="0",document.body.appendChild(l.hiddenFileInput),l.hiddenFileInput.addEventListener("change",function(){var e,t,i,s;if(t=l.hiddenFileInput.files,t.length)for(i=0,s=t.length;s>i;i++)e=t[i],l.addFile(e);return n()})})(),this.URL=null!=(r=window.URL)?r:window.webkitURL,a=this.events,s=0,o=a.length;o>s;s++)e=a[s],this.on(e,this.options[e]);return this.on("uploadprogress",function(){return l.updateTotalUploadProgress()}),this.on("removedfile",function(){return l.updateTotalUploadProgress()}),this.on("canceled",function(e){return l.emit("complete",e)}),this.on("complete",function(){return 0===l.getUploadingFiles().length&&0===l.getQueuedFiles().length?setTimeout(function(){return l.emit("queuecomplete")},0):void 0}),i=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return l.emit("dragstart",e)},dragenter:function(e){return i(e),l.emit("dragenter",e)},dragover:function(e){var t;try{t=e.dataTransfer.effectAllowed}catch(n){}return e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",i(e),l.emit("dragover",e)},dragleave:function(e){return l.emit("dragleave",e)},drop:function(e){return i(e),l.drop(e)},dragend:function(e){return l.emit("dragend",e)}}}],this.clickableElements.forEach(function(e){return l.listeners.push({element:e,events:{click:function(i){return e!==l.element||i.target===l.element||t.elementInside(i.target,l.element.querySelector(".dz-message"))?l.hiddenFileInput.click():void 0}}})}),this.enable(),this.options.init.call(this)},t.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,t.instances.splice(t.instances.indexOf(this),1)},t.prototype.updateTotalUploadProgress=function(){var e,t,i,n,s,o,r,a;if(n=0,i=0,e=this.getAcceptedFiles(),e.length){for(a=this.getAcceptedFiles(),o=0,r=a.length;r>o;o++)t=a[o],n+=t.upload.bytesSent,i+=t.upload.total;s=100*n/i}else s=100;return this.emit("totaluploadprogress",s,i,n)},t.prototype.getFallbackForm=function(){var e,i,n,s;return(e=this.getExistingFallback())?e:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',i=t.createElement(n),"FORM"!==this.element.tagName?(s=t.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),s.appendChild(i)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=s?s:i)},t.prototype.getExistingFallback=function(){var e,t,i,n,s,o;for(t=function(e){var t,i,n;for(i=0,n=e.length;n>i;i++)if(t=e[i],/(^| )fallback($| )/.test(t.className))return t},o=["div","form"],n=0,s=o.length;s>n;n++)if(i=o[n],e=t(this.element.getElementsByTagName(i)))return e},t.prototype.setupEventListeners=function(){var e,t,i,n,s,o,r;for(o=this.listeners,r=[],n=0,s=o.length;s>n;n++)e=o[n],r.push(function(){var n,s;n=e.events,s=[];for(t in n)i=n[t],s.push(e.element.addEventListener(t,i,!1));return s}());return r},t.prototype.removeEventListeners=function(){var e,t,i,n,s,o,r;for(o=this.listeners,r=[],n=0,s=o.length;s>n;n++)e=o[n],r.push(function(){var n,s;n=e.events,s=[];for(t in n)i=n[t],s.push(e.element.removeEventListener(t,i,!1));return s}());return r},t.prototype.disable=function(){var e,t,i,n,s;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),n=this.files,s=[],t=0,i=n.length;i>t;t++)e=n[t],s.push(this.cancelUpload(e));return s},t.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},t.prototype.filesize=function(e){var t;return e>=109951162777.6?(e/=109951162777.6,t="TiB"):e>=107374182.4?(e/=107374182.4,t="GiB"):e>=104857.6?(e/=104857.6,t="MiB"):e>=102.4?(e/=102.4,t="KiB"):(e=10*e,t="b"),"<strong>"+Math.round(e)/10+"</strong> "+t},t.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},t.prototype.drop=function(e){var t,i;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,t.length&&(i=e.dataTransfer.items,i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)))},t.prototype.paste=function(e){var t,i;return null!=(null!=e&&null!=(i=e.clipboardData)?i.items:void 0)?(this.emit("paste",e),t=e.clipboardData.items,t.length?this._addFilesFromItems(t):void 0):void 0},t.prototype.handleFiles=function(e){var t,i,n,s;for(s=[],i=0,n=e.length;n>i;i++)t=e[i],s.push(this.addFile(t));return s},t.prototype._addFilesFromItems=function(e){var t,i,n,s,o;for(o=[],n=0,s=e.length;s>n;n++)i=e[n],o.push(null!=i.webkitGetAsEntry&&(t=i.webkitGetAsEntry())?t.isFile?this.addFile(i.getAsFile()):t.isDirectory?this._addFilesFromDirectory(t,t.name):void 0:null!=i.getAsFile?null==i.kind||"file"===i.kind?this.addFile(i.getAsFile()):void 0:void 0);return o},t.prototype._addFilesFromDirectory=function(e,t){var i,n,s=this;return i=e.createReader(),n=function(e){var i,n,o;for(n=0,o=e.length;o>n;n++)i=e[n],i.isFile?i.file(function(e){return s.options.ignoreHiddenFiles&&"."===e.name.substring(0,1)?void 0:(e.fullPath=""+t+"/"+e.name,s.addFile(e))}):i.isDirectory&&s._addFilesFromDirectory(i,""+t+"/"+i.name)},i.readEntries(n,function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0})},t.prototype.accept=function(e,i){return e.size>1024*this.options.maxFilesize*1024?i(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):t.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(i(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,i):i(this.options.dictInvalidFileType)},t.prototype.addFile=function(e){var i=this;return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=t.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return t?(e.accepted=!1,i._errorProcessing([e],t)):i.enqueueFile(e),i._updateMaxFilesReachedClass()})},t.prototype.enqueueFiles=function(e){var t,i,n;for(i=0,n=e.length;n>i;i++)t=e[i],this.enqueueFile(t);return null},t.prototype.enqueueFile=function(e){var i=this;if(e.accepted=!0,e.status!==t.ADDED)throw new Error("This file can't be queued because it has already been processed or was rejected.");return e.status=t.QUEUED,this.options.autoProcessQueue?setTimeout(function(){return i.processQueue()},0):void 0},t.prototype._thumbnailQueue=[],t.prototype._processingThumbnail=!1,t.prototype._enqueueThumbnail=function(e){var t=this;return this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(e),setTimeout(function(){return t._processThumbnailQueue()},0)):void 0},t.prototype._processThumbnailQueue=function(){var e=this;return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}))},t.prototype.removeFile=function(e){return e.status===t.UPLOADING&&this.cancelUpload(e),this.files=c(this.files,e),this.emit("removedfile",e),0===this.files.length?this.emit("reset"):void 0},t.prototype.removeAllFiles=function(e){var i,n,s,o;for(null==e&&(e=!1),o=this.files.slice(),n=0,s=o.length;s>n;n++)i=o[n],(i.status!==t.UPLOADING||e)&&this.removeFile(i);return null},t.prototype.createThumbnail=function(e,t){var i,n=this;return i=new FileReader,i.onload=function(){var s;return s=document.createElement("img"),s.onload=function(){var i,o,r,l,c,h,u,d;return e.width=s.width,e.height=s.height,r=n.options.resize.call(n,e),null==r.trgWidth&&(r.trgWidth=n.options.thumbnailWidth),null==r.trgHeight&&(r.trgHeight=n.options.thumbnailHeight),i=document.createElement("canvas"),o=i.getContext("2d"),i.width=r.trgWidth,i.height=r.trgHeight,a(o,s,null!=(c=r.srcX)?c:0,null!=(h=r.srcY)?h:0,r.srcWidth,r.srcHeight,null!=(u=r.trgX)?u:0,null!=(d=r.trgY)?d:0,r.trgWidth,r.trgHeight),l=i.toDataURL("image/png"),n.emit("thumbnail",e,l),null!=t?t():void 0},s.src=i.result},i.readAsDataURL(e)},t.prototype.processQueue=function(){var e,t,i,n;if(t=this.options.parallelUploads,i=this.getUploadingFiles().length,e=i,!(i>=t)&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));for(;t>e;){if(!n.length)return;this.processFile(n.shift()),e++}}},t.prototype.processFile=function(e){return this.processFiles([e])},t.prototype.processFiles=function(e){var i,n,s;for(n=0,s=e.length;s>n;n++)i=e[n],i.processing=!0,i.status=t.UPLOADING,this.emit("processing",i);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},t.prototype._getFilesWithXhr=function(e){var t,i;return i=function(){var i,n,s,o;for(s=this.files,o=[],i=0,n=s.length;n>i;i++)t=s[i],t.xhr===e&&o.push(t);return o}.call(this)},t.prototype.cancelUpload=function(e){var i,n,s,o,r,a,l;if(e.status===t.UPLOADING){for(n=this._getFilesWithXhr(e.xhr),s=0,r=n.length;r>s;s++)i=n[s],i.status=t.CANCELED;for(e.xhr.abort(),o=0,a=n.length;a>o;o++)i=n[o],this.emit("canceled",i);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else((l=e.status)===t.ADDED||l===t.QUEUED)&&(e.status=t.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));return this.options.autoProcessQueue?this.processQueue():void 0},t.prototype.uploadFile=function(e){return this.uploadFiles([e])},t.prototype.uploadFiles=function(e){var n,s,o,r,a,l,c,h,u,d,f,p,g,m,v,y,b,w,x,C,_,S,T,k,D,E,N,M,R,A,F,I=this;for(y=new XMLHttpRequest,b=0,_=e.length;_>b;b++)n=e[b],n.xhr=y;y.open(this.options.method,this.options.url,!0),y.withCredentials=!!this.options.withCredentials,g=null,o=function(){var t,i,s;for(s=[],t=0,i=e.length;i>t;t++)n=e[t],s.push(I._errorProcessing(e,g||I.options.dictResponseError.replace("{{statusCode}}",y.status),y));return s},m=function(t){var i,s,o,r,a,l,c,h,u;if(null!=t)for(s=100*t.loaded/t.total,o=0,l=e.length;l>o;o++)n=e[o],n.upload={progress:s,total:t.total,bytesSent:t.loaded};else{for(i=!0,s=100,r=0,c=e.length;c>r;r++)n=e[r],(100!==n.upload.progress||n.upload.bytesSent!==n.upload.total)&&(i=!1),n.upload.progress=s,n.upload.bytesSent=n.upload.total;if(i)return}for(u=[],a=0,h=e.length;h>a;a++)n=e[a],u.push(I.emit("uploadprogress",n,s,n.upload.bytesSent));return u},y.onload=function(i){var n;if(e[0].status!==t.CANCELED&&4===y.readyState){if(g=y.responseText,y.getResponseHeader("content-type")&&~y.getResponseHeader("content-type").indexOf("application/json"))try{g=JSON.parse(g)}catch(s){i=s,g="Invalid JSON response from server."}return m(),200<=(n=y.status)&&300>n?I._finished(e,g,i):o()}},y.onerror=function(){return e[0].status!==t.CANCELED?o():void 0},p=null!=(N=y.upload)?N:y,p.onprogress=m,l={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&i(l,this.options.headers);for(r in l)a=l[r],y.setRequestHeader(r,a);if(s=new FormData,this.options.params){M=this.options.params;for(d in M)v=M[d],s.append(d,v)}for(w=0,S=e.length;S>w;w++)n=e[w],this.emit("sending",n,y,s);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,y,s),"FORM"===this.element.tagName)for(R=this.element.querySelectorAll("input, textarea, select, button"),x=0,T=R.length;T>x;x++)if(c=R[x],h=c.getAttribute("name"),u=c.getAttribute("type"),"SELECT"===c.tagName&&c.hasAttribute("multiple"))for(A=c.options,C=0,k=A.length;k>C;C++)f=A[C],f.selected&&s.append(h,f.value);else(!u||"checkbox"!==(F=u.toLowerCase())&&"radio"!==F||c.checked)&&s.append(h,c.value);for(E=0,D=e.length;D>E;E++)n=e[E],s.append(""+this.options.paramName+(this.options.uploadMultiple?"[]":""),n,n.name);return y.send(s)},t.prototype._finished=function(e,i,n){var s,o,r;for(o=0,r=e.length;r>o;o++)s=e[o],s.status=t.SUCCESS,this.emit("success",s,i,n),this.emit("complete",s);return this.options.uploadMultiple&&(this.emit("successmultiple",e,i,n),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},t.prototype._errorProcessing=function(e,i,n){var s,o,r;for(o=0,r=e.length;r>o;o++)s=e[o],s.status=t.ERROR,this.emit("error",s,i,n),this.emit("complete",s);return this.options.uploadMultiple&&(this.emit("errormultiple",e,i,n),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},t}(n),e.version="3.8.4",e.options={},e.optionsForElement=function(t){return t.getAttribute("id")?e.options[s(t.getAttribute("id"))]:void 0},e.instances=[],e.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},e.autoDiscover=!0,e.discover=function(){var t,i,n,s,o,r;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],t=function(e){var t,i,s,o;for(o=[],i=0,s=e.length;s>i;i++)t=e[i],o.push(/(^| )dropzone($| )/.test(t.className)?n.push(t):void 0);return o},t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),r=[],s=0,o=n.length;o>s;s++)i=n[s],r.push(e.optionsForElement(i)!==!1?new e(i):void 0);return r},e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],e.isBrowserSupported=function(){var t,i,n,s,o;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(o=e.blacklistedBrowsers,n=0,s=o.length;s>n;n++)i=o[n],i.test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},c=function(e,t){var i,n,s,o;for(o=[],n=0,s=e.length;s>n;n++)i=e[n],i!==t&&o.push(i);return o},s=function(e){return e.replace(/[\-_](\w)/g,function(e){return e[1].toUpperCase()})},e.createElement=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},e.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},e.getElement=function(e,t){var i;if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},e.getElements=function(e,t){var i,n,s,o,r,a,l,c;if(e instanceof Array){s=[];try{for(o=0,a=e.length;a>o;o++)n=e[o],s.push(this.getElement(n,t))}catch(h){i=h,s=null}}else if("string"==typeof e)for(s=[],c=document.querySelectorAll(e),r=0,l=c.length;l>r;r++)n=c[r],s.push(n);else null!=e.nodeType&&(s=[e]);if(null==s||!s.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return s},e.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},e.isValidFile=function(e,t){var i,n,s,o,r;if(!t)return!0;for(t=t.split(","),n=e.type,i=n.replace(/\/.*$/,""),o=0,r=t.length;r>o;o++)if(s=t[o],s=s.trim(),"."===s.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(s.toLowerCase(),e.name.length-s.length))return!0}else if(/\/\*$/.test(s)){if(i===s.replace(/\/.*$/,""))return!0}else if(n===s)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}),"undefined"!=typeof i&&null!==i?i.exports=e:window.Dropzone=e,e.ADDED="added",e.QUEUED="queued",e.ACCEPTED=e.QUEUED,e.UPLOADING="uploading",e.PROCESSING=e.UPLOADING,e.CANCELED="canceled",e.ERROR="error",e.SUCCESS="success",r=function(e){var t,i,n,s,o,r,a,l,c,h;for(a=e.naturalWidth,r=e.naturalHeight,i=document.createElement("canvas"),i.width=1,i.height=r,n=i.getContext("2d"),n.drawImage(e,0,0),s=n.getImageData(0,0,1,r).data,h=0,o=r,l=r;l>h;)t=s[4*(l-1)+3],0===t?o=l:h=l,l=o+h>>1;return c=l/r,0===c?1:c},a=function(e,t,i,n,s,o,a,l,c,h){var u;return u=r(t),e.drawImage(t,i,n,s,o,a,l,c,h/u)},o=function(e,t){var i,n,s,o,r,a,l,c,h;if(s=!1,h=!0,n=e.document,c=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",a=n.addEventListener?"":"on",o=function(i){return"readystatechange"!==i.type||"complete"===n.readyState?(("load"===i.type?e:n)[l](a+i.type,o,!1),!s&&(s=!0)?t.call(e,i.type||i):void 0):void 0},r=function(){var e;try{c.doScroll("left")}catch(t){return e=t,void setTimeout(r,50)}return o("poll")},"complete"!==n.readyState){if(n.createEventObject&&c.doScroll){try{h=!e.frameElement}catch(u){}h&&r()}return n[i](a+"DOMContentLoaded",o,!1),n[i](a+"readystatechange",o,!1),e[i](a+"load",o,!1)}},e._autoDiscoverFunction=function(){return e.autoDiscover?e.discover():void 0},o(window,e._autoDiscoverFunction)}).call(this)}),e.alias("component-emitter/index.js","dropzone/deps/emitter/index.js"),e.alias("component-emitter/index.js","emitter/index.js"),"object"==typeof exports?module.exports=e("dropzone"):"function"==typeof define&&define.amd?define(function(){return e("dropzone")}):this.Dropzone=e("dropzone")}(),/*!
 * =========================================================
 * bootstrap-datepicker.js
 * http://www.eyecon.ro/bootstrap-datepicker
 * =========================================================
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================
 */
!function(e){function t(){return new Date(Date.UTC.apply(Date,arguments))}function i(t,i){var n,s=e(t).data(),o={},r=new RegExp("^"+i.toLowerCase()+"([A-Z])"),i=new RegExp("^"+i.toLowerCase());for(var a in s)i.test(a)&&(n=a.replace(r,function(e,t){return t.toLowerCase()}),o[n]=s[a]);return o}function n(t){var i={};if(h[t]||(t=t.split("-")[0],h[t])){var n=h[t];return e.each(c,function(e,t){t in n&&(i[t]=n[t])}),i}}var s=e(window),o=function(t,i){this._process_options(i),this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(u.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};o.prototype={constructor:o,_process_options:function(t){this._o=e.extend({},this._o,t);var i=this.o=e.extend({},this._o),n=i.language;switch(h[n]||(n=n.split("-")[0],h[n]||(n=l.language)),i.language=n,i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode),i.weekStart%=7,i.weekEnd=(i.weekStart+6)%7;var s=u.parseFormat(i.format);i.startDate!==-1/0&&(i.startDate=i.startDate?i.startDate instanceof Date?this._local_to_utc(this._zero_time(i.startDate)):u.parseDate(i.startDate,s,i.language):-1/0),1/0!==i.endDate&&(i.endDate=i.endDate?i.endDate instanceof Date?this._local_to_utc(this._zero_time(i.endDate)):u.parseDate(i.endDate,s,i.language):1/0),i.daysOfWeekDisabled=i.daysOfWeekDisabled||[],e.isArray(i.daysOfWeekDisabled)||(i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/)),i.daysOfWeekDisabled=e.map(i.daysOfWeekDisabled,function(e){return parseInt(e,10)});var o=String(i.orientation).toLowerCase().split(/\s+/g),r=i.orientation.toLowerCase();if(o=e.grep(o,function(e){return/^auto|left|right|top|bottom$/.test(e)}),i.orientation={x:"auto",y:"auto"},r&&"auto"!==r)if(1===o.length)switch(o[0]){case"top":case"bottom":i.orientation.y=o[0];break;case"left":case"right":i.orientation.x=o[0]}else r=e.grep(o,function(e){return/^left|right$/.test(e)}),i.orientation.x=r[0]||"auto",r=e.grep(o,function(e){return/^top|bottom$/.test(e)}),i.orientation.y=r[0]||"auto"},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t,i,n=0;n<e.length;n++)t=e[n][0],i=e[n][1],t.on(i)},_unapplyEvents:function(e){for(var t,i,n=0;n<e.length;n++)t=e[n][0],i=e[n][1],t.off(i)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{mousedown:e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,i){var n=i||this.date,s=this._utc_to_local(n);this.element.trigger({type:t,date:s,format:e.proxy(function(e){var t=e||this.o.format;return u.formatDate(n,t,this.o.language)},this)})},show:function(e){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),e&&e.preventDefault(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(e){return new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return this.date},setDate:function(e){this.setUTCDate(this._local_to_utc(e))},setUTCDate:function(e){this.date=e,this.setValue()},setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change()},getFormattedDate:function(e){return void 0===e&&(e=this.o.format),u.formatDate(this.date,e,this.o.language)},setStartDate:function(e){this._process_options({startDate:e}),this.update(),this.updateNavArrows()},setEndDate:function(e){this._process_options({endDate:e}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t=this.picker.outerWidth(),i=this.picker.outerHeight(),n=10,o=s.width(),r=s.height(),a=s.scrollTop(),l=parseInt(this.element.parents().filter(function(){return"auto"!=e(this).css("z-index")}).first().css("z-index"))+10,c=this.component?this.component.parent().offset():this.element.offset(),h=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),d=c.left,f=c.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(d-=t-u)):(this.picker.addClass("datepicker-orient-left"),c.left<0?d-=c.left-n:c.left+t>o&&(d=o-t-n));var p,g,m=this.o.orientation.y;"auto"===m&&(p=-a+c.top-i,g=a+r-(c.top+h+i),m=Math.max(p,g)===g?"top":"bottom"),this.picker.addClass("datepicker-orient-"+m),"top"===m?f+=h:f-=i+parseInt(this.picker.css("padding-top")),this.picker.css({top:f,left:d,zIndex:l})}},_allow_update:!0,update:function(){if(this._allow_update){var e,t=new Date(this.date),i=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(e=arguments[0],e instanceof Date&&(e=this._local_to_utc(e)),i=!0):(e=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=u.parseDate(e,this.o.format,this.o.language),i?this.setValue():e?t.getTime()!==this.date.getTime()&&this._trigger("changeDate"):this._trigger("clearDate"),this.date<this.o.startDate?(this.viewDate=new Date(this.o.startDate),this.date=new Date(this.o.startDate)):this.date>this.o.endDate?(this.viewDate=new Date(this.o.endDate),this.date=new Date(this.o.endDate)):(this.viewDate=new Date(this.date),this.date=new Date(this.date)),this.fill()}},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';t+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;e<this.o.weekStart+7;)t+='<th class="dow">'+h[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+h[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var i=[],n=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),o=this.date.valueOf(),r=new Date;return t.getUTCFullYear()<n||t.getUTCFullYear()==n&&t.getUTCMonth()<s?i.push("old"):(t.getUTCFullYear()>n||t.getUTCFullYear()==n&&t.getUTCMonth()>s)&&i.push("new"),this.o.todayHighlight&&t.getUTCFullYear()==r.getFullYear()&&t.getUTCMonth()==r.getMonth()&&t.getUTCDate()==r.getDate()&&i.push("today"),o&&t.valueOf()==o&&i.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),-1!=e.inArray(t.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var i,n=new Date(this.viewDate),s=n.getUTCFullYear(),o=n.getUTCMonth(),r=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,l=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,c=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf(),this.picker.find(".datepicker-days thead th.datepicker-switch").text(h[this.o.language].months[o]+" "+s),this.picker.find("tfoot th.today").text(h[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(h[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var d=t(s,o-1,28,0,0,0,0),f=u.getDaysInMonth(d.getUTCFullYear(),d.getUTCMonth());d.setUTCDate(f),d.setUTCDate(f-(d.getUTCDay()-this.o.weekStart+7)%7);var p=new Date(d);p.setUTCDate(p.getUTCDate()+42),p=p.valueOf();for(var g,m=[];d.valueOf()<p;){if(d.getUTCDay()==this.o.weekStart&&(m.push("<tr>"),this.o.calendarWeeks)){var v=new Date(+d+864e5*((this.o.weekStart-d.getUTCDay()-7)%7)),y=new Date(+v+864e5*((11-v.getUTCDay())%7)),b=new Date(+(b=t(y.getUTCFullYear(),0,1))+864e5*((11-b.getUTCDay())%7)),w=(y-b)/864e5/7+1;m.push('<td class="cw">'+w+"</td>")}if(g=this.getClassNames(d),g.push("day"),this.o.beforeShowDay!==e.noop){var x=this.o.beforeShowDay(this._utc_to_local(d));void 0===x?x={}:"boolean"==typeof x?x={enabled:x}:"string"==typeof x&&(x={classes:x}),x.enabled===!1&&g.push("disabled"),x.classes&&(g=g.concat(x.classes.split(/\s+/))),x.tooltip&&(i=x.tooltip)}g=e.unique(g),m.push('<td class="'+g.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+d.getUTCDate()+"</td>"),d.getUTCDay()==this.o.weekEnd&&m.push("</tr>"),d.setUTCDate(d.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(m.join(""));var C=this.date&&this.date.getUTCFullYear(),_=this.picker.find(".datepicker-months").find("th:eq(1)").text(s).end().find("span").removeClass("active");C&&C==s&&_.eq(this.date.getUTCMonth()).addClass("active"),(r>s||s>l)&&_.addClass("disabled"),s==r&&_.slice(0,a).addClass("disabled"),s==l&&_.slice(c+1).addClass("disabled"),m="",s=10*parseInt(s/10,10);var S=this.picker.find(".datepicker-years").find("th:eq(1)").text(s+"-"+(s+9)).end().find("td");s-=1;for(var T=-1;11>T;T++)m+='<span class="year'+(-1==T?" old":10==T?" new":"")+(C==s?" active":"")+(r>s||s>l?" disabled":"")+'">'+s+"</span>",s+=1;S.html(m)},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(i){i.preventDefault();var n=e(i.target).closest("span, td, th");if(1==n.length)switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var s=u.modes[this.viewMode].navStep*("prev"==n[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,s),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,s),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var o=new Date;o=t(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0),this.showMode(-2);var r="linked"==this.o.todayBtn?null:"view";this._setDate(o,r);break;case"clear":var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!n.is(".disabled")){if(this.viewDate.setUTCDate(1),n.is(".month")){var l=1,c=n.parent().find("span").index(n),h=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(c),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(t(h,c,l,0,0,0,0))}else{var h=parseInt(n.text(),10)||0,l=1,c=0;this.viewDate.setUTCFullYear(h),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(t(h,c,l,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(n.is(".day")&&!n.is(".disabled")){var l=parseInt(n.text(),10)||1,h=this.viewDate.getUTCFullYear(),c=this.viewDate.getUTCMonth();n.is(".old")?0===c?(c=11,h-=1):c-=1:n.is(".new")&&(11==c?(c=0,h+=1):c+=1),this._setDate(t(h,c,l,0,0,0,0))}}},_setDate:function(e,t){t&&"date"!=t||(this.date=new Date(e)),t&&"view"!=t||(this.viewDate=new Date(e)),this.fill(),this.setValue(),this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||t&&"date"!=t||this.hide()},moveMonth:function(e,t){if(!t)return e;var i,n,s=new Date(e.valueOf()),o=s.getUTCDate(),r=s.getUTCMonth(),a=Math.abs(t);if(t=t>0?1:-1,1==a)n=-1==t?function(){return s.getUTCMonth()==r}:function(){return s.getUTCMonth()!=i},i=r+t,s.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var l=0;a>l;l++)s=this.moveMonth(s,t);i=s.getUTCMonth(),s.setUTCDate(o),n=function(){return i!=s.getUTCMonth()}}for(;n();)s.setUTCDate(--o),s.setUTCMonth(i);return s},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))return void(27==e.keyCode&&this.show());var t,i,n,s=!1;switch(e.keyCode){case 27:this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37==e.keyCode?-1:1,e.ctrlKey?(i=this.moveYear(this.date,t),n=this.moveYear(this.viewDate,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveMonth(this.date,t),n=this.moveMonth(this.viewDate,t),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+t),n=new Date(this.viewDate),n.setUTCDate(this.viewDate.getUTCDate()+t)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),e.preventDefault(),s=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38==e.keyCode?-1:1,e.ctrlKey?(i=this.moveYear(this.date,t),n=this.moveYear(this.viewDate,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveMonth(this.date,t),n=this.moveMonth(this.viewDate,t),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+7*t),n=new Date(this.viewDate),n.setUTCDate(this.viewDate.getUTCDate()+7*t)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),e.preventDefault(),s=!0);break;case 13:this.hide(),e.preventDefault();break;case 9:this.hide()}if(s){this._trigger("changeDate");var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+u.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var r=function(t,i){this.element=e(t),this.inputs=e.map(i.inputs,function(e){return e.jquery?e[0]:e}),delete i.inputs,e(this.inputs).datepicker(i).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};r.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.date}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,i){i.setRange(t)})},dateUpdated:function(t){var i=e(t.target).data("datepicker"),n=i.getUTCDate(),s=e.inArray(t.target,this.inputs),o=this.inputs.length;if(-1!=s){if(n<this.dates[s])for(;s>=0&&n<this.dates[s];)this.pickers[s--].setUTCDate(n);else if(n>this.dates[s])for(;o>s&&n>this.dates[s];)this.pickers[s++].setUTCDate(n);this.updateDates()}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var a=e.fn.datepicker;e.fn.datepicker=function(t){var s=Array.apply(null,arguments);s.shift();var a;return this.each(function(){var c=e(this),h=c.data("datepicker"),u="object"==typeof t&&t;if(!h){var d=i(this,"date"),f=e.extend({},l,d,u),p=n(f.language),g=e.extend({},l,p,d,u);if(c.is(".input-daterange")||g.inputs){var m={inputs:g.inputs||c.find("input").toArray()};c.data("datepicker",h=new r(this,e.extend(g,m)))}else c.data("datepicker",h=new o(this,g))}return"string"==typeof t&&"function"==typeof h[t]&&(a=h[t].apply(h,s),void 0!==a)?!1:void 0}),void 0!==a?a:this};var l=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},c=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=o;var h=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},u={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return 0===e%4&&0!==e%100||0===e%400},getDaysInMonth:function(e,t){return[31,u.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\x00").split("\x00"),i=e.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(i,n,s){if(i instanceof Date)return i;if("string"==typeof n&&(n=u.parseFormat(n)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){var r,a,l=/([\-+]\d+)([dmwy])/,c=i.match(/([\-+]\d+)([dmwy])/g);i=new Date;for(var d=0;d<c.length;d++)switch(r=l.exec(c[d]),a=parseInt(r[1]),r[2]){case"d":i.setUTCDate(i.getUTCDate()+a);break;case"m":i=o.prototype.moveMonth.call(o.prototype,i,a);break;case"w":i.setUTCDate(i.getUTCDate()+7*a);break;case"y":i=o.prototype.moveYear.call(o.prototype,i,a)}return t(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}var f,p,r,c=i&&i.match(this.nonpunctuation)||[],i=new Date,g={},m=["yyyy","yy","M","MM","m","mm","d","dd"],v={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!=t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};v.M=v.MM=v.mm=v.m,v.dd=v.d,i=t(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var y=n.parts.slice();if(c.length!=y.length&&(y=e(y).filter(function(t,i){return-1!==e.inArray(i,m)}).toArray()),c.length==y.length){for(var d=0,b=y.length;b>d;d++){if(f=parseInt(c[d],10),r=y[d],isNaN(f))switch(r){case"MM":p=e(h[s].months).filter(function(){var e=this.slice(0,c[d].length),t=c[d].slice(0,e.length);return e==t}),f=e.inArray(p[0],h[s].months)+1;break;case"M":p=e(h[s].monthsShort).filter(function(){var e=this.slice(0,c[d].length),t=c[d].slice(0,e.length);return e==t}),f=e.inArray(p[0],h[s].monthsShort)+1}g[r]=f}for(var w,x,d=0;d<m.length;d++)x=m[d],x in g&&!isNaN(g[x])&&(w=new Date(i),v[x](w,g[x]),isNaN(w)||(i=w))}return i},formatDate:function(t,i,n){"string"==typeof i&&(i=u.parseFormat(i));var s={d:t.getUTCDate(),D:h[n].daysShort[t.getUTCDay()],DD:h[n].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:h[n].monthsShort[t.getUTCMonth()],MM:h[n].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m;for(var t=[],o=e.extend([],i.separators),r=0,a=i.parts.length;a>=r;r++)o.length&&t.push(o.shift()),t.push(s[i.parts[r]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};u.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+u.headTemplate+"<tbody></tbody>"+u.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+u.headTemplate+u.contTemplate+u.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+u.headTemplate+u.contTemplate+u.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=u,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=a,this},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=e(this);i.data("datepicker")||(t.preventDefault(),i.datepicker("show"))}),e(function(){e('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),/*! bootstrap-timepicker v0.2.5
* http://jdewit.github.com/bootstrap-timepicker
* Copyright (c) 2013 Joris de Wit
* MIT License
*/
!function(e,t,i){"use strict";var n=function(t,i){this.widget="",this.$element=e(t),this.defaultTime=i.defaultTime,this.disableFocus=i.disableFocus,this.disableMousewheel=i.disableMousewheel,this.isOpen=i.isOpen,this.minuteStep=i.minuteStep,this.modalBackdrop=i.modalBackdrop,this.secondStep=i.secondStep,this.showInputs=i.showInputs,this.showMeridian=i.showMeridian,this.showSeconds=i.showSeconds,this.template=i.template,this.appendWidgetTo=i.appendWidgetTo,this.showWidgetOnAddonClick=i.showWidgetOnAddonClick,this._init()};n.prototype={constructor:n,_init:function(){var t=this;this.showWidgetOnAddonClick&&(this.$element.parent().hasClass("input-group")||this.$element.parent().hasClass("input-group"))?(this.$element.parent(".input-group").find(".input-group-addon, .input-group-btn").on({"click.timepicker":e.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":e.proxy(this.highlightUnit,this),"click.timepicker":e.proxy(this.highlightUnit,this),"keydown.timepicker":e.proxy(this.elementKeydown,this),"blur.timepicker":e.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":e.proxy(this.mousewheel,this)})):this.$element.on(this.template?{"focus.timepicker":e.proxy(this.showWidget,this),"click.timepicker":e.proxy(this.showWidget,this),"blur.timepicker":e.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":e.proxy(this.mousewheel,this)}:{"focus.timepicker":e.proxy(this.highlightUnit,this),"click.timepicker":e.proxy(this.highlightUnit,this),"keydown.timepicker":e.proxy(this.elementKeydown,this),"blur.timepicker":e.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":e.proxy(this.mousewheel,this)}),this.$widget=this.template!==!1?e(this.getTemplate()).prependTo(this.$element.parents(this.appendWidgetTo)).on("click",e.proxy(this.widgetClick,this)):!1,this.showInputs&&this.$widget!==!1&&this.$widget.find("input").each(function(){e(this).on({"click.timepicker":function(){e(this).select()},"keydown.timepicker":e.proxy(t.widgetKeydown,t),"keyup.timepicker":e.proxy(t.widgetKeyup,t)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null,this.updateFromElementVal()},clear:function(){this.hour="",this.minute="",this.second="",this.meridian="",this.$element.val("")},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else this.hour<=0?this.hour=23:this.hour--},decrementMinute:function(e){var t;t=e?this.minute-e:this.minute-this.minuteStep,0>t?(this.decrementHour(),this.minute=t+60):this.minute=t},decrementSecond:function(){var e=this.second-this.secondStep;0>e?(this.decrementMinute(!0),this.second=e+60):this.second=e},elementKeydown:function(e){switch(e.keyCode){case 9:case 27:this.updateFromElementVal();break;case 37:e.preventDefault(),this.highlightPrevUnit();break;case 38:switch(e.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update();break;case 39:e.preventDefault(),this.highlightNextUnit();break;case 40:switch(e.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update()}},getCursorPosition:function(){var e=this.$element.get(0);if("selectionStart"in e)return e.selectionStart;if(i.selection){e.focus();var t=i.selection.createRange(),n=i.selection.createRange().text.length;return t.moveStart("character",-e.value.length),t.text.length-n}},getTemplate:function(){var e,t,i,n,s,o;switch(this.showInputs?(t='<input type="text" class="form-control bootstrap-timepicker-hour" maxlength="2"/>',i='<input type="text" class="form-control bootstrap-timepicker-minute" maxlength="2"/>',n='<input type="text" class="form-control bootstrap-timepicker-second" maxlength="2"/>',s='<input type="text" class="form-control bootstrap-timepicker-meridian" maxlength="2"/>'):(t='<span class="bootstrap-timepicker-hour"></span>',i='<span class="bootstrap-timepicker-minute"></span>',n='<span class="bootstrap-timepicker-second"></span>',s='<span class="bootstrap-timepicker-meridian"></span>'),o='<table><tr><td><a href="#" data-action="incrementHour"><i class="fa fa-chevron-up"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="fa fa-chevron-up"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="fa fa-chevron-up"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="fa fa-chevron-up"></i></a></td>':"")+"</tr><tr><td>"+t+'</td> <td class="separator">:</td><td>'+i+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+n+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+s+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><i class="fa fa-chevron-down"></i></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><i class="fa fa-chevron-down"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="fa fa-chevron-down"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="fa fa-chevron-down"></i></a></td>':"")+"</tr></table>",this.template){case"modal":e='<div class="modal fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">\xd7</a><h3>Pick Time</h3></div><div class="modal-content"><div class="bootstrap-timepicker-widget">'+o+'</div></div><div class="modal-footer"><a href="#" class="btn btn-sm btn-primary" data-dismiss="modal">OK</a></div></div></div></div>';break;case"dropdown":e='<div class="bootstrap-timepicker-widget dropdown-menu">'+o+"</div>"}return e},getTime:function(){return this.hour||this.minute||this.second?this.hour+":"+(1===this.minute.toString().length?"0"+this.minute:this.minute)+(this.showSeconds?":"+(1===this.second.toString().length?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:""):""},hideWidget:function(){this.isOpen!==!1&&(this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),e(i).off("mousedown.timepicker, touchend.timepicker"),this.isOpen=!1)},highlightUnit:function(){this.position=this.getCursorPosition(),this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.showMeridian?this.highlightMeridian():this.showSeconds?this.highlightSecond():this.highlightMinute();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var e=this.$element.get(0),t=this;this.highlightedUnit="hour",e.setSelectionRange&&setTimeout(function(){t.hour<10?e.setSelectionRange(0,1):e.setSelectionRange(0,2)},0)},highlightMinute:function(){var e=this.$element.get(0),t=this;this.highlightedUnit="minute",e.setSelectionRange&&setTimeout(function(){t.hour<10?e.setSelectionRange(2,4):e.setSelectionRange(3,5)},0)},highlightSecond:function(){var e=this.$element.get(0),t=this;this.highlightedUnit="second",e.setSelectionRange&&setTimeout(function(){t.hour<10?e.setSelectionRange(5,7):e.setSelectionRange(6,8)},0)},highlightMeridian:function(){var e=this.$element.get(0),t=this;this.highlightedUnit="meridian",e.setSelectionRange&&(this.showSeconds?setTimeout(function(){t.hour<10?e.setSelectionRange(8,10):e.setSelectionRange(9,11)},0):setTimeout(function(){t.hour<10?e.setSelectionRange(5,7):e.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}return 23===this.hour?void(this.hour=0):void this.hour++},incrementMinute:function(e){var t;t=e?this.minute+e:this.minute+this.minuteStep-this.minute%this.minuteStep,t>59?(this.incrementHour(),this.minute=t-60):this.minute=t},incrementSecond:function(){var e=this.second+this.secondStep-this.second%this.secondStep;e>59?(this.incrementMinute(!0),this.second=e-60):this.second=e},mousewheel:function(t){if(!this.disableMousewheel){t.preventDefault(),t.stopPropagation();var i=t.originalEvent.wheelDelta||-t.originalEvent.detail,n=null;switch("mousewheel"===t.type?n=-1*t.originalEvent.wheelDelta:"DOMMouseScroll"===t.type&&(n=40*t.originalEvent.detail),n&&(t.preventDefault(),e(this).scrollTop(n+e(this).scrollTop())),this.highlightedUnit){case"minute":i>0?this.incrementMinute():this.decrementMinute(),this.highlightMinute();break;case"second":i>0?this.incrementSecond():this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian();break;default:i>0?this.incrementHour():this.decrementHour(),this.highlightHour()}return!1}},remove:function(){e("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(e){if(this.$element.val())this.updateFromElementVal();else if("current"===e){var t=new Date,i=t.getHours(),n=t.getMinutes(),s=t.getSeconds(),o="AM";0!==s&&(s=Math.ceil(t.getSeconds()/this.secondStep)*this.secondStep,60===s&&(n+=1,s=0)),0!==n&&(n=Math.ceil(t.getMinutes()/this.minuteStep)*this.minuteStep,60===n&&(i+=1,n=0)),this.showMeridian&&(0===i?i=12:i>=12?(i>12&&(i-=12),o="PM"):o="AM"),this.hour=i,this.minute=n,this.second=s,this.meridian=o,this.update()}else e===!1?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(e)},setTime:function(e,t){if(!e)return void this.clear();var i,n,s,o,r;"object"==typeof e&&e.getMonth?(n=e.getHours(),s=e.getMinutes(),o=e.getSeconds(),this.showMeridian&&(r="AM",n>12&&(r="PM",n%=12),12===n&&(r="PM"))):(r=null!==e.match(/p/i)?"PM":"AM",e=e.replace(/[^0-9\:]/g,""),i=e.split(":"),n=i[0]?i[0].toString():i.toString(),s=i[1]?i[1].toString():"",o=i[2]?i[2].toString():"",n.length>4&&(o=n.substr(4,2)),n.length>2&&(s=n.substr(2,2),n=n.substr(0,2)),s.length>2&&(o=s.substr(2,2),s=s.substr(0,2)),o.length>2&&(o=o.substr(2,2)),n=parseInt(n,10),s=parseInt(s,10),o=parseInt(o,10),isNaN(n)&&(n=0),isNaN(s)&&(s=0),isNaN(o)&&(o=0),this.showMeridian?1>n?n=1:n>12&&(n=12):(n>=24?n=23:0>n&&(n=0),13>n&&"PM"===r&&(n+=12)),0>s?s=0:s>=60&&(s=59),this.showSeconds&&(isNaN(o)?o=0:0>o?o=0:o>=60&&(o=59))),this.hour=n,this.minute=s,this.second=o,this.meridian=r,this.update(t)},showWidget:function(){if(!this.isOpen&&!this.$element.is(":disabled")){var t=this;e(i).on("mousedown.timepicker, touchend.timepicker",function(i){0===e(i.target).closest(".bootstrap-timepicker-widget").length&&t.hideWidget()}),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.disableFocus&&this.$element.blur(),this.hour||(this.defaultTime?this.setDefaultTime(this.defaultTime):this.setTime("0:0:0")),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",e.proxy(this.hideWidget,this)):this.isOpen===!1&&this.$widget.addClass("open"),this.isOpen=!0}},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM"},update:function(e){this.updateElement(),e||this.updateWidget(),this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(this.$widget!==!1){var e=this.hour,t=1===this.minute.toString().length?"0"+this.minute:this.minute,i=1===this.second.toString().length?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(e),this.$widget.find("input.bootstrap-timepicker-minute").val(t),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(i),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(e),this.$widget.find("span.bootstrap-timepicker-minute").text(t),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(i),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(this.$widget!==!1){var e=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(e,!0)}},widgetClick:function(t){t.stopPropagation(),t.preventDefault();var i=e(t.target),n=i.closest("a").data("action");n&&this[n](),this.update(),i.is("input")&&i.get(0).setSelectionRange(0,2)},widgetKeydown:function(t){var i=e(t.target),n=i.attr("class").replace("bootstrap-timepicker-","");switch(t.keyCode){case 9:if(this.showMeridian&&"meridian"===n||this.showSeconds&&"second"===n||!this.showMeridian&&!this.showSeconds&&"minute"===n)return this.hideWidget();break;case 27:this.hideWidget();break;case 38:switch(t.preventDefault(),n){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),i.get(0).setSelectionRange(0,2);break;case 40:switch(t.preventDefault(),n){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),i.get(0).setSelectionRange(0,2)}},widgetKeyup:function(e){(65===e.keyCode||77===e.keyCode||80===e.keyCode||46===e.keyCode||8===e.keyCode||e.keyCode>=46&&e.keyCode<=57)&&this.updateFromWidgetInputs()}},e.fn.timepicker=function(t){var i=Array.apply(null,arguments);return i.shift(),this.each(function(){var s=e(this),o=s.data("timepicker"),r="object"==typeof t&&t;o||s.data("timepicker",o=new n(this,e.extend({},e.fn.timepicker.defaults,r,e(this).data()))),"string"==typeof t&&o[t].apply(o,i)})},e.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,secondStep:15,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:".bootstrap-timepicker",showWidgetOnAddonClick:!0},e.fn.timepicker.Constructor=n}(jQuery,window,document),/*!
 * Chosen v1.1.0 | (c) 2011-2013 by Harvest | MIT License
 * https://github.com/harvesthq/chosen/blob/master/LICENSE.md
 */
!function(){var e,t,i,n,s,o={}.hasOwnProperty,r=function(e,t){function i(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};n=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,n,s,o,r;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),children:0,disabled:e.disabled}),o=e.childNodes,r=[],n=0,s=o.length;s>n;n++)i=o[n],r.push(this.add_option(i,t,e.disabled));return r},e.prototype.add_option=function(e,t,i){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:i===!0?i:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e.prototype.escapeExpression=function(e){var t,i;return null==e||e===!1?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(i,function(e){return t[e]||"&amp;"})):e},e}(),n.select_to_array=function(e){var t,i,s,o,r;for(i=new n,r=e.childNodes,s=0,o=r.length;o>s;s++)t=r[s],i.add_node(t);return i.parsed},t=function(){function e(t,i){this.form_field=t,this.options=null!=i?i:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},e.prototype.results_option_build=function(e){var t,i,n,s,o;for(t="",o=this.results_data,n=0,s=o.length;s>n;n++)i=o[n],t+=i.group?this.result_add_group(i):this.result_add_option(i),(null!=e?e.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(i.text));return t},e.prototype.result_add_option=function(e){var t,i;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),i=document.createElement("li"),i.className=t.join(" "),i.style.cssText=e.style,i.setAttribute("data-option-array-index",e.array_index),i.innerHTML=e.search_text,this.outerHTML(i)):""},e.prototype.result_add_group=function(e){var t;return(e.search_match||e.group_match)&&e.active_options>0?(t=document.createElement("li"),t.className="group-result",t.innerHTML=e.search_text,this.outerHTML(t)):""},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},e.prototype.reset_single_select_options=function(){var e,t,i,n,s;for(n=this.results_data,s=[],t=0,i=n.length;i>t;t++)e=n[t],s.push(e.selected?e.selected=!1:void 0);return s},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var e,t,i,n,s,o,r,a,l,c,h,u,d;for(this.no_results_clear(),s=0,r=this.get_search_text(),e=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),n=this.search_contains?"":"^",i=new RegExp(n+e,"i"),c=new RegExp(e,"i"),d=this.results_data,h=0,u=d.length;u>h;h++)t=d[h],t.search_match=!1,o=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(o=this.results_data[t.group_array_index],0===o.active_options&&o.search_match&&(s+=1),o.active_options+=1),(!t.group||this.group_search)&&(t.search_text=t.group?t.label:t.html,t.search_match=this.search_string_match(t.search_text,i),t.search_match&&!t.group&&(s+=1),t.search_match?(r.length&&(a=t.search_text.search(c),l=t.search_text.substr(0,a+r.length)+"</em>"+t.search_text.substr(a+r.length),t.search_text=l.substr(0,a)+"<em>"+l.substr(a)),null!=o&&(o.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),1>s&&r.length?(this.update_results_content(""),this.no_results(r)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.search_string_match=function(e,t){var i,n,s,o;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))&&(n=e.replace(/\[|\]/g,"").split(" "),n.length))for(s=0,o=n.length;o>s;s++)if(i=n[s],t.test(i))return!0},e.prototype.choices_count=function(){var e,t,i,n;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,n=this.form_field.options,t=0,i=n.length;i>t;t++)e=n[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},e.prototype.keyup_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.clipboard_event_checker=function(){var e=this;return setTimeout(function(){return e.results_search()},50)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return this.is_multiple&&!this.display_selected_options&&e.selected?!1:!this.display_disabled_options&&e.disabled?!1:e.empty?!1:!0},e.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},e.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},e.prototype.search_results_touchend=function(e){return this.touch_started?this.search_results_mouseup(e):void 0},e.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:(t=document.createElement("div"),t.appendChild(e),t.innerHTML)},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),e=jQuery,e.fn.extend({chosen:function(n){return t.browser_is_supported()?this.each(function(){var t,s;t=e(this),s=t.data("chosen"),"destroy"===n&&s?s.destroy():s||t.data("chosen",new i(this,n))}):this}}),i=function(t){function i(){return s=i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var t,i;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),i={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",i),this.container.html(this.is_multiple?'<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>':'<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var e=this;return this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)}),this.search_results.bind("touchstart.chosen",function(t){e.search_results_touchstart(t)}),this.search_results.bind("touchmove.chosen",function(t){e.search_results_touchmove(t)}),this.search_results.bind("touchend.chosen",function(t){e.search_results_touchend(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){e.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)}),this.form_field_jq.bind("chosen:close.chosen",function(t){e.input_blur(t)}),this.search_field.bind("blur.chosen",function(t){e.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){e.input_focus(t)}),this.search_field.bind("cut.chosen",function(t){e.clipboard_event_checker(t)}),this.search_field.bind("paste.chosen",function(t){e.clipboard_event_checker(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){e.choices_click(t)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},i.prototype.destroy=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},i.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},i.prototype.search_results_mousewheel=function(e){var t;return e.originalEvent&&(t=-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},i.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},i.prototype.close_field=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(t){var i;return i=e(t.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=n.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(e){var t,i,n,s,o;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),n=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),s=n+o,i=this.result_highlight.position().top+this.search_results.scrollTop(),t=i+this.result_highlight.outerHeight(),t>=s)return this.search_results.scrollTop(t-n>0?t-n:0);if(o>i)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},i.prototype.update_results_content=function(e){return this.search_results.html(e)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(){var e;return this.form_field.tabIndex?(e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e):void 0},i.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(t),this.search_field.focus()):void 0},i.prototype.search_results_mouseover=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},i.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},i.prototype.choice_build=function(t){var i,n,s=this;return i=e("<li />",{"class":"search-choice"}).html("<span>"+t.html+"</span>"),t.disabled?i.addClass("search-choice-disabled"):(n=e("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index}),n.bind("click.chosen",function(e){return s.choice_destroy_link_click(e)}),i.append(n)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(e(t.target))},i.prototype.choice_destroy=function(e){return this.result_deselect(e[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},i.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(e){var t,i;return this.result_highlight?(t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),i=this.results_data[t[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(i.text),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},i.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(e)},i.prototype.result_deselect=function(e){var t;return t=this.results_data[e],this.form_field.options[t.options_index].disabled?!1:(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},i.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var e,t;return t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null!=e?this.result_do_highlight(e):void 0},i.prototype.no_results=function(t){var i;return i=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(t),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var t,i,n,s,o,r,a,l,c;if(this.is_multiple){for(n=0,a=0,o="position:absolute; left: -1000px; top: -1000px; display:none;",r=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,c=r.length;c>l;l++)s=r[l],o+=s+":"+this.search_field.css(s)+";";return t=e("<div />",{style:o}),t.text(this.search_field.val()),e("body").append(t),a=t.width()+25,t.remove(),i=this.container.outerWidth(),a>i-10&&(a=i-10),this.search_field.css({width:a+"px"})}},i}(t)}.call(this);/*!
 * @license wysihtml5 v0.3.0
 * https://github.com/xing/wysihtml5
 *
 * Author: Christopher Blum (https://github.com/tiff)
 *
 * Copyright (C) 2012 XING AG
 * Licensed under the MIT license (MIT)
 */
var wysihtml5={version:"0.3.0",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};window.rangy=function(){function e(e,t){var i=typeof e[t];return i==u||!(i!=h||!e[t])||"unknown"==i}function t(e,t){return!(typeof e[t]!=h||!e[t])}function i(e,t){return typeof e[t]!=d}function n(e){return function(t,i){for(var n=i.length;n--;)if(!e(t,i[n]))return!1;return!0}}function s(e){return e&&v(e,m)&&b(e,g)}function o(e){window.alert("Rangy not supported in your browser. Reason: "+e),w.initialized=!0,w.supported=!1}function r(e){var t="Rangy warning: "+e;w.config.alertOnWarn?window.alert(t):typeof window.console!=d&&typeof window.console.log!=d&&window.console.log(t)}function a(){if(!w.initialized){var i,n=!1,r=!1;e(document,"createRange")&&(i=document.createRange(),v(i,p)&&b(i,f)&&(n=!0),i.detach());var a=t(document,"body")?document.body:document.getElementsByTagName("body")[0];a&&e(a,"createTextRange")&&(i=a.createTextRange(),s(i)&&(r=!0)),n||r||o("Neither Range nor TextRange are implemented"),w.initialized=!0,w.features={implementsDomRange:n,implementsTextRange:r};for(var l=C.concat(x),c=0,h=l.length;h>c;++c)try{l[c](w)}catch(u){t(window,"console")&&e(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",u)}}}function l(e){e=e||window,a();for(var t=0,i=_.length;i>t;++t)_[t](e)}function c(e){this.name=e,this.initialized=!1,this.supported=!1}var h="object",u="function",d="undefined",f=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer","START_TO_START","START_TO_END","END_TO_START","END_TO_END"],p=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],g=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],m=["collapse","compareEndPoints","duplicate","getBookmark","moveToBookmark","moveToElementText","parentElement","pasteHTML","select","setEndPoint","getBoundingClientRect"],v=n(e),y=n(t),b=n(i),w={version:"1.2.2",initialized:!1,supported:!0,util:{isHostMethod:e,isHostObject:t,isHostProperty:i,areHostMethods:v,areHostObjects:y,areHostProperties:b,isTextRange:s},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};w.fail=o,w.warn=r,{}.hasOwnProperty?w.util.extend=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}:o("hasOwnProperty not supported");var x=[],C=[];w.init=a,w.addInitListener=function(e){w.initialized?e(w):x.push(e)};var _=[];w.addCreateMissingNativeApiListener=function(e){_.push(e)},w.createMissingNativeApi=l,c.prototype.fail=function(e){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+e)},c.prototype.warn=function(e){w.warn("Module "+this.name+": "+e)},c.prototype.createError=function(e){return new Error("Error in Rangy "+this.name+" module: "+e)},w.createModule=function(e,t){var i=new c(e);w.modules[e]=i,C.push(function(e){t(e,i),i.initialized=!0,i.supported=!0})},w.requireModules=function(e){for(var t,i,n=0,s=e.length;s>n;++n){if(i=e[n],t=w.modules[i],!(t&&t instanceof c))throw new Error("Module '"+i+"' not found");if(!t.supported)throw new Error("Module '"+i+"' not supported")}};var S=!1,T=function(){S||(S=!0,w.initialized||a())};return typeof window==d?void o("No window found"):typeof document==d?void o("No document found"):(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",T,!1),e(window,"addEventListener")?window.addEventListener("load",T,!1):e(window,"attachEvent")?window.attachEvent("onload",T):o("Window does not have required addEventListener or attachEvent method"),w)}(),rangy.createModule("DomUtil",function(e,t){function i(e){var t;return typeof e.namespaceURI==T||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function n(e){var t=e.parentNode;return 1==t.nodeType?t:null}function s(e){for(var t=0;e=e.previousSibling;)t++;return t}function o(e){var t;return c(e)?e.length:(t=e.childNodes)?t.length:0}function r(e,t){var i,n=[];for(i=e;i;i=i.parentNode)n.push(i);for(i=t;i;i=i.parentNode)if(N(n,i))return i;return null}function a(e,t,i){for(var n=i?t:t.parentNode;n;){if(n===e)return!0;n=n.parentNode}return!1}function l(e,t,i){for(var n,s=i?e:e.parentNode;s;){if(n=s.parentNode,n===t)return s;s=n}return null}function c(e){var t=e.nodeType;return 3==t||4==t||8==t}function h(e,t){var i=t.nextSibling,n=t.parentNode;return i?n.insertBefore(e,i):n.appendChild(e),e}function u(e,t){var i=e.cloneNode(!1);return i.deleteData(0,t),e.deleteData(t,e.length-t),h(i,e),i}function d(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=T)return e.ownerDocument;if(typeof e.document!=T)return e.document;if(e.parentNode)return d(e.parentNode);throw new Error("getDocument: no document found for node")}function f(e){var t=d(e);if(typeof t.defaultView!=T)return t.defaultView;if(typeof t.parentWindow!=T)return t.parentWindow;throw new Error("Cannot get a window object for node")}function p(e){if(typeof e.contentDocument!=T)return e.contentDocument;if(typeof e.contentWindow!=T)return e.contentWindow.document;throw new Error("getIframeWindow: No Document object found for iframe element")}function g(e){if(typeof e.contentWindow!=T)return e.contentWindow;if(typeof e.contentDocument!=T)return e.contentDocument.defaultView;throw new Error("getIframeWindow: No Window object found for iframe element")}function m(e){return k.isHostObject(e,"body")?e.body:e.getElementsByTagName("body")[0]}function v(e){for(var t;t=e.parentNode;)e=t;return e}function y(e,t,i,n){var o,a,c,h,u;if(e==i)return t===n?0:n>t?-1:1;if(o=l(i,e,!0))return t<=s(o)?-1:1;if(o=l(e,i,!0))return s(o)<n?-1:1;if(a=r(e,i),c=e===a?a:l(e,a,!0),h=i===a?a:l(i,a,!0),c===h)throw new Error("comparePoints got to case 4 and childA and childB are the same!");for(u=a.firstChild;u;){if(u===c)return-1;if(u===h)return 1;u=u.nextSibling}throw new Error("Should not be here!")}function b(e){for(var t,i=d(e).createDocumentFragment();t=e.firstChild;)i.appendChild(t);return i}function w(e){if(!e)return"[No node]";if(c(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">["+e.childNodes.length+"]"}return e.nodeName}function x(e){this.root=e,this._next=e}function C(e){return new x(e)}function _(e,t){this.node=e,this.offset=t}function S(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var T="undefined",k=e.util;k.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),k.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var D=document.createElement("div");k.areHostMethods(D,["insertBefore","appendChild","cloneNode"]||!k.areHostObjects(D,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),k.isHostProperty(D,"innerHTML")||t.fail("Element is missing innerHTML property");var E=document.createTextNode("test");k.areHostMethods(E,["splitText","deleteData","insertData","appendData","cloneNode"]||!k.areHostObjects(D,["previousSibling","nextSibling","childNodes","parentNode"])||!k.areHostProperties(E,["data"]))||t.fail("Incomplete Text Node implementation");var N=function(e,t){for(var i=e.length;i--;)if(e[i]===t)return!0;return!1};x.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,i=this._current=this._next;if(this._current)if(e=i.firstChild)this._next=e;else{for(t=null;i!==this.root&&!(t=i.nextSibling);)i=i.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},_.prototype={equals:function(e){return this.node===e.node&this.offset==e.offset},inspect:function(){return"[DomPosition("+w(this.node)+":"+this.offset+")]"}},S.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11},S.prototype.toString=function(){return this.message},e.dom={arrayContains:N,isHtmlNamespace:i,parentElement:n,getNodeIndex:s,getNodeLength:o,getCommonAncestor:r,isAncestorOf:a,getClosestAncestorIn:l,isCharacterDataNode:c,insertAfter:h,splitDataNode:u,getDocument:d,getWindow:f,getIframeWindow:g,getIframeDocument:p,getBody:m,getRootContainer:v,comparePoints:y,inspectNode:w,fragmentFromNodeChildren:b,createIterator:C,DomPosition:_},e.DOMException=S}),rangy.createModule("DomRange",function(e){function t(e,t){return 3!=e.nodeType&&(L.isAncestorOf(e,t.startContainer,!0)||L.isAncestorOf(e,t.endContainer,!0))}function i(e){return L.getDocument(e.startContainer)}function n(e,t,i){var n=e._listeners[t];if(n)for(var s=0,o=n.length;o>s;++s)n[s].call(e,{target:e,args:i})}function s(e){return new z(e.parentNode,L.getNodeIndex(e))}function o(e){return new z(e.parentNode,L.getNodeIndex(e)+1)}function r(e,t,i){var n=11==e.nodeType?e.firstChild:e;return L.isCharacterDataNode(t)?i==t.length?L.insertAfter(e,t):t.parentNode.insertBefore(e,0==i?t:L.splitDataNode(t,i)):i>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[i]),n}function a(e){for(var t,n,s,o=i(e.range).createDocumentFragment();n=e.next();){if(t=e.isPartiallySelectedSubtree(),n=n.cloneNode(!t),t&&(s=e.getSubtreeIterator(),n.appendChild(a(s)),s.detach(!0)),10==n.nodeType)throw new O("HIERARCHY_REQUEST_ERR");o.appendChild(n)}return o}function l(e,t,i){var n,s;i=i||{stop:!1};for(var o,r;o=e.next();)if(e.isPartiallySelectedSubtree()){if(t(o)===!1)return void(i.stop=!0);if(r=e.getSubtreeIterator(),l(r,t,i),r.detach(!0),i.stop)return}else for(n=L.createIterator(o);s=n.next();)if(t(s)===!1)return void(i.stop=!0)}function c(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),c(t),t.detach(!0)):e.remove()}function h(e){for(var t,n,s=i(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(h(n)),n.detach(!0)):e.remove(),10==t.nodeType)throw new O("HIERARCHY_REQUEST_ERR");s.appendChild(t)}return s}function u(e,t,i){var n,s=!(!t||!t.length),o=!!i;s&&(n=new RegExp("^("+t.join("|")+")$"));var r=[];return l(new f(e,!1),function(e){s&&!n.test(e.nodeType)||o&&!i(e)||r.push(e)}),r}function d(e){var t="undefined"==typeof e.getName?"Range":e.getName();return"["+t+"("+L.inspectNode(e.startContainer)+":"+e.startOffset+", "+L.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function f(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var i=e.commonAncestorContainer;this.sc===this.ec&&L.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==i||L.isCharacterDataNode(this.sc)?L.getClosestAncestorIn(this.sc,i,!0):this.sc.childNodes[this.so],this._last=this.ec!==i||L.isCharacterDataNode(this.ec)?L.getClosestAncestorIn(this.ec,i,!0):this.ec.childNodes[this.eo-1])}}function p(e){this.code=this[e],this.codeName=e,this.message="RangeException: "+this.codeName}function g(e,t,i){this.nodes=u(e,t,i),this._next=this.nodes[0],this._position=0}function m(e){return function(t,i){for(var n,s=i?t:t.parentNode;s;){if(n=s.nodeType,L.arrayContains(e,n))return s;s=s.parentNode}return null}}function v(e,t){if(Y(e,t))throw new p("INVALID_NODE_TYPE_ERR")}function y(e){if(!e.startContainer)throw new O("INVALID_STATE_ERR")}function b(e,t){if(!L.arrayContains(t,e.nodeType))throw new p("INVALID_NODE_TYPE_ERR")}function w(e,t){if(0>t||t>(L.isCharacterDataNode(e)?e.length:e.childNodes.length))throw new O("INDEX_SIZE_ERR")}function x(e,t){if(U(e,!0)!==U(t,!0))throw new O("WRONG_DOCUMENT_ERR")}function C(e){if(V(e,!0))throw new O("NO_MODIFICATION_ALLOWED_ERR")}function _(e,t){if(!e)throw new O(t)}function S(e){return!L.arrayContains(j,e.nodeType)&&!U(e,!0)}function T(e,t){return t<=(L.isCharacterDataNode(e)?e.length:e.childNodes.length)}function k(e){if(y(e),S(e.startContainer)||S(e.endContainer)||!T(e.startContainer,e.startOffset)||!T(e.endContainer,e.endOffset))throw new Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}function D(){}function E(e){e.START_TO_START=Z,e.START_TO_END=et,e.END_TO_END=tt,e.END_TO_START=it,e.NODE_BEFORE=nt,e.NODE_AFTER=st,e.NODE_BEFORE_AND_AFTER=ot,e.NODE_INSIDE=rt}function N(e){E(e),E(e.prototype)}function M(e,t){return function(){k(this);var i,n,s=this.startContainer,r=this.startOffset,a=this.commonAncestorContainer,c=new f(this,!0);s!==a&&(i=L.getClosestAncestorIn(s,a,!0),n=o(i),s=n.node,r=n.offset),l(c,C),c.reset();var h=e(c);return c.detach(),t(this,s,r,s,r),h}}function R(i,n,r){function a(e,t){return function(i){y(this),b(i,H),b($(i),j);var n=(e?s:o)(i);(t?l:u)(this,n.node,n.offset)}}function l(e,t,i){var s=e.endContainer,o=e.endOffset;(t!==e.startContainer||i!==e.startOffset)&&(($(t)!=$(s)||1==L.comparePoints(t,i,s,o))&&(s=t,o=i),n(e,t,i,s,o))}function u(e,t,i){var s=e.startContainer,o=e.startOffset;(t!==e.endContainer||i!==e.endOffset)&&(($(t)!=$(s)||-1==L.comparePoints(t,i,s,o))&&(s=t,o=i),n(e,s,o,t,i))}function d(e,t,i){(t!==e.startContainer||i!==e.startOffset||t!==e.endContainer||i!==e.endOffset)&&n(e,t,i,t,i)}i.prototype=new D,e.util.extend(i.prototype,{setStart:function(e,t){y(this),v(e,!0),w(e,t),l(this,e,t)},setEnd:function(e,t){y(this),v(e,!0),w(e,t),u(this,e,t)},setStartBefore:a(!0,!0),setStartAfter:a(!1,!0),setEndBefore:a(!0,!1),setEndAfter:a(!1,!1),collapse:function(e){k(this),e?n(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):n(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){y(this),v(e,!0),n(this,e,0,e,L.getNodeLength(e))},selectNode:function(e){y(this),v(e,!1),b(e,H);var t=s(e),i=o(e);n(this,t.node,t.offset,i.node,i.offset)},extractContents:M(h,n),deleteContents:M(c,n),canSurroundContents:function(){k(this),C(this.startContainer),C(this.endContainer);var e=new f(this,!0),i=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!i},detach:function(){r(this)},splitBoundaries:function(){k(this);var e=this.startContainer,t=this.startOffset,i=this.endContainer,s=this.endOffset,o=e===i;L.isCharacterDataNode(i)&&s>0&&s<i.length&&L.splitDataNode(i,s),L.isCharacterDataNode(e)&&t>0&&t<e.length&&(e=L.splitDataNode(e,t),o?(s-=t,i=e):i==e.parentNode&&s>=L.getNodeIndex(e)&&s++,t=0),n(this,e,t,i,s)},normalizeBoundaries:function(){k(this);var e=this.startContainer,t=this.startOffset,i=this.endContainer,s=this.endOffset,o=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(i=e,s=e.length,e.appendData(t.data),t.parentNode.removeChild(t))},r=function(n){var o=n.previousSibling;if(o&&o.nodeType==n.nodeType){e=n;var r=n.length;if(t=o.length,n.insertData(0,o.data),o.parentNode.removeChild(o),e==i)s+=t,i=e;else if(i==n.parentNode){var a=L.getNodeIndex(n);s==a?(i=n,s=r):s>a&&s--}}},a=!0;if(L.isCharacterDataNode(i))i.length==s&&o(i);else{if(s>0){var l=i.childNodes[s-1];l&&L.isCharacterDataNode(l)&&o(l)}a=!this.collapsed}if(a){if(L.isCharacterDataNode(e))0==t&&r(e);else if(t<e.childNodes.length){var c=e.childNodes[t];c&&L.isCharacterDataNode(c)&&r(c)}}else e=i,t=s;n(this,e,t,i,s)},collapseToPoint:function(e,t){y(this),v(e,!0),w(e,t),d(this,e,t)}}),N(i)}function A(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:L.getCommonAncestor(e.startContainer,e.endContainer)}function F(e,t,i,s,o){var r=e.startContainer!==t||e.startOffset!==i,a=e.endContainer!==s||e.endOffset!==o;e.startContainer=t,e.startOffset=i,e.endContainer=s,e.endOffset=o,A(e),n(e,"boundarychange",{startMoved:r,endMoved:a})}function I(e){y(e),e.startContainer=e.startOffset=e.endContainer=e.endOffset=null,e.collapsed=e.commonAncestorContainer=null,n(e,"detach",null),e._listeners=null}function P(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},A(this)}e.requireModules(["DomUtil"]);var L=e.dom,z=L.DomPosition,O=e.DOMException;f.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,L.isCharacterDataNode(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,i=this._current;!L.isCharacterDataNode(i)||i!==this.sc&&i!==this.ec?i.parentNode&&i.parentNode.removeChild(i):(e=i===this.sc?this.so:0,t=i===this.ec?this.eo:i.length,e!=t&&i.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){var e=this._current;return t(e,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)e=this.range.cloneRange(),e.collapse();else{e=new P(i(this.range));var t=this._current,n=t,s=0,o=t,r=L.getNodeLength(t);L.isAncestorOf(t,this.sc,!0)&&(n=this.sc,s=this.so),L.isAncestorOf(t,this.ec,!0)&&(o=this.ec,r=this.eo),F(e,n,s,o,r)}return new f(e,this.clonePartiallySelectedTextNodes)},detach:function(e){e&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},p.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2},p.prototype.toString=function(){return this.message},g.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var H=[1,3,4,5,7,8,10],j=[2,9,11],W=[5,6,10,12],B=[1,3,4,5,7,8,10,11],q=[1,3,4,5,7,8],$=L.getRootContainer,U=m([9,11]),V=m(W),Y=m([6,10,12]),X=document.createElement("style"),Q=!1;try{X.innerHTML="<b>x</b>",Q=3==X.firstChild.nodeType}catch(J){}e.features.htmlParsingConforms=Q;var G=Q?function(e){var t=this.startContainer,i=L.getDocument(t);if(!t)throw new O("INVALID_STATE_ERR");var n=null;return 1==t.nodeType?n=t:L.isCharacterDataNode(t)&&(n=L.parentElement(t)),n=null===n||"HTML"==n.nodeName&&L.isHtmlNamespace(L.getDocument(n).documentElement)&&L.isHtmlNamespace(n)?i.createElement("body"):n.cloneNode(!1),n.innerHTML=e,L.fragmentFromNodeChildren(n)}:function(e){y(this);var t=i(this),n=t.createElement("body");return n.innerHTML=e,L.fragmentFromNodeChildren(n)},K=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],Z=0,et=1,tt=2,it=3,nt=0,st=1,ot=2,rt=3;D.prototype={attachListener:function(e,t){this._listeners[e].push(t)},compareBoundaryPoints:function(e,t){k(this),x(this.startContainer,t.startContainer);var i,n,s,o,r=e==it||e==Z?"start":"end",a=e==et||e==Z?"start":"end";return i=this[r+"Container"],n=this[r+"Offset"],s=t[a+"Container"],o=t[a+"Offset"],L.comparePoints(i,n,s,o)},insertNode:function(e){if(k(this),b(e,B),C(this.startContainer),L.isAncestorOf(e,this.startContainer,!0))throw new O("HIERARCHY_REQUEST_ERR");var t=r(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){k(this);var e,t;if(this.collapsed)return i(this).createDocumentFragment();if(this.startContainer===this.endContainer&&L.isCharacterDataNode(this.startContainer))return e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=i(this).createDocumentFragment(),t.appendChild(e),t;var n=new f(this,!0);return e=a(n),n.detach(),e},canSurroundContents:function(){k(this),C(this.startContainer),C(this.endContainer);var e=new f(this,!0),i=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!i},surroundContents:function(e){if(b(e,q),!this.canSurroundContents())throw new p("BAD_BOUNDARYPOINTS_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);r(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){k(this);for(var e,t=new P(i(this)),n=K.length;n--;)e=K[n],t[e]=this[e];return t},toString:function(){k(this);var e=this.startContainer;if(e===this.endContainer&&L.isCharacterDataNode(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],i=new f(this,!0);return l(i,function(e){(3==e.nodeType||4==e.nodeType)&&t.push(e.data)}),i.detach(),t.join("")},compareNode:function(e){k(this);var t=e.parentNode,i=L.getNodeIndex(e);if(!t)throw new O("NOT_FOUND_ERR");var n=this.comparePoint(t,i),s=this.comparePoint(t,i+1);return 0>n?s>0?ot:nt:s>0?st:rt},comparePoint:function(e,t){return k(this),_(e,"HIERARCHY_REQUEST_ERR"),x(e,this.startContainer),L.comparePoints(e,t,this.startContainer,this.startOffset)<0?-1:L.comparePoints(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:G,toHtml:function(){k(this);var e=i(this).createElement("div");return e.appendChild(this.cloneContents()),e.innerHTML},intersectsNode:function(e,t){if(k(this),_(e,"NOT_FOUND_ERR"),L.getDocument(e)!==i(this))return!1;var n=e.parentNode,s=L.getNodeIndex(e);_(n,"NOT_FOUND_ERR");var o=L.comparePoints(n,s,this.endContainer,this.endOffset),r=L.comparePoints(n,s+1,this.startContainer,this.startOffset);return t?0>=o&&r>=0:0>o&&r>0},isPointInRange:function(e,t){return k(this),_(e,"HIERARCHY_REQUEST_ERR"),x(e,this.startContainer),L.comparePoints(e,t,this.startContainer,this.startOffset)>=0&&L.comparePoints(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e,t){if(k(this),i(e)!=i(this))throw new O("WRONG_DOCUMENT_ERR");var n=L.comparePoints(this.startContainer,this.startOffset,e.endContainer,e.endOffset),s=L.comparePoints(this.endContainer,this.endOffset,e.startContainer,e.startOffset);return t?0>=n&&s>=0:0>n&&s>0},intersection:function(e){if(this.intersectsRange(e)){var t=L.comparePoints(this.startContainer,this.startOffset,e.startContainer,e.startOffset),i=L.comparePoints(this.endContainer,this.endOffset,e.endContainer,e.endOffset),n=this.cloneRange();return-1==t&&n.setStart(e.startContainer,e.startOffset),1==i&&n.setEnd(e.endContainer,e.endOffset),n}return null},union:function(e){if(this.intersectsRange(e,!0)){var t=this.cloneRange();return-1==L.comparePoints(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==L.comparePoints(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new p("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==rt},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,L.getNodeLength(e))<=0},containsRange:function(e){return this.intersection(e).equals(e)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var i=t.getNodes([3]);if(i.length>0){t.setStart(i[0],0);var n=i.pop();t.setEnd(n,n.length);var s=this.containsRange(t);return t.detach(),s}return this.containsNodeContents(e)},createNodeIterator:function(e,t){return k(this),new g(this,e,t)},getNodes:function(e,t){return k(this),u(this,e,t)},getDocument:function(){return i(this)},collapseBefore:function(e){y(this),this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){y(this),this.setStartAfter(e),this.collapse(!0)},getName:function(){return"DomRange"},equals:function(e){return P.rangesEqual(this,e)},inspect:function(){return d(this)}},R(P,F,I),e.rangePrototype=D.prototype,P.rangeProperties=K,P.RangeIterator=f,P.copyComparisonConstants=N,P.createPrototypeRange=R,P.inspect=d,P.getRangeDocument=i,P.rangesEqual=function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},e.DomRange=P,e.RangeException=p}),rangy.createModule("WrappedRange",function(e){function t(e){var t=e.parentElement(),i=e.duplicate();i.collapse(!0);var n=i.parentElement();i=e.duplicate(),i.collapse(!1);var s=i.parentElement(),o=n==s?n:r.getCommonAncestor(n,s);return o==t?o:r.getCommonAncestor(t,o)}function i(e){return 0==e.compareEndPoints("StartToEnd",e)}function n(e,t,i,n){var s=e.duplicate();s.collapse(i);var o=s.parentElement();if(r.isAncestorOf(t,o,!0)||(o=t),!o.canHaveHTML)return new a(o.parentNode,r.getNodeIndex(o));var l,c,h,u,d,f=r.getDocument(o).createElement("span"),p=i?"StartToStart":"StartToEnd";do o.insertBefore(f,f.previousSibling),s.moveToElementText(f);while((l=s.compareEndPoints(p,e))>0&&f.previousSibling);if(d=f.nextSibling,-1==l&&d&&r.isCharacterDataNode(d)){s.setEndPoint(i?"EndToStart":"EndToEnd",e);var g;if(/[\r\n]/.test(d.data)){var m=s.duplicate(),v=m.text.replace(/\r\n/g,"\r").length;for(g=m.moveStart("character",v);-1==(l=m.compareEndPoints("StartToEnd",m));)g++,m.moveStart("character",1)}else g=s.text.length;u=new a(d,g)}else c=(n||!i)&&f.previousSibling,h=(n||i)&&f.nextSibling,u=h&&r.isCharacterDataNode(h)?new a(h,0):c&&r.isCharacterDataNode(c)?new a(c,c.length):new a(o,r.getNodeIndex(f));return f.parentNode.removeChild(f),u}function s(e,t){var i,n,s,o,a=e.offset,l=r.getDocument(e.node),c=l.body.createTextRange(),h=r.isCharacterDataNode(e.node);return h?(i=e.node,n=i.parentNode):(o=e.node.childNodes,i=a<o.length?o[a]:null,n=e.node),s=l.createElement("span"),s.innerHTML="&#feff;",i?n.insertBefore(s,i):n.appendChild(s),c.moveToElementText(s),c.collapse(!t),n.removeChild(s),h&&c[t?"moveStart":"moveEnd"]("character",a),c}e.requireModules(["DomUtil","DomRange"]);var o,r=e.dom,a=r.DomPosition,l=e.DomRange;if(!e.features.implementsDomRange||e.features.implementsTextRange&&e.config.preferTextRange){if(e.features.implementsTextRange){o=function(e){this.textRange=e,this.refresh()},o.prototype=new l(document),o.prototype.refresh=function(){var e,s,o=t(this.textRange);i(this.textRange)?s=e=n(this.textRange,o,!0,!0):(e=n(this.textRange,o,!0,!1),s=n(this.textRange,o,!1,!1)),this.setStart(e.node,e.offset),this.setEnd(s.node,s.offset)},l.copyComparisonConstants(o);var c=function(){return this}();"undefined"==typeof c.Range&&(c.Range=o),e.createNativeRange=function(e){return e=e||document,e.body.createTextRange()}}}else!function(){function t(e){for(var t,i=h.length;i--;)t=h[i],e[t]=e.nativeRange[t]}function i(e,t,i,n,s){var o=e.startContainer!==t||e.startOffset!=i,r=e.endContainer!==n||e.endOffset!=s;(o||r)&&(e.setEnd(n,s),e.setStart(t,i))}function n(e){e.nativeRange.detach(),e.detached=!0;for(var t,i=h.length;i--;)t=h[i],e[t]=null}var s,a,c,h=l.rangeProperties;o=function(e){if(!e)throw new Error("Range must be specified");this.nativeRange=e,t(this)},l.createPrototypeRange(o,i,n),s=o.prototype,s.selectNode=function(e){this.nativeRange.selectNode(e),t(this)},s.deleteContents=function(){this.nativeRange.deleteContents(),t(this)},s.extractContents=function(){var e=this.nativeRange.extractContents();return t(this),e},s.cloneContents=function(){return this.nativeRange.cloneContents()},s.surroundContents=function(e){this.nativeRange.surroundContents(e),t(this)},s.collapse=function(e){this.nativeRange.collapse(e),t(this)},s.cloneRange=function(){return new o(this.nativeRange.cloneRange())},s.refresh=function(){t(this)},s.toString=function(){return this.nativeRange.toString()};var u=document.createTextNode("test");r.getBody(document).appendChild(u);var d=document.createRange();d.setStart(u,0),d.setEnd(u,0);try{d.setStart(u,1),a=!0,s.setStart=function(e,i){this.nativeRange.setStart(e,i),t(this)},s.setEnd=function(e,i){this.nativeRange.setEnd(e,i),t(this)},c=function(e){return function(i){this.nativeRange[e](i),t(this)}}}catch(f){a=!1,s.setStart=function(e,i){try{this.nativeRange.setStart(e,i)}catch(n){this.nativeRange.setEnd(e,i),this.nativeRange.setStart(e,i)}t(this)},s.setEnd=function(e,i){try{this.nativeRange.setEnd(e,i)}catch(n){this.nativeRange.setStart(e,i),this.nativeRange.setEnd(e,i)}t(this)},c=function(e,i){return function(n){try{this.nativeRange[e](n)}catch(s){this.nativeRange[i](n),this.nativeRange[e](n)}t(this)}}}s.setStartBefore=c("setStartBefore","setEndBefore"),s.setStartAfter=c("setStartAfter","setEndAfter"),s.setEndBefore=c("setEndBefore","setStartBefore"),s.setEndAfter=c("setEndAfter","setStartAfter"),d.selectNodeContents(u),s.selectNodeContents=d.startContainer==u&&d.endContainer==u&&0==d.startOffset&&d.endOffset==u.length?function(e){this.nativeRange.selectNodeContents(e),t(this)}:function(e){this.setStart(e,0),this.setEnd(e,l.getEndOffset(e))},d.selectNodeContents(u),d.setEnd(u,3);var p=document.createRange();p.selectNodeContents(u),p.setEnd(u,4),p.setStart(u,2),s.compareBoundaryPoints=-1==d.compareBoundaryPoints(d.START_TO_END,p)&1==d.compareBoundaryPoints(d.END_TO_START,p)?function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)},e.util.isHostMethod(d,"createContextualFragment")&&(s.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),r.getBody(document).removeChild(u),d.detach(),p.detach()}(),e.createNativeRange=function(e){return e=e||document,e.createRange()};e.features.implementsTextRange&&(o.rangeToTextRange=function(e){if(e.collapsed){var t=s(new a(e.startContainer,e.startOffset),!0);return t}var i=s(new a(e.startContainer,e.startOffset),!0),n=s(new a(e.endContainer,e.endOffset),!1),o=r.getDocument(e.startContainer).body.createTextRange();return o.setEndPoint("StartToStart",i),o.setEndPoint("EndToEnd",n),o}),o.prototype.getName=function(){return"WrappedRange"},e.WrappedRange=o,e.createRange=function(t){return t=t||document,new o(e.createNativeRange(t))},e.createRangyRange=function(e){return e=e||document,new l(e)},e.createIframeRange=function(t){return e.createRange(r.getIframeDocument(t))},e.createIframeRangyRange=function(t){return e.createRangyRange(r.getIframeDocument(t))},e.addCreateMissingNativeApiListener(function(t){var i=t.document;"undefined"==typeof i.createRange&&(i.createRange=function(){return e.createRange(this)}),i=t=null})}),rangy.createModule("WrappedSelection",function(e,t){function i(e){return(e||window).getSelection()}function n(e){return(e||window).document.selection}function s(e,t,i){var n=i?"end":"start",s=i?"start":"end";e.anchorNode=t[n+"Container"],e.anchorOffset=t[n+"Offset"],e.focusNode=t[s+"Container"],e.focusOffset=t[s+"Offset"]}function o(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function r(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function a(t){var i;return t instanceof S?(i=t._selectionNativeRange,i||(i=e.createNativeRange(C.getDocument(t.startContainer)),i.setEnd(t.endContainer,t.endOffset),i.setStart(t.startContainer,t.startOffset),t._selectionNativeRange=i,t.attachListener("detach",function(){this._selectionNativeRange=null}))):t instanceof T?i=t.nativeRange:e.features.implementsDomRange&&t instanceof C.getWindow(t.startContainer).Range&&(i=t),i}function l(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,i=e.length;i>t;++t)if(!C.isAncestorOf(e[0],e[t]))return!1;return!0}function c(e){var t=e.getNodes();if(!l(t))throw new Error("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return t[0]}function h(e){return!!e&&"undefined"!=typeof e.text}function u(e,t){var i=new T(t);e._ranges=[i],s(e,i,!1),e.rangeCount=1,e.isCollapsed=i.collapsed}function d(t){if(t._ranges.length=0,"None"==t.docSelection.type)r(t);else{var i=t.docSelection.createRange();if(h(i))u(t,i);else{t.rangeCount=i.length;for(var n,o=C.getDocument(i.item(0)),a=0;a<t.rangeCount;++a)n=e.createRange(o),n.selectNode(i.item(a)),t._ranges.push(n);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,s(t,t._ranges[t.rangeCount-1],!1)}}}function f(e,t){for(var i=e.docSelection.createRange(),n=c(t),s=C.getDocument(i.item(0)),o=C.getBody(s).createControlRange(),r=0,a=i.length;a>r;++r)o.add(i.item(r));try{o.add(n)}catch(l){throw new Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}o.select(),d(e)}function p(e,t,i){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=i,this.refresh()}function g(e,t){for(var i,n=C.getDocument(t[0].startContainer),s=C.getBody(n).createControlRange(),o=0;rangeCount>o;++o){i=c(t[o]);
try{s.add(i)}catch(r){throw new Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")}}s.select(),d(e)}function m(e,t){if(e.anchorNode&&C.getDocument(e.anchorNode)!==C.getDocument(t))throw new k("WRONG_DOCUMENT_ERR")}function v(e){var t=[],i=new D(e.anchorNode,e.anchorOffset),n=new D(e.focusNode,e.focusOffset),s="function"==typeof e.getName?e.getName():"Selection";if("undefined"!=typeof e.rangeCount)for(var o=0,r=e.rangeCount;r>o;++o)t[o]=S.inspect(e.getRangeAt(o));return"["+s+"(Ranges: "+t.join(", ")+")(anchor: "+i.inspect()+", focus: "+n.inspect()+"]"}e.requireModules(["DomUtil","DomRange","WrappedRange"]),e.config.checkSelectionRanges=!0;var y,b,w="boolean",x="_rangySelection",C=e.dom,_=e.util,S=e.DomRange,T=e.WrappedRange,k=e.DOMException,D=C.DomPosition,E="Control",N=e.util.isHostMethod(window,"getSelection"),M=e.util.isHostObject(document,"selection"),R=M&&(!N||e.config.preferTextRange);R?(y=n,e.isSelectionValid=function(e){var t=(e||window).document,i=t.selection;return"None"!=i.type||C.getDocument(i.createRange().parentElement())==t}):N?(y=i,e.isSelectionValid=function(){return!0}):t.fail("Neither document.selection or window.getSelection() detected."),e.getNativeSelection=y;var A=y(),F=e.createNativeRange(document),I=C.getBody(document),P=_.areHostObjects(A,["anchorNode","focusNode"]&&_.areHostProperties(A,["anchorOffset","focusOffset"]));e.features.selectionHasAnchorAndFocus=P;var L=_.isHostMethod(A,"extend");e.features.selectionHasExtend=L;var z="number"==typeof A.rangeCount;e.features.selectionHasRangeCount=z;var O=!1,H=!0;_.areHostMethods(A,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof A.rangeCount&&e.features.implementsDomRange&&function(){var e=document.createElement("iframe");I.appendChild(e);var t=C.getIframeDocument(e);t.open(),t.write("<html><head></head><body>12</body></html>"),t.close();var i=C.getIframeWindow(e).getSelection(),n=t.documentElement,s=n.lastChild,o=s.firstChild,r=t.createRange();r.setStart(o,1),r.collapse(!0),i.addRange(r),H=1==i.rangeCount,i.removeAllRanges();var a=r.cloneRange();r.setStart(o,0),a.setEnd(o,2),i.addRange(r),i.addRange(a),O=2==i.rangeCount,r.detach(),a.detach(),I.removeChild(e)}(),e.features.selectionSupportsMultipleRanges=O,e.features.collapsedNonEditableSelectionsSupported=H;var j,W=!1;I&&_.isHostMethod(I,"createControlRange")&&(j=I.createControlRange(),_.areHostProperties(j,["item","add"])&&(W=!0)),e.features.implementsControlRange=W,b=P?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return e.rangeCount?e.getRangeAt(e.rangeCount-1).collapsed:!1};var B;_.isHostMethod(A,"getRangeAt")?B=function(e,t){try{return e.getRangeAt(t)}catch(i){return null}}:P&&(B=function(t){var i=C.getDocument(t.anchorNode),n=e.createRange(i);return n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset),n.collapsed!==this.isCollapsed&&(n.setStart(t.focusNode,t.focusOffset),n.setEnd(t.anchorNode,t.anchorOffset)),n}),e.getSelection=function(e){e=e||window;var t=e[x],i=y(e),s=M?n(e):null;return t?(t.nativeSelection=i,t.docSelection=s,t.refresh(e)):(t=new p(i,s,e),e[x]=t),t},e.getIframeSelection=function(t){return e.getSelection(C.getIframeWindow(t))};var q=p.prototype;if(!R&&P&&_.areHostMethods(A,["removeAllRanges","addRange"])){q.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),r(this)};var $=function(t,i){var n=S.getRangeDocument(i),s=e.createRange(n);s.collapseToPoint(i.endContainer,i.endOffset),t.nativeSelection.addRange(a(s)),t.nativeSelection.extend(i.startContainer,i.startOffset),t.refresh()};q.addRange=z?function(t,i){if(W&&M&&this.docSelection.type==E)f(this,t);else if(i&&L)$(this,t);else{var n;if(O?n=this.rangeCount:(this.removeAllRanges(),n=0),this.nativeSelection.addRange(a(t)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==n+1){if(e.config.checkSelectionRanges){var o=B(this.nativeSelection,this.rangeCount-1);o&&!S.rangesEqual(o,t)&&(t=new T(o))}this._ranges[this.rangeCount-1]=t,s(this,t,Y(this.nativeSelection)),this.isCollapsed=b(this)}else this.refresh()}}:function(e,t){t&&L?$(this,e):(this.nativeSelection.addRange(a(e)),this.refresh())},q.setRanges=function(e){if(W&&e.length>1)g(this,e);else{this.removeAllRanges();for(var t=0,i=e.length;i>t;++t)this.addRange(e[t])}}}else{if(!(_.isHostMethod(A,"empty")&&_.isHostMethod(F,"select")&&W&&R))return t.fail("No means of selecting a Range or TextRange was found"),!1;q.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=C.getDocument(this.anchorNode);else if(this.docSelection.type==E){var t=this.docSelection.createRange();t.length&&(e=C.getDocument(t.item(0)).body.createTextRange())}if(e){var i=e.body.createTextRange();i.select(),this.docSelection.empty()}}}catch(n){}r(this)},q.addRange=function(e){this.docSelection.type==E?f(this,e):(T.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,s(this,e,!1))},q.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?g(this,e):t&&this.addRange(e[0])}}q.getRangeAt=function(e){if(0>e||e>=this.rangeCount)throw new k("INDEX_SIZE_ERR");return this._ranges[e]};var U;if(R)U=function(t){var i;e.isSelectionValid(t.win)?i=t.docSelection.createRange():(i=C.getBody(t.win.document).createTextRange(),i.collapse(!0)),t.docSelection.type==E?d(t):h(i)?u(t,i):r(t)};else if(_.isHostMethod(A,"getRangeAt")&&"number"==typeof A.rangeCount)U=function(t){if(W&&M&&t.docSelection.type==E)d(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var i=0,n=t.rangeCount;n>i;++i)t._ranges[i]=new e.WrappedRange(t.nativeSelection.getRangeAt(i));s(t,t._ranges[t.rangeCount-1],Y(t.nativeSelection)),t.isCollapsed=b(t)}else r(t)};else{if(!P||typeof A.isCollapsed!=w||typeof F.collapsed!=w||!e.features.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;U=function(e){var t,i=e.nativeSelection;i.anchorNode?(t=B(i,0),e._ranges=[t],e.rangeCount=1,o(e),e.isCollapsed=b(e)):r(e)}}q.refresh=function(e){var t=e?this._ranges.slice(0):null;if(U(this),e){var i=t.length;if(i!=this._ranges.length)return!1;for(;i--;)if(!S.rangesEqual(t[i],this._ranges[i]))return!1;return!0}};var V=function(e,t){var i=e.getAllRanges(),n=!1;e.removeAllRanges();for(var s=0,o=i.length;o>s;++s)n||t!==i[s]?e.addRange(i[s]):n=!0;e.rangeCount||r(e)};q.removeRange=W?function(e){if(this.docSelection.type==E){for(var t,i=this.docSelection.createRange(),n=c(e),s=C.getDocument(i.item(0)),o=C.getBody(s).createControlRange(),r=!1,a=0,l=i.length;l>a;++a)t=i.item(a),t!==n||r?o.add(i.item(a)):r=!0;o.select(),d(this)}else V(this,e)}:function(e){V(this,e)};var Y;!R&&P&&e.features.implementsDomRange?(Y=function(e){var t=!1;return e.anchorNode&&(t=1==C.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t},q.isBackwards=function(){return Y(this)}):Y=q.isBackwards=function(){return!1},q.toString=function(){for(var e=[],t=0,i=this.rangeCount;i>t;++t)e[t]=""+this._ranges[t];return e.join("")},q.collapse=function(t,i){m(this,t);var n=e.createRange(C.getDocument(t));n.collapseToPoint(t,i),this.removeAllRanges(),this.addRange(n),this.isCollapsed=!0},q.collapseToStart=function(){if(!this.rangeCount)throw new k("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},q.collapseToEnd=function(){if(!this.rangeCount)throw new k("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},q.selectAllChildren=function(t){m(this,t);var i=e.createRange(C.getDocument(t));i.selectNodeContents(t),this.removeAllRanges(),this.addRange(i)},q.deleteFromDocument=function(){if(W&&M&&this.docSelection.type==E){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),e.parentNode.removeChild(e);this.refresh()}else if(this.rangeCount){var i=this.getAllRanges();this.removeAllRanges();for(var n=0,s=i.length;s>n;++n)i[n].deleteContents();this.addRange(i[s-1])}},q.getAllRanges=function(){return this._ranges.slice(0)},q.setSingleRange=function(e){this.setRanges([e])},q.containsNode=function(e,t){for(var i=0,n=this._ranges.length;n>i;++i)if(this._ranges[i].containsNode(e,t))return!0;return!1},q.toHtml=function(){var e="";if(this.rangeCount){for(var t=S.getRangeDocument(this._ranges[0]).createElement("div"),i=0,n=this._ranges.length;n>i;++i)t.appendChild(this._ranges[i].cloneContents());e=t.innerHTML}return e},q.getName=function(){return"WrappedSelection"},q.inspect=function(){return v(this)},q.detach=function(){this.win[x]=null,this.win=this.anchorNode=this.focusNode=null},p.inspect=v,e.Selection=p,e.selectionPrototype=q,e.addCreateMissingNativeApiListener(function(t){"undefined"==typeof t.getSelection&&(t.getSelection=function(){return e.getSelection(this)}),t=null})});var Base=function(){};Base.extend=function(e,t){var i=Base.prototype.extend;Base._prototyping=!0;var n=new this;i.call(n,e),n.base=function(){},delete Base._prototyping;var s=n.constructor,o=n.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==o)this._constructing=!0,s.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||i).call(arguments[0],n)};return o.ancestor=this,o.extend=this.extend,o.forEach=this.forEach,o.implement=this.implement,o.prototype=n,o.toString=this.toString,o.valueOf=function(e){return"object"==e?o:s.valueOf()},i.call(o,t),"function"==typeof o.init&&o.init(),o},Base.prototype={extend:function(e,t){if(arguments.length>1){var i=this[e];if(i&&"function"==typeof t&&(!i.valueOf||i.valueOf()!=t.valueOf())&&/\bbase\b/.test(t)){var n=t.valueOf();t=function(){var e=this.base||Base.prototype.base;this.base=i;var t=n.apply(this,arguments);return this.base=e,t},t.valueOf=function(e){return"object"==e?t:n},t.toString=Base.toString}this[e]=t}else if(e){var s=Base.prototype.extend;Base._prototyping||"function"==typeof this||(s=this.extend||s);for(var o={toSource:null},r=["constructor","toString","valueOf"],a=Base._prototyping?0:1;l=r[a++];)e[l]!=o[l]&&s.call(this,l,e[l]);for(var l in e)o[l]||s.call(this,l,e[l])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(e,t,i){for(var n in e)void 0===this.prototype[n]&&t.call(i,e[n],n,e)},implement:function(){for(var e=0;e<arguments.length;e++)"function"==typeof arguments[e]?arguments[e](this.prototype):this.prototype.extend(arguments[e]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function e(e){return(/ipad|iphone|ipod/.test(e)&&e.match(/ os (\d+).+? like mac os x/)||[,0])[1]}var t=navigator.userAgent,i=document.createElement("div"),n=-1!==t.indexOf("MSIE")&&-1===t.indexOf("Opera"),s=-1!==t.indexOf("Gecko")&&-1===t.indexOf("KHTML"),o=-1!==t.indexOf("AppleWebKit/"),r=-1!==t.indexOf("Chrome/"),a=-1!==t.indexOf("Opera/");return{USER_AGENT:t,supported:function(){var t=this.USER_AGENT.toLowerCase(),n="contentEditable"in i,s=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,o=document.querySelector&&document.querySelectorAll,r=this.isIos()&&e(t)<5||-1!==t.indexOf("opera mobi")||-1!==t.indexOf("hpwos/");return n&&s&&o&&!r},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){var e=this.USER_AGENT.toLowerCase();return-1!==e.indexOf("webkit")&&-1!==e.indexOf("mobile")},supportsSandboxedIframes:function(){return n},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return!s},hasCurrentStyleProperty:function(){return"currentStyle"in i},insertsLineBreaksOnReturn:function(){return s},supportsPlaceholderAttributeOn:function(e){return"placeholder"in e},supportsEvent:function(e){return"on"+e in i||function(){return i.setAttribute("on"+e,"return;"),"function"==typeof i["on"+e]}()},supportsEventsInIframeCorrectly:function(){return!a},firesOnDropOnlyWhenOnDragOverIsCancelled:function(){return o||s},supportsDataTransfer:function(){try{return o&&(window.Clipboard||window.DataTransfer).prototype.getData}catch(e){return!1}},supportsHTML5Tags:function(e){var t=e.createElement("div"),i="<article>foo</article>";return t.innerHTML=i,t.innerHTML.toLowerCase()===i},supportsCommand:function(){var e={formatBlock:n,insertUnorderedList:n||a||o,insertOrderedList:n||a||o},t={insertHTML:s};return function(i,n){var s=e[n];if(!s){try{return i.queryCommandSupported(n)}catch(o){}try{return i.queryCommandEnabled(n)}catch(r){return!!t[n]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return n},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return s||a||o},supportsGetAttributeCorrectly:function(){var e=document.createElement("td");return"1"!=e.getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return s||n||a},clearsListsInContentEditableCorrectly:function(){return s||n||o},autoScrollsToCaret:function(){return!o},autoClosesUnclosedTags:function(){var e,t,n=i.cloneNode(!1);return n.innerHTML="<p><div></div>",t=n.innerHTML.toLowerCase(),e="<p></p><div></div>"===t||"<p><div></div></p>"===t,this.autoClosesUnclosedTags=function(){return e},e},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},supportsClassList:function(){return"classList"in i},needsSpaceAfterLineBreak:function(){return a},supportsSpeechApiOn:function(e){var i=t.match(/Chrome\/(\d+)/)||[,0];return i[1]>=11&&("onwebkitspeechchange"in e||"speech"in e)},crashesWhenDefineProperty:function(e){return n&&("XMLHttpRequest"===e||"XDomainRequest"===e)},doesAsyncFocus:function(){return n},hasProblemsSettingCaretAfterImg:function(){return n},hasUndoInContextMenu:function(){return s||r||a}}}(),wysihtml5.lang.array=function(e){return{contains:function(t){if(e.indexOf)return-1!==e.indexOf(t);for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return!0;return!1},without:function(t){t=wysihtml5.lang.array(t);for(var i=[],n=0,s=e.length;s>n;n++)t.contains(e[n])||i.push(e[n]);return i},get:function(){for(var t=0,i=e.length,n=[];i>t;t++)n.push(e[t]);return n}}},wysihtml5.lang.Dispatcher=Base.extend({observe:function(e,t){return this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t),this},on:function(){return this.observe.apply(this,wysihtml5.lang.array(arguments).get())},fire:function(e,t){this.events=this.events||{};for(var i=this.events[e]||[],n=0;n<i.length;n++)i[n].call(this,t);return this},stopObserving:function(e,t){this.events=this.events||{};var i,n,s=0;if(e){for(i=this.events[e]||[],n=[];s<i.length;s++)i[s]!==t&&t&&n.push(i[s]);this.events[e]=n}else this.events={};return this}}),wysihtml5.lang.object=function(e){return{merge:function(t){for(var i in t)e[i]=t[i];return this},get:function(){return e},clone:function(){var t,i={};for(t in e)i[t]=e[t];return i},isArray:function(){return"[object Array]"===Object.prototype.toString.call(e)}}},function(){var e=/^\s+/,t=/\s+$/;wysihtml5.lang.string=function(i){return i=String(i),{trim:function(){return i.replace(e,"").replace(t,"")},interpolate:function(e){for(var t in e)i=this.replace("#{"+t+"}").by(e[t]);return i},replace:function(e){return{by:function(t){return i.split(e).join(t)}}}}}}(),function(e){function t(e){return o(e)?e:(e===e.ownerDocument.documentElement&&(e=e.ownerDocument.body),r(e))}function i(e){return e.replace(l,function(e,t){var i=(t.match(c)||[])[1]||"",n=u[i];t=t.replace(c,""),t.split(n).length>t.split(i).length&&(t+=i,i="");var s=t,o=t;return t.length>h&&(o=o.substr(0,h)+"..."),"www."===s.substr(0,4)&&(s="http://"+s),'<a href="'+s+'">'+o+"</a>"+i})}function n(e){var t=e._wysihtml5_tempElement;return t||(t=e._wysihtml5_tempElement=e.createElement("div")),t}function s(e){var t=e.parentNode,s=n(t.ownerDocument);for(s.innerHTML="<span></span>"+i(e.data),s.removeChild(s.firstChild);s.firstChild;)t.insertBefore(s.firstChild,e);t.removeChild(e)}function o(e){for(var t;e.parentNode;){if(e=e.parentNode,t=e.nodeName,a.contains(t))return!0;if("body"===t)return!1}return!1}function r(t){if(!a.contains(t.nodeName)){if(t.nodeType===e.TEXT_NODE&&t.data.match(l))return void s(t);for(var i=e.lang.array(t.childNodes).get(),n=i.length,o=0;n>o;o++)r(i[o]);return t}}var a=e.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),l=/((https?:\/\/|www\.)[^\s<]{3,})/gi,c=/([^\w\/\-](,?))$/i,h=100,u={")":"(","]":"[","}":"{"};e.dom.autoLink=t,e.dom.autoLink.URL_REG_EXP=l}(wysihtml5),function(e){var t=e.browser.supportsClassList(),i=e.dom;i.addClass=function(e,n){return t?e.classList.add(n):void(i.hasClass(e,n)||(e.className+=" "+n))},i.removeClass=function(e,i){return t?e.classList.remove(i):void(e.className=e.className.replace(new RegExp("(^|\\s+)"+i+"(\\s+|$)")," "))},i.hasClass=function(e,i){if(t)return e.classList.contains(i);var n=e.className;return n.length>0&&(n==i||new RegExp("(^|\\s)"+i+"(\\s|$)").test(n))}}(wysihtml5),wysihtml5.dom.contains=function(){var e=document.documentElement;return e.contains?function(e,t){return t.nodeType!==wysihtml5.ELEMENT_NODE&&(t=t.parentNode),e!==t&&e.contains(t)}:e.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:void 0}(),wysihtml5.dom.convertToList=function(){function e(e,t){var i=e.createElement("li");return t.appendChild(i),i}function t(e,t){return e.createElement(t)}function i(i,n){if("UL"===i.nodeName||"OL"===i.nodeName||"MENU"===i.nodeName)return i;var s,o,r,a,l,c,h,u,d,f=i.ownerDocument,p=t(f,n),g=i.querySelectorAll("br"),m=g.length;for(d=0;m>d;d++)for(a=g[d];(l=a.parentNode)&&l!==i&&l.lastChild===a;){if("block"===wysihtml5.dom.getStyle("display").from(l)){l.removeChild(a);break}wysihtml5.dom.insert(a).after(a.parentNode)}for(s=wysihtml5.lang.array(i.childNodes).get(),o=s.length,d=0;o>d;d++)u=u||e(f,p),r=s[d],c="block"===wysihtml5.dom.getStyle("display").from(r),h="BR"===r.nodeName,c?(u=u.firstChild?e(f,p):u,u.appendChild(r),u=null):h?u=u.firstChild?null:u:u.appendChild(r);return i.parentNode.replaceChild(p,i),p}return i}(),wysihtml5.dom.copyAttributes=function(e){return{from:function(t){return{to:function(i){for(var n,s=0,o=e.length;o>s;s++)n=e[s],"undefined"!=typeof t[n]&&""!==t[n]&&(i[n]=t[n]);return{andTo:arguments.callee}}}}}},function(e){var t=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],i=function(t){return n(t)?parseInt(e.getStyle("width").from(t),10)<t.offsetWidth:!1},n=function(i){for(var n=0,s=t.length;s>n;n++)if("border-box"===e.getStyle(t[n]).from(i))return t[n]};e.copyStyles=function(n){return{from:function(s){i(s)&&(n=wysihtml5.lang.array(n).without(t));for(var o,r="",a=n.length,l=0;a>l;l++)o=n[l],r+=o+":"+e.getStyle(o).from(s)+";";return{to:function(t){return e.setStyles(r).on(t),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(e){e.dom.delegate=function(t,i,n,s){return e.dom.observe(t,n,function(n){for(var o=n.target,r=e.lang.array(t.querySelectorAll(i));o&&o!==t;){if(r.contains(o)){s.call(o,n);break}o=o.parentNode}})}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var e=function(e,t){var i=t.createElement("div");i.style.display="none",t.body.appendChild(i);try{i.innerHTML=e}catch(n){}return t.body.removeChild(i),i},t=function(e){if(!e._wysihtml5_supportsHTML5Tags){for(var t=0,n=i.length;n>t;t++)e.createElement(i[t]);e._wysihtml5_supportsHTML5Tags=!0}},i=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(i,n){n=n||document;var s;return"object"==typeof i&&i.nodeType?(s=n.createElement("div"),s.appendChild(i)):wysihtml5.browser.supportsHTML5Tags(n)?(s=n.createElement("div"),s.innerHTML=i):(t(n),s=e(i,n)),s}}(),wysihtml5.dom.getParentElement=function(){function e(e,t){return t&&t.length?"string"==typeof t?e===t:wysihtml5.lang.array(t).contains(e):!0}function t(e){return e.nodeType===wysihtml5.ELEMENT_NODE}function i(e,t,i){var n=(e.className||"").match(i)||[];return t?n[n.length-1]===t:!!n.length}function n(t,i,n){for(;n--&&t&&"BODY"!==t.nodeName;){if(e(t.nodeName,i))return t;t=t.parentNode}return null}function s(n,s,o,r,a){for(;a--&&n&&"BODY"!==n.nodeName;){if(t(n)&&e(n.nodeName,s)&&i(n,o,r))return n;n=n.parentNode}return null}return function(e,t,i){return i=i||50,t.className||t.classRegExp?s(e,t.nodeName,t.className,t.classRegExp,i):n(e,t.nodeName,i)}}(),wysihtml5.dom.getStyle=function(){function e(e){return e.replace(i,function(e){return e.charAt(1).toUpperCase()})}var t={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},i=/\-[a-z]/g;return function(i){return{from:function(n){if(n.nodeType===wysihtml5.ELEMENT_NODE){var s=n.ownerDocument,o=t[i]||e(i),r=n.style,a=n.currentStyle,l=r[o];if(l)return l;if(a)try{return a[o]}catch(c){}var h,u,d=s.defaultView||s.parentWindow,f=("height"===i||"width"===i)&&"TEXTAREA"===n.nodeName;return d.getComputedStyle?(f&&(h=r.overflow,r.overflow="hidden"),u=d.getComputedStyle(n,null).getPropertyValue(i),f&&(r.overflow=h||""),u):void 0}}}}}(),wysihtml5.dom.hasElementWithTagName=function(){function e(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=i++)}var t={},i=1;return function(i,n){var s=e(i)+":"+n,o=t[s];return o||(o=t[s]=i.getElementsByTagName(n)),o.length>0}}(),function(e){function t(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=n++)}var i={},n=1;e.dom.hasElementWithClassName=function(n,s){if(!e.browser.supportsNativeGetElementsByClassName())return!!n.querySelector("."+s);var o=t(n)+":"+s,r=i[o];return r||(r=i[o]=n.getElementsByClassName(s)),r.length>0}}(wysihtml5),wysihtml5.dom.insert=function(e){return{after:function(t){t.parentNode.insertBefore(e,t.nextSibling)},before:function(t){t.parentNode.insertBefore(e,t)},into:function(t){t.appendChild(e)}}},wysihtml5.dom.insertCSS=function(e){return e=e.join("\n"),{into:function(t){var i=t.head||t.getElementsByTagName("head")[0],n=t.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(t.createTextNode(e)),i&&i.appendChild(n)}}},wysihtml5.dom.observe=function(e,t,i){t="string"==typeof t?[t]:t;for(var n,s,o=0,r=t.length;r>o;o++)s=t[o],e.addEventListener?e.addEventListener(s,i,!1):(n=function(t){"target"in t||(t.target=t.srcElement),t.preventDefault=t.preventDefault||function(){this.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){this.cancelBubble=!0},i.call(e,t)},e.attachEvent("on"+s,n));return{stop:function(){for(var s,o=0,r=t.length;r>o;o++)s=t[o],e.removeEventListener?e.removeEventListener(s,i,!1):e.detachEvent("on"+s,n)}}},wysihtml5.dom.parse=function(){function e(e,i,n,s){wysihtml5.lang.object(u).merge(h).merge(i).get(),n=n||e.ownerDocument||document;var o,r,a,l=n.createDocumentFragment(),c="string"==typeof e;for(o=c?wysihtml5.dom.getAsDom(e,n):e;o.firstChild;)a=o.firstChild,o.removeChild(a),r=t(a,s),r&&l.appendChild(r);return o.innerHTML="",o.appendChild(l),c?wysihtml5.quirks.getCorrectInnerHTML(o):o}function t(e,i){var n,s=e.nodeType,o=e.childNodes,r=o.length,c=a[s],h=0;if(n=c&&c(e),!n)return null;for(h=0;r>h;h++)newChild=t(o[h],i),newChild&&n.appendChild(newChild);return i&&n.childNodes.length<=1&&n.nodeName.toLowerCase()===l&&!n.attributes.length?n.firstChild:n}function i(e){var t,i,s=u.tags,o=e.nodeName.toLowerCase(),r=e.scopeName;if(e._wysihtml5)return null;if(e._wysihtml5=1,"wysihtml5-temp"===e.className)return null;if(r&&"HTML"!=r&&(o=r+":"+o),"outerHTML"in e&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==e.nodeName||"</p>"===e.outerHTML.slice(-4).toLowerCase()||(o="div")),o in s){if(t=s[o],!t||t.remove)return null;t="string"==typeof t?{rename_tag:t}:t}else{if(!e.firstChild)return null;t={rename_tag:l}}return i=e.ownerDocument.createElement(t.rename_tag||o),n(e,i,t),e=null,i}function n(e,t,i){var n,o,r,a,l,h,d,g={},m=i.set_class,v=i.add_class,y=i.set_attributes,b=i.check_attributes,w=u.classes,x=0,C=[],_=[],S=[],T=[];if(y&&(g=wysihtml5.lang.object(y).clone()),b)for(l in b)d=f[b[l]],d&&(h=d(s(e,l)),"string"==typeof h&&(g[l]=h));if(m&&C.push(m),v)for(l in v)d=p[v[l]],d&&(a=d(s(e,l)),"string"==typeof a&&C.push(a));for(w["_wysihtml5-temp-placeholder"]=1,T=e.getAttribute("class"),T&&(C=C.concat(T.split(c))),n=C.length;n>x;x++)r=C[x],w[r]&&_.push(r);for(o=_.length;o--;)r=_[o],wysihtml5.lang.array(S).contains(r)||S.unshift(r);S.length&&(g["class"]=S.join(" "));for(l in g)try{t.setAttribute(l,g[l])}catch(k){}g.src&&("undefined"!=typeof g.width&&t.setAttribute("width",g.width),"undefined"!=typeof g.height&&t.setAttribute("height",g.height))}function s(e,t){t=t.toLowerCase();var i=e.nodeName;if("IMG"==i&&"src"==t&&o(e)===!0)return e.src;if(d&&"outerHTML"in e){var n=e.outerHTML.toLowerCase(),s=-1!=n.indexOf(" "+t+"=");return s?e.getAttribute(t):null}return e.getAttribute(t)}function o(e){try{return e.complete&&!e.mozMatchesSelector(":-moz-broken")}catch(t){if(e.complete&&"complete"===e.readyState)return!0}}function r(e){return e.ownerDocument.createTextNode(e.data)}var a={1:i,3:r},l="span",c=/\s+/,h={tags:{},classes:{}},u={},d=!wysihtml5.browser.supportsGetAttributeCorrectly(),f={url:function(){var e=/^https?:\/\//i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),alt:function(){var e=/[^ a-z0-9_\-]/gi;return function(t){return t?t.replace(e,""):""}}(),numbers:function(){var e=/\D/g;return function(t){return t=(t||"").replace(e,""),t||null}}()},p={align_img:function(){var e={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(t){return e[String(t).toLowerCase()]}}(),align_text:function(){var e={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(t){return e[String(t).toLowerCase()]}}(),clear_br:function(){var e={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(t){return e[String(t).toLowerCase()]}}(),size_font:function(){var e={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(t){return e[String(t).charAt(0)]}}()};return e}(),wysihtml5.dom.removeEmptyTextNodes=function(e){for(var t,i=wysihtml5.lang.array(e.childNodes).get(),n=i.length,s=0;n>s;s++)t=i[s],t.nodeType===wysihtml5.TEXT_NODE&&""===t.data&&t.parentNode.removeChild(t)},wysihtml5.dom.renameElement=function(e,t){for(var i,n=e.ownerDocument.createElement(t);i=e.firstChild;)n.appendChild(i);return wysihtml5.dom.copyAttributes(["align","className"]).from(e).to(n),e.parentNode.replaceChild(n,e),n},wysihtml5.dom.replaceWithChildNodes=function(e){if(e.parentNode){if(!e.firstChild)return void e.parentNode.removeChild(e);for(var t=e.ownerDocument.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e),e=t=null}},function(e){function t(t){return"block"===e.getStyle("display").from(t)}function i(e){return"BR"===e.nodeName}function n(e){var t=e.ownerDocument.createElement("br");e.appendChild(t)}function s(e){if("MENU"===e.nodeName||"UL"===e.nodeName||"OL"===e.nodeName){var s,o,r,a,l,c=e.ownerDocument,h=c.createDocumentFragment(),u=e.previousElementSibling||e.previousSibling;for(u&&!t(u)&&n(h);l=e.firstChild;){for(o=l.lastChild;s=l.firstChild;)r=s===o,a=r&&!t(s)&&!i(s),h.appendChild(s),a&&n(h);l.parentNode.removeChild(l)}e.parentNode.replaceChild(h,e)}}e.resolveList=s}(wysihtml5.dom),function(e){var t=document,i=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],n=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],s=["referrer","write","open","close"];e.dom.Sandbox=Base.extend({constructor:function(t,i){this.callback=t||e.EMPTY_FUNCTION,this.config=e.lang.object({}).merge(i).get(),this.iframe=this._createIframe()},insertInto:function(e){"string"==typeof e&&(e=t.getElementById(e)),e.appendChild(this.iframe)},getIframe:function(){return this.iframe},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var e=this.getIframe();e.parentNode.removeChild(e)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var i=this,n=t.createElement("iframe");return n.className="wysihtml5-sandbox",e.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(n),e.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(n.src="javascript:'<html></html>'"),n.onload=function(){n.onreadystatechange=n.onload=null,i._onLoadIframe(n)},n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&(n.onreadystatechange=n.onload=null,i._onLoadIframe(n))},n},_onLoadIframe:function(o){if(e.dom.contains(t.documentElement,o)){var r=this,a=o.contentWindow,l=o.contentWindow.document,c=t.characterSet||t.charset||"utf-8",h=this._getHtml({charset:c,stylesheets:this.config.stylesheets});if(l.open("text/html","replace"),l.write(h),l.close(),this.getWindow=function(){return o.contentWindow},this.getDocument=function(){return o.contentWindow.document},a.onerror=function(e,t,i){throw new Error("wysihtml5.Sandbox: "+e,t,i)},!e.browser.supportsSandboxedIframes()){var u,d;for(u=0,d=i.length;d>u;u++)this._unset(a,i[u]);for(u=0,d=n.length;d>u;u++)this._unset(a,n[u],e.EMPTY_FUNCTION);for(u=0,d=s.length;d>u;u++)this._unset(l,s[u]);this._unset(l,"cookie","",!0)}this.loaded=!0,setTimeout(function(){r.callback(r)},0)}},_getHtml:function(t){var i,n=t.stylesheets,s="",o=0;if(n="string"==typeof n?[n]:n)for(i=n.length;i>o;o++)s+='<link rel="stylesheet" href="'+n[o]+'">';return t.stylesheets=s,e.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(t)},_unset:function(t,i,n,s){try{t[i]=n}catch(o){}try{t.__defineGetter__(i,function(){return n})}catch(o){}if(s)try{t.__defineSetter__(i,function(){})}catch(o){}if(!e.browser.crashesWhenDefineProperty(i))try{var r={get:function(){return n}};s&&(r.set=function(){}),Object.defineProperty(t,i,r)}catch(o){}}})}(wysihtml5),function(){var e={className:"class"};wysihtml5.dom.setAttributes=function(t){return{on:function(i){for(var n in t)i.setAttribute(e[n]||n,t[n])}}}}(),wysihtml5.dom.setStyles=function(e){return{on:function(t){var i=t.style;if("string"==typeof e)return void(i.cssText+=";"+e);for(var n in e)"float"===n?(i.cssFloat=e[n],i.styleFloat=e[n]):i[n]=e[n]}}},function(e){e.simulatePlaceholder=function(t,i,n){var s="placeholder",o=function(){i.hasPlaceholderSet()&&i.clear(),e.removeClass(i.element,s)},r=function(){i.isEmpty()&&(i.setValue(n),e.addClass(i.element,s))};t.observe("set_placeholder",r).observe("unset_placeholder",o).observe("focus:composer",o).observe("paste:composer",o).observe("blur:composer",r),r()}}(wysihtml5.dom),function(e){var t=document.documentElement;"textContent"in t?(e.setTextContent=function(e,t){e.textContent=t},e.getTextContent=function(e){return e.textContent}):"innerText"in t?(e.setTextContent=function(e,t){e.innerText=t},e.getTextContent=function(e){return e.innerText}):(e.setTextContent=function(e,t){e.nodeValue=t},e.getTextContent=function(e){return e.nodeValue})}(wysihtml5.dom),wysihtml5.quirks.cleanPastedHTML=function(){function e(e,i,n){i=i||t,n=n||e.ownerDocument||document;var s,o,r,a,l,c="string"==typeof e,h=0;s=c?wysihtml5.dom.getAsDom(e,n):e;for(l in i)for(r=s.querySelectorAll(l),o=i[l],a=r.length;a>h;h++)o(r[h]);return r=e=i=null,c?s.innerHTML:s}var t={"a u":wysihtml5.dom.replaceWithChildNodes};return e}(),function(e){var t=e.dom;e.quirks.ensureProperClearing=function(){var e=function(){var e=this;setTimeout(function(){var t=e.innerHTML.toLowerCase();("<p>&nbsp;</p>"==t||"<p>&nbsp;</p><p>&nbsp;</p>"==t)&&(e.innerHTML="")},0)};return function(i){t.observe(i.element,["cut","keydown"],e)}}(),e.quirks.ensureProperClearingOfLists=function(){var i=["OL","UL","MENU"],n=function(n,s){if(s.firstChild&&e.lang.array(i).contains(s.firstChild.nodeName)){var o=t.getParentElement(n,{nodeName:i});
if(o){var r=o==s.firstChild;if(r){var a=o.childNodes.length<=1;if(a){var l=o.firstChild?""===o.firstChild.innerHTML:!0;l&&o.parentNode.removeChild(o)}}}}};return function(i){t.observe(i.element,"keydown",function(t){if(t.keyCode===e.BACKSPACE_KEY){var s=i.selection.getSelectedNode();n(s,i.element)}})}}()}(wysihtml5),function(e){var t="%7E";e.quirks.getCorrectInnerHTML=function(i){var n=i.innerHTML;if(-1===n.indexOf(t))return n;var s,o,r,a,l=i.querySelectorAll("[href*='~'], [src*='~']");for(a=0,r=l.length;r>a;a++)s=l[a].href||l[a].src,o=e.lang.string(s).replace("~").by(t),n=e.lang.string(n).replace(o).by(s);return n}}(wysihtml5),function(e){var t=e.dom,i=["LI","P","H1","H2","H3","H4","H5","H6"],n=["UL","OL","MENU"];e.quirks.insertLineBreakOnReturn=function(s){function o(i){var n=t.getParentElement(i,{nodeName:["P","DIV"]},2);if(n){var o=document.createTextNode(e.INVISIBLE_SPACE);t.insert(o).before(n),t.replaceWithChildNodes(n),s.selection.selectNode(o)}}function r(r){var a=r.keyCode;if(!(r.shiftKey||a!==e.ENTER_KEY&&a!==e.BACKSPACE_KEY)){var l=(r.target,s.selection.getSelectedNode()),c=t.getParentElement(l,{nodeName:i},4);return c?void("LI"!==c.nodeName||a!==e.ENTER_KEY&&a!==e.BACKSPACE_KEY?c.nodeName.match(/H[1-6]/)&&a===e.ENTER_KEY&&setTimeout(function(){o(s.selection.getSelectedNode())},0):setTimeout(function(){var e,i=s.selection.getSelectedNode();i&&(e=t.getParentElement(i,{nodeName:n},2),e||o(i))},0)):void(a!==e.ENTER_KEY||e.browser.insertsLineBreaksOnReturn()||(s.commands.exec("insertLineBreak"),r.preventDefault()))}}t.observe(s.element.ownerDocument,"keydown",r)}}(wysihtml5),function(e){var t="wysihtml5-quirks-redraw";e.quirks.redraw=function(i){e.dom.addClass(i,t),e.dom.removeClass(i,t);try{var n=i.ownerDocument;n.execCommand("italic",!1,null),n.execCommand("italic",!1,null)}catch(s){}}}(wysihtml5),function(e){function t(e){var t=0;if(e.parentNode)do t+=e.offsetTop||0,e=e.offsetParent;while(e);return t}var i=e.dom;e.Selection=Base.extend({constructor:function(e){window.rangy.init(),this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},getBookmark:function(){var e=this.getRange();return e&&e.cloneRange()},setBookmark:function(e){e&&this.setSelection(e)},setBefore:function(e){var t=rangy.createRange(this.doc);return t.setStartBefore(e),t.setEndBefore(e),this.setSelection(t)},setAfter:function(e){var t=rangy.createRange(this.doc);return t.setStartAfter(e),t.setEndAfter(e),this.setSelection(t)},selectNode:function(t){var n=rangy.createRange(this.doc),s=t.nodeType===e.ELEMENT_NODE,o="canHaveHTML"in t?t.canHaveHTML:"IMG"!==t.nodeName,r=s?t.innerHTML:t.data,a=""===r||r===e.INVISIBLE_SPACE,l=i.getStyle("display").from(t),c="block"===l||"list-item"===l;if(a&&s&&o)try{t.innerHTML=e.INVISIBLE_SPACE}catch(h){}o?n.selectNodeContents(t):n.selectNode(t),o&&a&&s?n.collapse(c):o&&a&&(n.setStartAfter(t),n.setEndAfter(t)),this.setSelection(n)},getSelectedNode:function(e){var t,i;return e&&this.doc.selection&&"Control"===this.doc.selection.type&&(i=this.doc.selection.createRange(),i&&i.length)?i.item(0):(t=this.getSelection(this.doc),t.focusNode===t.anchorNode?t.focusNode:(i=this.getRange(this.doc),i?i.commonAncestorContainer:this.doc.body))},executeAndRestore:function(t,i){var n,s=this.doc.body,o=i&&s.scrollTop,r=i&&s.scrollLeft,a="_wysihtml5-temp-placeholder",l='<span class="'+a+'">'+e.INVISIBLE_SPACE+"</span>",c=this.getRange(this.doc);if(!c)return void t(s,s);var h=c.createContextualFragment(l);c.insertNode(h);try{t(c.startContainer,c.endContainer)}catch(u){setTimeout(function(){throw u},0)}caretPlaceholder=this.doc.querySelector("."+a),caretPlaceholder?(n=rangy.createRange(this.doc),n.selectNode(caretPlaceholder),n.deleteContents(),this.setSelection(n)):s.focus(),i&&(s.scrollTop=o,s.scrollLeft=r);try{caretPlaceholder.parentNode.removeChild(caretPlaceholder)}catch(d){}},executeAndRestoreSimple:function(e){var t,i,n,s,o,r=this.getRange(),a=this.doc.body;if(!r)return void e(a,a);s=r.getNodes([3]),i=s[0]||r.startContainer,n=s[s.length-1]||r.endContainer,o={collapsed:r.collapsed,startContainer:i,startOffset:i===r.startContainer?r.startOffset:0,endContainer:n,endOffset:n===r.endContainer?r.endOffset:n.length};try{e(r.startContainer,r.endContainer)}catch(l){setTimeout(function(){throw l},0)}t=rangy.createRange(this.doc);try{t.setStart(o.startContainer,o.startOffset)}catch(c){}try{t.setEnd(o.endContainer,o.endOffset)}catch(h){}try{this.setSelection(t)}catch(u){}},insertHTML:function(e){var t=rangy.createRange(this.doc),i=t.createContextualFragment(e),n=i.lastChild;this.insertNode(i),n&&this.setAfter(n)},insertNode:function(e){var t=this.getRange();t&&t.insertNode(e)},surround:function(e){var t=this.getRange();if(t)try{t.surroundContents(e),this.selectNode(e)}catch(i){e.appendChild(t.extractContents()),t.insertNode(e)}},scrollIntoView:function(){var i,n=this.doc,s=n.documentElement.scrollHeight>n.documentElement.offsetHeight,o=n._wysihtml5ScrollIntoViewElement=n._wysihtml5ScrollIntoViewElement||function(){var t=n.createElement("span");return t.innerHTML=e.INVISIBLE_SPACE,t}();s&&(this.insertNode(o),i=t(o),o.parentNode.removeChild(o),i>n.body.scrollTop&&(n.body.scrollTop=i))},selectLine:function(){e.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var e=this.doc.defaultView,t=e.getSelection();t.modify("extend","left","lineboundary"),t.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var e,t,i,n,s,o=this.doc.selection.createRange(),r=o.boundingTop,a=(o.boundingHeight,this.doc.body.scrollWidth);if(o.moveToPoint){for(0===r&&(i=this.doc.createElement("span"),this.insertNode(i),r=i.offsetTop,i.parentNode.removeChild(i)),r+=1,n=-10;a>n;n+=2)try{o.moveToPoint(n,r);break}catch(l){}for(e=r,t=this.doc.selection.createRange(),s=a;s>=0;s--)try{t.moveToPoint(s,e);break}catch(c){}o.setEndPoint("EndToEnd",t),o.select()}},getText:function(){var e=this.getSelection();return e?e.toString():""},getNodes:function(e,t){var i=this.getRange();return i?i.getNodes([e],t):[]},getRange:function(){var e=this.getSelection();return e&&e.rangeCount&&e.getRangeAt(0)},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(e){var t=this.doc.defaultView||this.doc.parentWindow,i=rangy.getSelection(t);return i.setSingleRange(e)}})}(wysihtml5),function(e,t){function i(e,t,i){if(!e.className)return!1;var n=e.className.match(i)||[];return n[n.length-1]===t}function n(e,t,i){e.className?(s(e,i),e.className+=" "+t):e.className=t}function s(e,t){e.className&&(e.className=e.className.replace(t,""))}function o(e,t){return e.className.replace(f," ")==t.className.replace(f," ")}function r(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}function a(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var i,n,s,o=0,r=e.attributes.length;r>o;++o)if(i=e.attributes[o],s=i.name,"class"!=s){if(n=t.attributes.getNamedItem(s),i.specified!=n.specified)return!1;if(i.specified&&i.nodeValue!==n.nodeValue)return!1}return!0}function l(e,i){return t.dom.isCharacterDataNode(e)?0==i?!!e.previousSibling:i==e.length?!!e.nextSibling:!0:i>0&&i<e.childNodes.length}function c(e,i,n){var s;if(t.dom.isCharacterDataNode(i)&&(0==n?(n=t.dom.getNodeIndex(i),i=i.parentNode):n==i.length?(n=t.dom.getNodeIndex(i)+1,i=i.parentNode):s=t.dom.splitDataNode(i,n)),!s){s=i.cloneNode(!1),s.id&&s.removeAttribute("id");for(var o;o=i.childNodes[n];)s.appendChild(o);t.dom.insertAfter(s,i)}return i==e?s:c(e,s.parentNode,t.dom.getNodeIndex(s))}function h(t){this.isElementMerge=t.nodeType==e.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?t.lastChild:t,this.textNodes=[this.firstTextNode]}function u(e,t,i,n){this.tagNames=e||[d],this.cssClass=t||"",this.similarClassRegExp=i,this.normalize=n,this.applyToAnyTagName=!1}var d="span",f=/\s+/g;h.prototype={doMerge:function(){for(var e,t,i,n=[],s=0,o=this.textNodes.length;o>s;++s)e=this.textNodes[s],t=e.parentNode,n[s]=e.data,s&&(t.removeChild(e),t.hasChildNodes()||t.parentNode.removeChild(t));return this.firstTextNode.data=i=n.join(""),i},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){for(var e=[],t=0,i=this.textNodes.length;i>t;++t)e[t]="'"+this.textNodes[t].data+"'";return"[Merge("+e.join(",")+")]"}},u.prototype={getAncestorWithClass:function(n){for(var s;n;){if(s=this.cssClass?i(n,this.cssClass,this.similarClassRegExp):!0,n.nodeType==e.ELEMENT_NODE&&t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&s)return n;n=n.parentNode}return!1},postApply:function(e,t){for(var i,n,s,o=e[0],r=e[e.length-1],a=[],l=o,c=r,u=0,d=r.length,f=0,p=e.length;p>f;++f)n=e[f],s=this.getAdjacentMergeableTextNode(n.parentNode,!1),s?(i||(i=new h(s),a.push(i)),i.textNodes.push(n),n===o&&(l=i.firstTextNode,u=l.length),n===r&&(c=i.firstTextNode,d=i.getLength())):i=null;var g=this.getAdjacentMergeableTextNode(r.parentNode,!0);if(g&&(i||(i=new h(r),a.push(i)),i.textNodes.push(g)),a.length){for(f=0,p=a.length;p>f;++f)a[f].doMerge();t.setStart(l,u),t.setEnd(c,d)}},getAdjacentMergeableTextNode:function(t,i){var n,s=t.nodeType==e.TEXT_NODE,o=s?t.parentNode:t,r=i?"nextSibling":"previousSibling";if(s){if(n=t[r],n&&n.nodeType==e.TEXT_NODE)return n}else if(n=o[r],n&&this.areElementsMergeable(t,n))return n[i?"firstChild":"lastChild"];return null},areElementsMergeable:function(e,i){return t.dom.arrayContains(this.tagNames,(e.tagName||"").toLowerCase())&&t.dom.arrayContains(this.tagNames,(i.tagName||"").toLowerCase())&&o(e,i)&&a(e,i)},createContainer:function(e){var t=e.createElement(this.tagNames[0]);return this.cssClass&&(t.className=this.cssClass),t},applyToTextNode:function(e){var i=e.parentNode;if(1==i.childNodes.length&&t.dom.arrayContains(this.tagNames,i.tagName.toLowerCase()))this.cssClass&&n(i,this.cssClass,this.similarClassRegExp);else{var s=this.createContainer(t.dom.getDocument(e));e.parentNode.insertBefore(s,e),s.appendChild(e)}},isRemovable:function(i){return t.dom.arrayContains(this.tagNames,i.tagName.toLowerCase())&&e.lang.string(i.className).trim()==this.cssClass},undoToTextNode:function(e,t,i){if(!t.containsNode(i)){var n=t.cloneRange();n.selectNode(i),n.isPointInRange(t.endContainer,t.endOffset)&&l(t.endContainer,t.endOffset)&&(c(i,t.endContainer,t.endOffset),t.setEndAfter(i)),n.isPointInRange(t.startContainer,t.startOffset)&&l(t.startContainer,t.startOffset)&&(i=c(i,t.startContainer,t.startOffset))}this.similarClassRegExp&&s(i,this.similarClassRegExp),this.isRemovable(i)&&r(i)},applyToRange:function(t){var i=t.getNodes([e.TEXT_NODE]);if(!i.length)try{var n=this.createContainer(t.endContainer.ownerDocument);return t.surroundContents(n),void this.selectNode(t,n)}catch(s){}if(t.splitBoundaries(),i=t.getNodes([e.TEXT_NODE]),i.length){for(var o,r=0,a=i.length;a>r;++r)o=i[r],this.getAncestorWithClass(o)||this.applyToTextNode(o);t.setStart(i[0],0),o=i[i.length-1],t.setEnd(o,o.length),this.normalize&&this.postApply(i,t)}},undoToRange:function(t){var i,n,s=t.getNodes([e.TEXT_NODE]);if(s.length)t.splitBoundaries(),s=t.getNodes([e.TEXT_NODE]);else{var o=t.endContainer.ownerDocument,r=o.createTextNode(e.INVISIBLE_SPACE);t.insertNode(r),t.selectNode(r),s=[r]}for(var a=0,l=s.length;l>a;++a)i=s[a],n=this.getAncestorWithClass(i),n&&this.undoToTextNode(i,t,n);1==l?this.selectNode(t,s[0]):(t.setStart(s[0],0),i=s[s.length-1],t.setEnd(i,i.length),this.normalize&&this.postApply(s,t))},selectNode:function(t,i){var n=i.nodeType===e.ELEMENT_NODE,s="canHaveHTML"in i?i.canHaveHTML:!0,o=n?i.innerHTML:i.data,r=""===o||o===e.INVISIBLE_SPACE;if(r&&n&&s)try{i.innerHTML=e.INVISIBLE_SPACE}catch(a){}t.selectNodeContents(i),r&&n?t.collapse(!1):r&&(t.setStartAfter(i),t.setEndAfter(i))},getTextSelectedByRange:function(e,t){var i=t.cloneRange();i.selectNodeContents(e);var n=i.intersection(t),s=n?n.toString():"";return i.detach(),s},isAppliedToRange:function(t){var i,n=[],s=t.getNodes([e.TEXT_NODE]);if(!s.length)return i=this.getAncestorWithClass(t.startContainer),i?[i]:!1;for(var o,r=0,a=s.length;a>r;++r){if(o=this.getTextSelectedByRange(s[r],t),i=this.getAncestorWithClass(s[r]),""!=o&&!i)return!1;n.push(i)}return n},toggleRange:function(e){this.isAppliedToRange(e)?this.undoToRange(e):this.applyToRange(e)}},e.selection.HTMLApplier=u}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},support:function(e){return wysihtml5.browser.supportsCommand(this.doc,e)},exec:function(e,t){var i=wysihtml5.commands[e],n=wysihtml5.lang.array(arguments).get(),s=i&&i.exec,o=null;if(this.editor.fire("beforecommand:composer"),s)n.unshift(this.composer),o=s.apply(i,n);else try{o=this.doc.execCommand(e,!1,t)}catch(r){}return this.editor.fire("aftercommand:composer"),o},state:function(e){var t=wysihtml5.commands[e],i=wysihtml5.lang.array(arguments).get(),n=t&&t.state;if(n)return i.unshift(this.composer),n.apply(t,i);try{return this.doc.queryCommandState(e)}catch(s){return!1}},value:function(e){var t=wysihtml5.commands[e],i=t&&t.value;if(i)return i.call(t,this.composer,e);try{return this.doc.queryCommandValue(e)}catch(n){return null}}}),function(e){var t;e.commands.bold={exec:function(t,i){return e.commands.formatInline.exec(t,i,"b")},state:function(t,i){return e.commands.formatInline.state(t,i,"b")},value:function(){return t}}}(wysihtml5),function(e){function t(e,t){for(var i,n,s,r=t.length,a=0;r>a;a++)i=t[a],n=o.getParentElement(i,{nodeName:"code"}),s=o.getTextContent(i),s.match(o.autoLink.URL_REG_EXP)&&!n?n=o.renameElement(i,"code"):o.replaceWithChildNodes(i)}function i(t,i){var r,a,l,c,h,u,d,f,p,g=t.doc,m="_wysihtml5-temp-"+ +new Date,v=/non-matching-class/g,y=0;for(e.commands.formatInline.exec(t,n,s,m,v),a=g.querySelectorAll(s+"."+m),r=a.length;r>y;y++){l=a[y],l.removeAttribute("class");for(p in i)l.setAttribute(p,i[p])}u=l,1===r&&(d=o.getTextContent(l),c=!!l.querySelector("*"),h=""===d||d===e.INVISIBLE_SPACE,!c&&h&&(o.setTextContent(l,i.text||l.href),f=g.createTextNode(" "),t.selection.setAfter(l),t.selection.insertNode(f),u=f)),t.selection.setAfter(u)}var n,s="A",o=e.dom;e.commands.createLink={exec:function(e,n,s){var o=this.state(e,n);o?e.selection.executeAndRestore(function(){t(e,o)}):(s="object"==typeof s?s:{href:s},i(e,s))},state:function(t,i){return e.commands.formatInline.state(t,i,"A")},value:function(){return n}}}(wysihtml5),function(e){var t,i=/wysiwyg-font-size-[a-z\-]+/g;e.commands.fontSize={exec:function(t,n,s){return e.commands.formatInline.exec(t,n,"span","wysiwyg-font-size-"+s,i)},state:function(t,n,s){return e.commands.formatInline.state(t,n,"span","wysiwyg-font-size-"+s,i)},value:function(){return t}}}(wysihtml5),function(e){var t,i=/wysiwyg-color-[a-z]+/g;e.commands.foreColor={exec:function(t,n,s){return e.commands.formatInline.exec(t,n,"span","wysiwyg-color-"+s,i)},state:function(t,n,s){return e.commands.formatInline.state(t,n,"span","wysiwyg-color-"+s,i)},value:function(){return t}}}(wysihtml5),function(e){function t(e,t,n){e.className?(i(e,n),e.className+=" "+t):e.className=t}function i(e,t){e.className=e.className.replace(t,"")}function n(t){return t.nodeType===e.TEXT_NODE&&!e.lang.string(t.data).trim()}function s(e){for(var t=e.previousSibling;t&&n(t);)t=t.previousSibling;return t}function o(e){for(var t=e.nextSibling;t&&n(t);)t=t.nextSibling;return t}function r(e){var t=e.ownerDocument,i=o(e),n=s(e);i&&!h(i)&&e.parentNode.insertBefore(t.createElement("br"),i),n&&!h(n)&&e.parentNode.insertBefore(t.createElement("br"),e)}function a(e){var t=o(e),i=s(e);t&&c(t)&&t.parentNode.removeChild(t),i&&c(i)&&i.parentNode.removeChild(i)}function l(e){var t=e.lastChild;t&&c(t)&&t.parentNode.removeChild(t)}function c(e){return"BR"===e.nodeName}function h(e){return c(e)?!0:"block"===g.getStyle("display").from(e)?!0:!1}function u(t,i,n,s){if(s)var o=g.observe(t,"DOMNodeInserted",function(t){var i,n=t.target;n.nodeType===e.ELEMENT_NODE&&(i=g.getStyle("display").from(n),"inline"!==i.substr(0,6)&&(n.className+=" "+s))});t.execCommand(i,!1,n),o&&o.stop()}function d(e,t){e.selection.selectLine(),e.selection.surround(t),a(t),l(t),e.selection.selectNode(t)}function f(t){return!!e.lang.string(t.className).trim()}var p,g=e.dom,m="DIV",v=["H1","H2","H3","H4","H5","H6","P","BLOCKQUOTE",m];e.commands.formatBlock={exec:function(n,s,o,a,l){var c,h=n.doc,p=this.state(n,s,o,a,l);return o="string"==typeof o?o.toUpperCase():o,p?void n.selection.executeAndRestoreSimple(function(){l&&i(p,l);var e=f(p);e||p.nodeName!==(o||m)?e&&g.renameElement(p,m):(r(p),g.replaceWithChildNodes(p))}):(null===o||e.lang.array(v).contains(o))&&(c=n.selection.getSelectedNode(),p=g.getParentElement(c,{nodeName:v}))?void n.selection.executeAndRestoreSimple(function(){o&&(p=g.renameElement(p,o)),a&&t(p,a,l)}):n.commands.support(s)?void u(h,s,o||m,a):(p=h.createElement(o||m),a&&(p.className=a),void d(n,p))},state:function(e,t,i,n,s){i="string"==typeof i?i.toUpperCase():i;var o=e.selection.getSelectedNode();return g.getParentElement(o,{nodeName:i,className:n,classRegExp:s})},value:function(){return p}}}(wysihtml5),function(e){function t(e){var t=s[e];return t?[e.toLowerCase(),t.toLowerCase()]:[e.toLowerCase()]}function i(i,n,s){var r=i+":"+n;return o[r]||(o[r]=new e.selection.HTMLApplier(t(i),n,s,!0)),o[r]}var n,s={strong:"b",em:"i",b:"strong",i:"em"},o={};e.commands.formatInline={exec:function(e,t,n,s,o){var r=e.selection.getRange();return r?(i(n,s,o).toggleRange(r),void e.selection.setSelection(r)):!1},state:function(t,n,o,r,a){var l,c=t.doc,h=s[o]||o;return e.dom.hasElementWithTagName(c,o)||e.dom.hasElementWithTagName(c,h)?r&&!e.dom.hasElementWithClassName(c,r)?!1:(l=t.selection.getRange(),l?i(o,r,a).isAppliedToRange(l):!1):!1},value:function(){return n}}}(wysihtml5),function(e){var t;e.commands.insertHTML={exec:function(e,t,i){e.commands.support(t)?e.doc.execCommand(t,!1,i):e.selection.insertHTML(i)},state:function(){return!1},value:function(){return t}}}(wysihtml5),function(e){var t="IMG";e.commands.insertImage={exec:function(i,n,s){s="object"==typeof s?s:{src:s};var o,r,a,l=i.doc,c=this.state(i);if(c)return i.selection.setBefore(c),a=c.parentNode,a.removeChild(c),e.dom.removeEmptyTextNodes(a),"A"!==a.nodeName||a.firstChild||(i.selection.setAfter(a),a.parentNode.removeChild(a)),void e.quirks.redraw(i.element);c=l.createElement(t);for(r in s)c[r]=s[r];i.selection.insertNode(c),e.browser.hasProblemsSettingCaretAfterImg()?(o=l.createTextNode(e.INVISIBLE_SPACE),i.selection.insertNode(o),i.selection.setAfter(o)):i.selection.setAfter(c)},state:function(i){var n,s,o,r=i.doc;return e.dom.hasElementWithTagName(r,t)&&(n=i.selection.getSelectedNode())?n.nodeName===t?n:n.nodeType!==e.ELEMENT_NODE?!1:(s=i.selection.getText(),(s=e.lang.string(s).trim())?!1:(o=i.selection.getNodes(e.ELEMENT_NODE,function(e){return"IMG"===e.nodeName}),1!==o.length?!1:o[0])):!1},value:function(e){var t=this.state(e);return t&&t.src}}}(wysihtml5),function(e){var t,i="<br>"+(e.browser.needsSpaceAfterLineBreak()?" ":"");e.commands.insertLineBreak={exec:function(t,n){t.commands.support(n)?(t.doc.execCommand(n,!1,null),e.browser.autoScrollsToCaret()||t.selection.scrollIntoView()):t.commands.exec("insertHTML",i)},state:function(){return!1},value:function(){return t}}}(wysihtml5),function(e){var t;e.commands.insertOrderedList={exec:function(t,i){var n,s,o=t.doc,r=t.selection.getSelectedNode(),a=e.dom.getParentElement(r,{nodeName:"OL"}),l=e.dom.getParentElement(r,{nodeName:"UL"}),c="_wysihtml5-temp-"+(new Date).getTime();return t.commands.support(i)?void o.execCommand(i,!1,null):void(a?t.selection.executeAndRestoreSimple(function(){e.dom.resolveList(a)}):l?t.selection.executeAndRestoreSimple(function(){e.dom.renameElement(l,"ol")}):(t.commands.exec("formatBlock","div",c),s=o.querySelector("."+c),n=""===s.innerHTML||s.innerHTML===e.INVISIBLE_SPACE,t.selection.executeAndRestoreSimple(function(){a=e.dom.convertToList(s,"ol")}),n&&t.selection.selectNode(a.querySelector("li"))))},state:function(t){var i=t.selection.getSelectedNode();return e.dom.getParentElement(i,{nodeName:"OL"})},value:function(){return t}}}(wysihtml5),function(e){var t;e.commands.insertUnorderedList={exec:function(t,i){var n,s,o=t.doc,r=t.selection.getSelectedNode(),a=e.dom.getParentElement(r,{nodeName:"UL"}),l=e.dom.getParentElement(r,{nodeName:"OL"}),c="_wysihtml5-temp-"+(new Date).getTime();return t.commands.support(i)?void o.execCommand(i,!1,null):void(a?t.selection.executeAndRestoreSimple(function(){e.dom.resolveList(a)}):l?t.selection.executeAndRestoreSimple(function(){e.dom.renameElement(l,"ul")}):(t.commands.exec("formatBlock","div",c),s=o.querySelector("."+c),n=""===s.innerHTML||s.innerHTML===e.INVISIBLE_SPACE,t.selection.executeAndRestoreSimple(function(){a=e.dom.convertToList(s,"ul")}),n&&t.selection.selectNode(a.querySelector("li"))))},state:function(t){var i=t.selection.getSelectedNode();return e.dom.getParentElement(i,{nodeName:"UL"})},value:function(){return t}}}(wysihtml5),function(e){var t;e.commands.italic={exec:function(t,i){return e.commands.formatInline.exec(t,i,"i")},state:function(t,i){return e.commands.formatInline.state(t,i,"i")},value:function(){return t}}}(wysihtml5),function(e){var t,i="wysiwyg-text-align-center",n=/wysiwyg-text-align-[a-z]+/g;e.commands.justifyCenter={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,i,n)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,i,n)},value:function(){return t}}}(wysihtml5),function(e){var t,i="wysiwyg-text-align-left",n=/wysiwyg-text-align-[a-z]+/g;e.commands.justifyLeft={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,i,n)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,i,n)},value:function(){return t}}}(wysihtml5),function(e){var t,i="wysiwyg-text-align-right",n=/wysiwyg-text-align-[a-z]+/g;e.commands.justifyRight={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,i,n)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,i,n)},value:function(){return t}}}(wysihtml5),function(e){var t;e.commands.underline={exec:function(t,i){return e.commands.formatInline.exec(t,i,"u")},state:function(t,i){return e.commands.formatInline.state(t,i,"u")},value:function(){return t}}}(wysihtml5),function(e){function t(e){for(var t;t=e.querySelector("._wysihtml5-temp");)t.parentNode.removeChild(t)}var i=90,n=89,s=8,o=46,r=40,a='<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+e.INVISIBLE_SPACE+"</span>",l='<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+e.INVISIBLE_SPACE+"</span>",c=e.dom;e.UndoManager=e.lang.Dispatcher.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.element=this.composer.element,this.history=[this.composer.getValue()],this.position=1,this.composer.commands.support("insertHTML")&&this._observe()},_observe:function(){var r,h=this,u=this.composer.sandbox.getDocument();if(c.observe(this.element,"keydown",function(e){if(!e.altKey&&(e.ctrlKey||e.metaKey)){var t=e.keyCode,s=t===i&&!e.shiftKey,o=t===i&&e.shiftKey||t===n;s?(h.undo(),e.preventDefault()):o&&(h.redo(),e.preventDefault())}}),c.observe(this.element,"keydown",function(e){var t=e.keyCode;t!==r&&(r=t,(t===s||t===o)&&h.transact())}),e.browser.hasUndoInContextMenu()){var d,f,p=function(){t(u),clearInterval(d)};c.observe(this.element,"contextmenu",function(){p(),h.composer.selection.executeAndRestoreSimple(function(){h.element.lastChild&&h.composer.selection.setAfter(h.element.lastChild),u.execCommand("insertHTML",!1,a),u.execCommand("insertHTML",!1,l),u.execCommand("undo",!1,null)}),d=setInterval(function(){u.getElementById("_wysihtml5-redo")?(p(),h.redo()):u.getElementById("_wysihtml5-undo")||(p(),h.undo())},400),f||(f=!0,c.observe(document,"mousedown",p),c.observe(u,["mousedown","paste","cut","copy"],p))})}this.editor.observe("newword:composer",function(){h.transact()}).observe("beforecommand:composer",function(){h.transact()})},transact:function(){var e=this.history[this.position-1],t=this.composer.getValue();if(t!=e){var i=this.history.length=this.position;i>r&&(this.history.shift(),this.position--),this.position++,this.history.push(t)}},undo:function(){this.transact(),this.position<=1||(this.set(this.history[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.position>=this.history.length||(this.set(this.history[++this.position-1]),this.editor.fire("redo:composer"))},set:function(e){this.composer.setValue(e),this.editor.focus(!0)}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(e,t,i){this.parent=e,this.element=t,this.config=i,this._observeViewChange()},_observeViewChange:function(){var e=this;this.parent.observe("beforeload",function(){e.parent.observe("change_view",function(t){t===e.name?(e.parent.currentView=e,e.show(),setTimeout(function(){e.focus()},0)):e.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(e){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(e){var t=e.dom,i=e.browser;e.views.Composer=e.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(e,t,i){this.base(e,t,i),this.textarea=this.parent.textarea,this._initSandbox()},clear:function(){this.element.innerHTML=i.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(t){var i=this.isEmpty()?"":e.quirks.getCorrectInnerHTML(this.element);return t&&(i=this.parent.parse(i)),i=e.lang.string(i).replace(e.INVISIBLE_SPACE).by("")},setValue:function(e,t){t&&(e=this.parent.parse(e)),this.element.innerHTML=e},show:function(){this.iframe.style.display=this._displayStyle||"",this.disable(),this.enable()},hide:function(){this._displayStyle=t.getStyle("display").from(this.iframe),"none"===this._displayStyle&&(this._displayStyle=null),this.iframe.style.display="none"},disable:function(){this.element.removeAttribute("contentEditable"),this.base()},enable:function(){this.element.setAttribute("contentEditable","true"),this.base()},focus:function(t){e.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var i=this.element.lastChild;t&&i&&("BR"===i.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return t.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==this.textarea.element.getAttribute("placeholder")},isEmpty:function(){var e=this.element.innerHTML,t="blockquote, ul, ol, img, embed, object, table, iframe, svg, video, audio, button, input, select, textarea";return""===e||e===this.CARET_HACK||this.hasPlaceholderSet()||""===this.getTextContent()&&!this.element.querySelector(t)},_initSandbox:function(){var e=this;this.sandbox=new t.Sandbox(function(){e._create()},{stylesheets:this.config.stylesheets}),this.iframe=this.sandbox.getIframe();var i=document.createElement("input");i.type="hidden",i.name="_wysihtml5_mode",i.value=1;var n=this.textarea.element;t.insert(this.iframe).after(n),t.insert(i).after(n)},_create:function(){var n=this;this.doc=this.sandbox.getDocument(),this.element=this.doc.body,this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0),this.enable(),this.selection=new e.Selection(this.parent),this.commands=new e.Commands(this.parent),t.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),t.addClass(this.element,this.config.composerClassName),this.config.style&&this.style(),this.observe();var s=this.config.name;s&&(t.addClass(this.element,s),t.addClass(this.iframe,s));var o="string"==typeof this.config.placeholder?this.config.placeholder:this.textarea.element.getAttribute("placeholder");o&&t.simulatePlaceholder(this.parent,this,o),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),(this.textarea.element.hasAttribute("autofocus")||document.querySelector(":focus")==this.textarea.element)&&setTimeout(function(){n.focus()},100),e.quirks.insertLineBreakOnReturn(this),i.clearsContentEditableCorrectly()||e.quirks.ensureProperClearing(this),i.clearsListsInContentEditableCorrectly()||e.quirks.ensureProperClearingOfLists(this),this.initSync&&this.config.sync&&this.initSync(),this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var n=this,s=i.canDisableAutoLinking(),o=i.doesAutoLinkingInContentEditable();if(s&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!o||o&&s)&&this.parent.observe("newword:composer",function(){n.selection.executeAndRestore(function(e,i){t.autoLink(i.parentNode)})});var r=this.sandbox.getDocument().getElementsByTagName("a"),a=t.autoLink.URL_REG_EXP,l=function(i){var n=e.lang.string(t.getTextContent(i)).trim();return"www."===n.substr(0,4)&&(n="http://"+n),n};t.observe(this.element,"keydown",function(e){if(r.length){var i,s=n.selection.getSelectedNode(e.target.ownerDocument),o=t.getParentElement(s,{nodeName:"A"},4);o&&(i=l(o),setTimeout(function(){var e=l(o);e!==i&&e.match(a)&&o.setAttribute("href",e)},0))}})}},_initObjectResizing:function(){var n=["width","height"],s=n.length,o=this.element;this.commands.exec("enableObjectResizing",this.config.allowObjectResizing),this.config.allowObjectResizing?i.supportsEvent("resizeend")&&t.observe(o,"resizeend",function(t){for(var i,r=t.target||t.srcElement,a=r.style,l=0;s>l;l++)i=n[l],a[i]&&(r.setAttribute(i,parseInt(a[i],10)),a[i]="");e.quirks.redraw(o)}):i.supportsEvent("resizestart")&&t.observe(o,"resizestart",function(e){e.preventDefault()})},_initUndoManager:function(){new e.UndoManager(this.parent)}})}(wysihtml5),function(e){var t=e.dom,i=document,n=window,s=i.createElement("div"),o=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],r=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],a=["width","height","top","left","right","bottom"],l=["html             { height: 100%; }","body             { min-height: 100%; padding: 0; margin: 0; margin-top: -1px; padding-top: 1px; }","._wysihtml5-temp { display: none; }",e.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","body[disabled]   { background-color: #eee !important; color: #999 !important; cursor: default !important; }","img:-moz-broken  { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],c=function(e){if(e.setActive)try{e.setActive()}catch(s){}else{var o=e.style,r=i.documentElement.scrollTop||i.body.scrollTop,a=i.documentElement.scrollLeft||i.body.scrollLeft,l={position:o.position,top:o.top,left:o.left,WebkitUserSelect:o.WebkitUserSelect};t.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(e),e.focus(),t.setStyles(l).on(e),n.scrollTo&&n.scrollTo(a,r)}};e.views.Composer.prototype.style=function(){var h=this,u=i.querySelector(":focus"),d=this.textarea.element,f=d.hasAttribute("placeholder"),p=f&&d.getAttribute("placeholder");this.focusStylesHost=this.focusStylesHost||s.cloneNode(!1),this.blurStylesHost=this.blurStylesHost||s.cloneNode(!1),f&&d.removeAttribute("placeholder"),d===u&&d.blur(),t.copyStyles(r).from(d).to(this.iframe).andTo(this.blurStylesHost),t.copyStyles(o).from(d).to(this.element).andTo(this.blurStylesHost),t.insertCSS(l).into(this.element.ownerDocument),c(d),t.copyStyles(r).from(d).to(this.focusStylesHost),t.copyStyles(o).from(d).to(this.focusStylesHost);
var g=e.lang.array(r).without(["display"]);if(u?u.focus():d.blur(),f&&d.setAttribute("placeholder",p),!e.browser.hasCurrentStyleProperty())var m=t.observe(n,"resize",function(){if(!t.contains(document.documentElement,h.iframe))return void m.stop();var e=t.getStyle("display").from(d),i=t.getStyle("display").from(h.iframe);d.style.display="",h.iframe.style.display="none",t.copyStyles(a).from(d).to(h.iframe).andTo(h.focusStylesHost).andTo(h.blurStylesHost),h.iframe.style.display=i,d.style.display=e});return this.parent.observe("focus:composer",function(){t.copyStyles(g).from(h.focusStylesHost).to(h.iframe),t.copyStyles(o).from(h.focusStylesHost).to(h.element)}),this.parent.observe("blur:composer",function(){t.copyStyles(g).from(h.blurStylesHost).to(h.iframe),t.copyStyles(o).from(h.blurStylesHost).to(h.element)}),this}}(wysihtml5),function(e){var t=e.dom,i=e.browser,n={66:"bold",73:"italic",85:"underline"};e.views.Composer.prototype.observe=function(){var s=this,o=this.getValue(),r=this.sandbox.getIframe(),a=this.element,l=i.supportsEventsInIframeCorrectly()?a:this.sandbox.getWindow(),c=i.supportsEvent("drop")?["drop","paste"]:["dragdrop","paste"];t.observe(r,"DOMNodeRemoved",function(){clearInterval(h),s.parent.fire("destroy:composer")});var h=setInterval(function(){t.contains(document.documentElement,r)||(clearInterval(h),s.parent.fire("destroy:composer"))},250);t.observe(l,"focus",function(){s.parent.fire("focus").fire("focus:composer"),setTimeout(function(){o=s.getValue()},0)}),t.observe(l,"blur",function(){o!==s.getValue()&&s.parent.fire("change").fire("change:composer"),s.parent.fire("blur").fire("blur:composer")}),e.browser.isIos()&&t.observe(a,"blur",function(){var e=a.ownerDocument.createElement("input"),t=document.documentElement.scrollTop||document.body.scrollTop,i=document.documentElement.scrollLeft||document.body.scrollLeft;try{s.selection.insertNode(e)}catch(n){a.appendChild(e)}e.focus(),e.parentNode.removeChild(e),window.scrollTo(i,t)}),t.observe(a,"dragenter",function(){s.parent.fire("unset_placeholder")}),i.firesOnDropOnlyWhenOnDragOverIsCancelled()&&t.observe(a,["dragover","dragenter"],function(e){e.preventDefault()}),t.observe(a,c,function(e){var t,n=e.dataTransfer;n&&i.supportsDataTransfer()&&(t=n.getData("text/html")||n.getData("text/plain")),t?(a.focus(),s.commands.exec("insertHTML",t),s.parent.fire("paste").fire("paste:composer"),e.stopPropagation(),e.preventDefault()):setTimeout(function(){s.parent.fire("paste").fire("paste:composer")},0)}),t.observe(a,"keyup",function(t){var i=t.keyCode;(i===e.SPACE_KEY||i===e.ENTER_KEY)&&s.parent.fire("newword:composer")}),this.parent.observe("paste:composer",function(){setTimeout(function(){s.parent.fire("newword:composer")},0)}),i.canSelectImagesInContentEditable()||t.observe(a,"mousedown",function(e){var t=e.target;"IMG"===t.nodeName&&(s.selection.selectNode(t),e.preventDefault())}),t.observe(a,"keydown",function(e){var t=e.keyCode,i=n[t];(e.ctrlKey||e.metaKey)&&!e.altKey&&i&&(s.commands.exec(i),e.preventDefault())}),t.observe(a,"keydown",function(t){var i,n=s.selection.getSelectedNode(!0),o=t.keyCode;!n||"IMG"!==n.nodeName||o!==e.BACKSPACE_KEY&&o!==e.DELETE_KEY||(i=n.parentNode,i.removeChild(n),"A"!==i.nodeName||i.firstChild||i.parentNode.removeChild(i),setTimeout(function(){e.quirks.redraw(a)},0),t.preventDefault())});var u={IMG:"Image: ",A:"Link: "};t.observe(a,"mouseover",function(e){var t,i=e.target,n=i.nodeName;if("A"===n||"IMG"===n){var s=i.hasAttribute("title");s||(t=u[n]+(i.getAttribute("href")||i.getAttribute("src")),i.setAttribute("title",t))}})}}(wysihtml5),function(e){var t=400;e.views.Synchronizer=Base.extend({constructor:function(e,t,i){this.editor=e,this.textarea=t,this.composer=i,this._observe()},fromComposerToTextarea:function(t){this.textarea.setValue(e.lang.string(this.composer.getValue()).trim(),t)},fromTextareaToComposer:function(e){var t=this.textarea.getValue();t?this.composer.setValue(t,e):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(e){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(e):this.fromComposerToTextarea(e)},_observe:function(){var i,n=this,s=this.textarea.element.form,o=function(){i=setInterval(function(){n.fromComposerToTextarea()},t)},r=function(){clearInterval(i),i=null};o(),s&&(e.dom.observe(s,"submit",function(){n.sync(!0)}),e.dom.observe(s,"reset",function(){setTimeout(function(){n.fromTextareaToComposer()},0)})),this.editor.observe("change_view",function(e){"composer"!==e||i?"textarea"===e&&(n.fromComposerToTextarea(!0),r()):(n.fromTextareaToComposer(!0),o())}),this.editor.observe("destroy:composer",r)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(e,t,i){this.base(e,t,i),this._observe()},clear:function(){this.element.value=""},getValue:function(e){var t=this.isEmpty()?"":this.element.value;return e&&(t=this.parent.parse(t)),t},setValue:function(e,t){t&&(e=this.parent.parse(e)),this.element.value=e},hasPlaceholderSet:function(){var e=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),t=this.element.getAttribute("placeholder")||null,i=this.element.value,n=!i;return e&&n||i===t},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var e=this.element,t=this.parent,i={focusin:"focus",focusout:"blur"},n=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];t.observe("beforeload",function(){wysihtml5.dom.observe(e,n,function(e){var n=i[e.type]||e.type;t.fire(n).fire(n+":textarea")}),wysihtml5.dom.observe(e,["paste","drop"],function(){setTimeout(function(){t.fire("paste").fire("paste:textarea")},0)})})}}),function(e){var t=e.dom,i="wysihtml5-command-dialog-opened",n="input, select, textarea",s="[data-wysihtml5-dialog-field]",o="data-wysihtml5-dialog-field";e.toolbar.Dialog=e.lang.Dispatcher.extend({constructor:function(e,t){this.link=e,this.container=t},_observe:function(){if(!this._observed){var s=this,o=function(e){var t=s._serialize();t==s.elementToChange?s.fire("edit",t):s.fire("save",t),s.hide(),e.preventDefault(),e.stopPropagation()};t.observe(s.link,"click",function(){t.hasClass(s.link,i)&&setTimeout(function(){s.hide()},0)}),t.observe(this.container,"keydown",function(t){var i=t.keyCode;i===e.ENTER_KEY&&o(t),i===e.ESCAPE_KEY&&s.hide()}),t.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",o),t.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(e){s.fire("cancel"),s.hide(),e.preventDefault(),e.stopPropagation()});for(var r=this.container.querySelectorAll(n),a=0,l=r.length,c=function(){clearInterval(s.interval)};l>a;a++)t.observe(r[a],"change",c);this._observed=!0}},_serialize:function(){for(var e=this.elementToChange||{},t=this.container.querySelectorAll(s),i=t.length,n=0;i>n;n++)e[t[n].getAttribute(o)]=t[n].value;return e},_interpolate:function(e){for(var t,i,n,r=document.querySelector(":focus"),a=this.container.querySelectorAll(s),l=a.length,c=0;l>c;c++)t=a[c],t!==r&&(e&&"hidden"===t.type||(i=t.getAttribute(o),n=this.elementToChange?this.elementToChange[i]||"":t.defaultValue,t.value=n))},show:function(e){var s=this,o=this.container.querySelector(n);if(this.elementToChange=e,this._observe(),this._interpolate(),e&&(this.interval=setInterval(function(){s._interpolate(!0)},500)),t.addClass(this.link,i),this.container.style.display="",this.fire("show"),o&&!e)try{o.focus()}catch(r){}},hide:function(){clearInterval(this.interval),this.elementToChange=null,t.removeClass(this.link,i),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(e){var t=e.dom,i={position:"relative"},n={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},s={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},o={"x-webkit-speech":"",speech:""};e.toolbar.Speech=function(r,a){var l=document.createElement("input");if(!e.browser.supportsSpeechApiOn(l))return void(a.style.display="none");var c=document.createElement("div");e.lang.object(n).merge({width:a.offsetWidth+"px",height:a.offsetHeight+"px"}),t.insert(l).into(c),t.insert(c).into(a),t.setStyles(s).on(l),t.setAttributes(o).on(l),t.setStyles(n).on(c),t.setStyles(i).on(a);var h="onwebkitspeechchange"in l?"webkitspeechchange":"speechchange";t.observe(l,h,function(){r.execCommand("insertText",l.value),l.value=""}),t.observe(l,"click",function(e){t.hasClass(a,"wysihtml5-command-disabled")&&e.preventDefault(),e.stopPropagation()})}}(wysihtml5),function(e){var t="wysihtml5-command-disabled",i="wysihtml5-commands-disabled",n="wysihtml5-command-active",s="wysihtml5-action-active",o=e.dom;e.toolbar.Toolbar=Base.extend({constructor:function(t,i){this.editor=t,this.container="string"==typeof i?document.getElementById(i):i,this.composer=t.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),this.show();for(var n=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),s=n.length,o=0;s>o;o++)new e.toolbar.Speech(this,n[o])},_getLinks:function(t){for(var i,n,s,o,r,a=this[t+"Links"]=e.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+t+"]")).get(),l=a.length,c=0,h=this[t+"Mapping"]={};l>c;c++)i=a[c],s=i.getAttribute("data-wysihtml5-"+t),o=i.getAttribute("data-wysihtml5-"+t+"-value"),n=this.container.querySelector("[data-wysihtml5-"+t+"-group='"+s+"']"),r=this._getDialog(i,s),h[s+":"+o]={link:i,group:n,name:s,value:o,dialog:r,state:!1}},_getDialog:function(t,i){var n,s,o=this,r=this.container.querySelector("[data-wysihtml5-dialog='"+i+"']");return r&&(n=new e.toolbar.Dialog(t,r),n.observe("show",function(){s=o.composer.selection.getBookmark(),o.editor.fire("show:dialog",{command:i,dialogContainer:r,commandLink:t})}),n.observe("save",function(e){s&&o.composer.selection.setBookmark(s),o._execCommand(i,e),o.editor.fire("save:dialog",{command:i,dialogContainer:r,commandLink:t})}),n.observe("cancel",function(){o.editor.focus(!1),o.editor.fire("cancel:dialog",{command:i,dialogContainer:r,commandLink:t})})),n},execCommand:function(e,t){if(!this.commandsDisabled){var i=this.commandMapping[e+":"+t];i&&i.dialog&&!i.state?i.dialog.show():this._execCommand(e,t)}},_execCommand:function(e,t){this.editor.focus(!1),this.composer.commands.exec(e,t),this._updateLinkStates()},execAction:function(e){var t=this.editor;switch(e){case"change_view":t.currentView===t.textarea?t.fire("change_view","composer"):t.fire("change_view","textarea")}},_observe:function(){for(var e=this,t=this.editor,n=this.container,s=this.commandLinks.concat(this.actionLinks),r=s.length,a=0;r>a;a++)o.setAttributes({href:"javascript:;",unselectable:"on"}).on(s[a]);o.delegate(n,"[data-wysihtml5-command]","mousedown",function(e){e.preventDefault()}),o.delegate(n,"[data-wysihtml5-command]","click",function(t){var i=this,n=i.getAttribute("data-wysihtml5-command"),s=i.getAttribute("data-wysihtml5-command-value");e.execCommand(n,s),t.preventDefault()}),o.delegate(n,"[data-wysihtml5-action]","click",function(t){var i=this.getAttribute("data-wysihtml5-action");e.execAction(i),t.preventDefault()}),t.observe("focus:composer",function(){e.bookmark=null,clearInterval(e.interval),e.interval=setInterval(function(){e._updateLinkStates()},500)}),t.observe("blur:composer",function(){clearInterval(e.interval)}),t.observe("destroy:composer",function(){clearInterval(e.interval)}),t.observe("change_view",function(t){setTimeout(function(){e.commandsDisabled="composer"!==t,e._updateLinkStates(),e.commandsDisabled?o.addClass(n,i):o.removeClass(n,i)},0)})},_updateLinkStates:function(){var i,r,a,l,c=(this.composer.element,this.commandMapping),h=this.actionMapping;for(i in c)l=c[i],this.commandsDisabled?(r=!1,o.removeClass(l.link,n),l.group&&o.removeClass(l.group,n),l.dialog&&l.dialog.hide()):(r=this.composer.commands.state(l.name,l.value),e.lang.object(r).isArray()&&(r=1===r.length?r[0]:!0),o.removeClass(l.link,t),l.group&&o.removeClass(l.group,t)),l.state!==r&&(l.state=r,r?(o.addClass(l.link,n),l.group&&o.addClass(l.group,n),l.dialog&&("object"==typeof r?l.dialog.show(r):l.dialog.hide())):(o.removeClass(l.link,n),l.group&&o.removeClass(l.group,n),l.dialog&&l.dialog.hide()));for(i in h)a=h[i],"change_view"===a.name&&(a.state=this.editor.currentView===this.editor.textarea,a.state?o.addClass(a.link,s):o.removeClass(a.link,s))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(e){var t,i={name:t,style:!0,toolbar:t,autoLink:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:e.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",stylesheets:[],placeholderText:t,allowObjectResizing:!0,supportTouchDevices:!0};e.Editor=e.lang.Dispatcher.extend({constructor:function(t,n){if(this.textareaElement="string"==typeof t?document.getElementById(t):t,this.config=e.lang.object({}).merge(i).merge(n).get(),this.textarea=new e.views.Textarea(this,this.textareaElement,this.config),this.currentView=this.textarea,this._isCompatible=e.browser.supported(),!this._isCompatible||!this.config.supportTouchDevices&&e.browser.isTouchDevice()){var s=this;return void setTimeout(function(){s.fire("beforeload").fire("load")},0)}e.dom.addClass(document.body,this.config.bodyClassName),this.composer=new e.views.Composer(this,this.textareaElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.observe("beforeload",function(){this.synchronizer=new e.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new e.toolbar.Toolbar(this,this.config.toolbar))})},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(e){return this.currentView.getValue(e)},setValue:function(e,t){return e?(this.currentView.setValue(e,t),this):this.clear()},focus:function(e){return this.currentView.focus(e),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(t){var i=this.config.parser(t,this.config.parserRules,this.composer.sandbox.getDocument(),!0);return"object"==typeof t&&e.quirks.redraw(t),i},_initParser:function(){this.observe("paste:composer",function(){var t=!0,i=this;i.composer.selection.executeAndRestore(function(){e.quirks.cleanPastedHTML(i.composer.element),i.parse(i.composer.element)},t)}),this.observe("paste:textarea",function(){var e,t=this.textarea.getValue();e=this.parse(t),this.textarea.setValue(e)})}})}(wysihtml5),/*!
 * https://github.com/jhollingworth/bootstrap-wysihtml5/
 *
 * Licensed under the MIT license (MIT)
 */
!function(e,t){"use strict";var i={"font-styles":"<li class='dropdown'><a class='btn btn-default dropdown-toggle' data-toggle='dropdown' href='#'><i class='fa fa-font'></i>&nbsp;<span class='current-font'>Normal text</span>&nbsp;<b class='caret'></b></a><ul class='dropdown-menu'><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='div'>Normal text</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h1'>Heading 1</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h2'>Heading 2</a></li></ul></li>",emphasis:"<li><div class='btn-group'><a class='btn btn-default' data-wysihtml5-command='bold' title='CTRL+B'>Bold</a><a class='btn btn-default' data-wysihtml5-command='italic' title='CTRL+I'>Italic</a><a class='btn btn-default' data-wysihtml5-command='underline' title='CTRL+U'>Underline</a></div></li>",lists:"<li><div class='btn-group'><a class='btn btn-default' data-wysihtml5-command='insertUnorderedList' title='Unordered List'><i class='fa fa-list'></i></a><a class='btn btn-default' data-wysihtml5-command='insertOrderedList' title='Ordered List'><i class='fa fa-th-list'></i></a><a class='btn btn-default' data-wysihtml5-command='Outdent' title='Outdent'><i class='fa fa-indent'></i></a><a class='btn btn-default' data-wysihtml5-command='Indent' title='Indent'><i class='fa fa-outdent'></i></a></div></li>",link:"<li><div class='bootstrap-wysihtml5-insert-link-modal modal fade'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><a class='close' data-dismiss='modal'>&times;</a><h3>Insert Link</h3></div><div class='modal-body'><input value='http://' class='bootstrap-wysihtml5-insert-link-url form-control'></div><div class='modal-footer'><a href='#' class='btn btn-sm btn-default' data-dismiss='modal'>Cancel</a><a href='#' class='btn btn-sm btn-primary' data-dismiss='modal'>Insert link</a></div></div></div></div><a class='btn btn-default' data-wysihtml5-command='createLink' title='Link'><i class='fa fa-share-square-o'></i></a></li>",image:"<li><div class='bootstrap-wysihtml5-insert-image-modal modal fade'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><a class='close' data-dismiss='modal'>&times;</a><h3>Insert Image</h3></div><div class='modal-body'><input value='http://' class='bootstrap-wysihtml5-insert-image-url form-control'></div><div class='modal-footer'><a href='#' class='btn btn-sm btn-default' data-dismiss='modal'>Cancel</a><a href='#' class='btn btn-sm btn-primary' data-dismiss='modal'>Insert image</a></div></div></div></div><a class='btn btn-default' data-wysihtml5-command='insertImage' title='Insert image'><i class='fa fa-picture-o'></i></a></li>",html:"<li><div class='btn-group'><a class='btn btn-default' data-wysihtml5-action='change_view' title='Edit HTML'><i class='fa fa-pencil'></i></a></div></li>"},n={"font-styles":!0,emphasis:!0,lists:!0,html:!1,link:!0,image:!0,events:{},parserRules:{tags:{b:{},i:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{set_attributes:{target:"_blank",rel:"nofollow"},check_attributes:{href:"url"}}}},stylesheets:[]},s=function(t,i){this.el=t,this.toolbar=this.createToolbar(t,i||n),this.editor=this.createEditor(i),window.editor=this.editor,e("iframe.wysihtml5-sandbox").each(function(t,i){e(i.contentWindow).off("focus.wysihtml5").on({"focus.wysihtml5":function(){e("li.dropdown").removeClass("open")}})})};s.prototype={constructor:s,createEditor:function(i){i=e.extend(n,i||{}),i.toolbar=this.toolbar[0];var s=new t.Editor(this.el[0],i);if(i&&i.events)for(var o in i.events)s.on(o,i.events[o]);return s},createToolbar:function(t,s){var o=this,r=e("<ul/>",{"class":"wysihtml5-toolbar",style:"display:none"});for(var a in n){var l=!1;void 0!==s[a]?s[a]===!0&&(l=!0):l=n[a],l===!0&&(r.append(i[a]),"html"==a&&this.initHtml(r),"link"==a&&this.initInsertLink(r),"image"==a&&this.initInsertImage(r))}return r.find("a[data-wysihtml5-command='formatBlock']").click(function(t){var i=e(t.srcElement);o.toolbar.find(".current-font").text(i.html())}),this.el.before(r),r},initHtml:function(e){var t="a[data-wysihtml5-action='change_view']";e.find(t).click(function(){e.find("a.btn").not(t).toggleClass("disabled")})},initInsertImage:function(e){var t=this,i=e.find(".bootstrap-wysihtml5-insert-image-modal"),n=i.find(".bootstrap-wysihtml5-insert-image-url"),s=i.find("a.btn-primary"),o=n.val(),r=function(){var e=n.val();n.val(o),t.editor.composer.commands.exec("insertImage",e)};n.keypress(function(e){13==e.which&&(r(),i.modal("hide"))}),s.click(r),i.on("shown.bs.modal",function(){n.focus()}),i.on("hide",function(){t.editor.currentView.element.focus()}),e.find("a[data-wysihtml5-command=insertImage]").click(function(){return i.modal("show"),i.on("click.dismiss.modal",'[data-dismiss="modal"]',function(e){e.stopPropagation()}),!1})},initInsertLink:function(e){var t=this,i=e.find(".bootstrap-wysihtml5-insert-link-modal"),n=i.find(".bootstrap-wysihtml5-insert-link-url"),s=i.find("a.btn-primary"),o=n.val(),r=function(){var e=n.val();n.val(o),t.editor.composer.commands.exec("createLink",{href:e,target:"_blank",rel:"nofollow"})};n.keypress(function(e){13==e.which&&(r(),i.modal("hide"))}),s.click(r),i.on("shown.bs.modal",function(){n.focus()}),i.on("hide",function(){t.editor.currentView.element.focus()}),e.find("a[data-wysihtml5-command=createLink]").click(function(){return i.modal("show"),i.on("click.dismiss.modal",'[data-dismiss="modal"]',function(e){e.stopPropagation()}),!1})}},e.fn.wysihtml5=function(t){return this.each(function(){var i=e(this);i.data("wysihtml5",new s(i,t))})},e.fn.wysihtml5.Constructor=s}(window.jQuery,window.wysihtml5),/*!
 * jQuery Validation Plugin - v1.11.1 - 3/22/2013
 * https://github.com/jzaefferer/jquery-validation
 * Copyright (c) 2013 Jrn Zaefferer; Licensed MIT
 */
function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=e.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new e.validator(t,this[0]),e.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){i.settings.submitHandler&&(i.submitButton=t.target),e(t.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==e(t.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(t){function n(){var n;return i.settings.submitHandler?(i.submitButton&&(n=e("<input type='hidden'/>").attr("name",i.submitButton.name).val(e(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&n.remove(),!1):!0}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,i=e(this[0].form).validate();return this.each(function(){t=t&&i.element(this)}),t},removeAttrs:function(t){var i={},n=this;return e.each(t.split(/\s/),function(e,t){i[t]=n.attr(t),n.removeAttr(t)}),i},rules:function(t,i){var n=this[0];if(t){var s=e.data(n.form,"validator").settings,o=s.rules,r=e.validator.staticRules(n);switch(t){case"add":e.extend(r,e.validator.normalizeRule(i)),delete r.messages,o[n.name]=r,i.messages&&(s.messages[n.name]=e.extend(s.messages[n.name],i.messages));break;case"remove":if(!i)return delete o[n.name],r;var a={};return e.each(i.split(/\s/),function(e,t){a[t]=r[t],delete r[t]}),a}}var l=e.validator.normalizeRules(e.extend({},e.validator.classRules(n),e.validator.attributeRules(n),e.validator.dataRules(n),e.validator.staticRules(n)),n);if(l.required){var c=l.required;delete l.required,l=e.extend({required:c},l)}return l}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,i){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=i,this.init()},e.validator.format=function(t,i){return 1===arguments.length?function(){var i=e.makeArray(arguments);return i.unshift(t),e.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=e.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),e.each(i,function(e,i){t=t.replace(RegExp("\\{"+e+"\\}","g"),function(){return i})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,i,n){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(n):e(t).addClass(i).removeClass(n)},unhighlight:function(t,i,n){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(n):e(t).removeClass(i).addClass(n)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var i=e.data(this[0].form,"validator"),n="on"+t.type.replace(/^validate/,"");i.settings[n]&&i.settings[n].call(i,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i=this.groups={};e.each(this.settings.groups,function(t,n){"string"==typeof n&&(n=n.split(/\s/)),e.each(n,function(e,n){i[n]=t})});var n=this.settings.rules;e.each(n,function(t,i){n[t]=e.validator.normalizeRule(i)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",t).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t)),this.lastElement=t,this.prepareElement(t),this.currentElements=e(t);var i=this.check(t)!==!1;return i?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var i in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(e(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var i=e(t).attr("type"),n=e(t).val();return"radio"===i||"checkbox"===i?e("input[name='"+e(t).attr("name")+"']:checked").val():"string"==typeof n?n.replace(/\r/g,""):n},check:function(t){t=this.validationTargetFor(this.clean(t));var i,n=e(t).rules(),s=!1,o=this.elementValue(t);for(var r in n){var a={method:r,parameters:n[r]};try{if(i=e.validator.methods[r].call(this,o,t,a.parameters),"dependency-mismatch"===i){s=!0;continue}if(s=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,a),!1}catch(l){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+a.method+"' method.",l),l}}return s?void 0:(this.objectLength(n)&&this.successList.push(t),!0)},customDataMessage:function(t,i){return e(t).data("msg-"+i.toLowerCase())||t.attributes&&e(t).attr("data-msg-"+i.toLowerCase())},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;arguments.length>e;e++)if(void 0!==arguments[e])return arguments[e];return void 0},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,i){var n=this.defaultMessage(t,i.method),s=/\$?\{(\d+)\}/g;"function"==typeof n?n=n.call(this,i.parameters,t):s.test(n)&&(n=e.validator.format(n.replace(s,"{$1}"),i.parameters)),this.errorList.push({message:n,element:t}),this.errorMap[t.name]=n,this.submitted[t.name]=n},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t;for(e=0;this.errorList[e];e++){var i=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var n=this.errorsFor(t);n.length?(n.removeClass(this.settings.validClass).addClass(this.settings.errorClass),n.html(i)):(n=e("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(n=n.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(n).length||(this.settings.errorPlacement?this.settings.errorPlacement(n,e(t)):n.insertAfter(t))),!i&&this.settings.success&&(n.text(""),"string"==typeof this.settings.success?n.addClass(this.settings.success):this.settings.success(n,t)),this.toShow=this.toShow.add(n)},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")===i})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return e("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,i){return!!e(t,i.form).length},"function":function(e,t){return e(t)}},optional:function(t){var i=this.elementValue(t);return!e.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,0>this.pendingRequest&&(this.pendingRequest=0),delete this.pending[t.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:e.extend(this.classRuleSettings,t)},classRules:function(t){var i={},n=e(t).attr("class");return n&&e.each(n.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(i,e.validator.classRuleSettings[this])}),i},attributeRules:function(t){var i={},n=e(t),s=n[0].getAttribute("type");for(var o in e.validator.methods){var r;"required"===o?(r=n.get(0).getAttribute(o),""===r&&(r=!0),r=!!r):r=n.attr(o),/min|max/.test(o)&&(null===s||/number|range|text/.test(s))&&(r=Number(r)),r?i[o]=r:s===o&&"range"!==s&&(i[o]=!0)}return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(t){var i,n,s={},o=e(t);for(i in e.validator.methods)n=o.data("rule-"+i.toLowerCase()),void 0!==n&&(s[i]=n);return s},staticRules:function(t){var i={},n=e.data(t.form,"validator");return n.settings.rules&&(i=e.validator.normalizeRule(n.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return e.each(t,function(n,s){if(s===!1)return void delete t[n];if(s.param||s.depends){var o=!0;switch(typeof s.depends){case"string":o=!!e(s.depends,i.form).length;break;case"function":o=s.depends.call(i,i)}o?t[n]=void 0!==s.param?s.param:!0:delete t[n]}}),e.each(t,function(n,s){t[n]=e.isFunction(s)?s(i):s}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var i;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};e.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,n){e.validator.methods[t]=i,e.validator.messages[t]=void 0!==n?n:e.validator.messages[t],3>i.length&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var s=e(i).val();return s&&s.length>0}return this.checkable(i)?this.getLength(t,i)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(""+new Date(e))},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var i=0,n=0,s=!1;e=e.replace(/\D/g,"");for(var o=e.length-1;o>=0;o--){var r=e.charAt(o);n=parseInt(r,10),s&&(n*=2)>9&&(n-=9),i+=n,s=!s}return 0===i%10},minlength:function(t,i,n){var s=e.isArray(t)?t.length:this.getLength(e.trim(t),i);return this.optional(i)||s>=n},maxlength:function(t,i,n){var s=e.isArray(t)?t.length:this.getLength(e.trim(t),i);return this.optional(i)||n>=s},rangelength:function(t,i,n){var s=e.isArray(t)?t.length:this.getLength(e.trim(t),i);return this.optional(i)||s>=n[0]&&n[1]>=s},min:function(e,t,i){return this.optional(t)||e>=i},max:function(e,t,i){return this.optional(t)||i>=e},range:function(e,t,i){return this.optional(t)||e>=i[0]&&i[1]>=e},equalTo:function(t,i,n){var s=e(n);return this.settings.onfocusout&&s.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(i).valid()}),t===s.val()},remote:function(t,i,n){if(this.optional(i))return"dependency-mismatch";var s=this.previousValue(i);if(this.settings.messages[i.name]||(this.settings.messages[i.name]={}),s.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=s.message,n="string"==typeof n&&{url:n}||n,s.old===t)return s.valid;s.old=t;var o=this;this.startRequest(i);var r={};return r[i.name]=t,e.ajax(e.extend(!0,{url:n,mode:"abort",port:"validate"+i.name,dataType:"json",data:r,success:function(n){o.settings.messages[i.name].remote=s.originalMessage;var r=n===!0||"true"===n;if(r){var a=o.formSubmitted;o.prepareElement(i),o.formSubmitted=a,o.successList.push(i),delete o.invalid[i.name],o.showErrors()}else{var l={},c=n||o.defaultMessage(i,"remote");l[i.name]=s.message=e.isFunction(c)?c(t):c,o.invalid[i.name]=!0,o.showErrors(l)}s.valid=r,o.stopRequest(i,r)}},n)),"pending"}}}),e.format=e.validator.format}(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,i,n){var s=e.port;"abort"===e.mode&&(t[s]&&t[s].abort(),t[s]=n)});else{var i=e.ajax;e.ajax=function(n){var s=("mode"in n?n:e.ajaxSettings).mode,o=("port"in n?n:e.ajaxSettings).port;return"abort"===s?(t[o]&&t[o].abort(),t[o]=i.apply(this,arguments),t[o]):i.apply(this,arguments)}}}(jQuery),function(e){e.extend(e.fn,{validateDelegate:function(t,i,n){return this.bind(i,function(i){var s=e(i.target);return s.is(t)?n.apply(s,arguments):void 0})}})}(jQuery),/*
 * jQuery wizard plug-in 3.0.7 (18-SEPT-2012)
 *
 *
 * Copyright (c) 2012 Jan Sundman (jan.sundman[at]aland.net)
 *
 * http://www.thecodemine.org
 *
 * Licensed under the MIT licens:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 */
function(e){e.widget("ui.formwizard",{_init:function(){var t=this,i=this.options.formOptions.success,n=this.options.formOptions.complete,s=this.options.formOptions.beforeSend,o=this.options.formOptions.beforeSubmit,r=this.options.formOptions.beforeSerialize;return this.options.formOptions=e.extend(this.options.formOptions,{success:function(e,n,s){i&&i(e,n,s),(t.options.formOptions&&t.options.formOptions.resetForm||!t.options.formOptions)&&t._reset()},complete:function(e,i){n&&n(e,i),t._enableNavigation()},beforeSubmit:function(e,i,n){if(o){var s=o(e,i,n);return s||t._enableNavigation(),s}},beforeSend:function(e){if(s){var i=s(e);return i||t._enableNavigation(),i}},beforeSerialize:function(e,i){if(r){var n=r(e,i);return n||t._enableNavigation(),n}}}),this.options.historyEnabled&&e.bbq.removeState("_"+e(this.element).attr("id")),this.steps=this.element.find(".step").hide(),this.firstStep=this.steps.eq(0).attr("id"),this.activatedSteps=new Array,this.isLastStep=!1,this.previousStep=void 0,this.currentStep=this.steps.eq(0).attr("id"),this.nextButton=this.element.find(this.options.next).click(function(){return t._next()}),this.nextButtonInitinalValue=this.nextButton.val(),this.nextButton.val(this.options.textNext),this.backButton=this.element.find(this.options.back).click(function(){return t._back(),!1}),this.backButtonInitinalValue=this.backButton.val(),this.backButton.val(this.options.textBack),this.options.validationEnabled&&void 0==jQuery().validate?(this.options.validationEnabled=!1,void 0!==window.console&&console.log("%s","validationEnabled option set, but the validation plugin is not included")):this.options.validationEnabled&&this.element.validate(this.options.validationOptions),this.options.formPluginEnabled&&void 0==jQuery().ajaxSubmit&&(this.options.formPluginEnabled=!1,void 0!==window.console&&console.log("%s","formPluginEnabled option set but the form plugin is not included")),1==this.options.disableInputFields&&e(this.steps).find(":input:not('.wizard-ignore')").attr("disabled","disabled"),this.options.historyEnabled&&e(window).bind("hashchange",void 0,function(i){var n=i.getState("_"+e(t.element).attr("id"))||t.firstStep;if(n!==t.currentStep){if(t.options.validationEnabled&&n===t._navigate(t.currentStep)&&!t.element.valid())return t._updateHistory(t.currentStep),t.element.validate().focusInvalid(),!1;n!==t.currentStep&&t._show(n)}}),this.element.addClass("ui-formwizard"),this.element.find(":input").addClass("ui-wizard-content"),this.steps.addClass("ui-formwizard-content"),this.backButton.addClass("ui-formwizard-button ui-wizard-content"),this.nextButton.addClass("ui-formwizard-button ui-wizard-content"),this.options.disableUIStyles||(this.element.addClass("ui-helper-reset ui-widget ui-widget-content ui-helper-reset ui-corner-all"),this.element.find(":input").addClass("ui-helper-reset ui-state-default"),this.steps.addClass("ui-helper-reset ui-corner-all"),this.backButton.addClass("ui-helper-reset ui-state-default"),this.nextButton.addClass("ui-helper-reset ui-state-default")),this._show(void 0),e(this)},_next:function(){if(this.options.validationEnabled&&!this.element.valid())return this.element.validate().focusInvalid(),!1;if(void 0!=this.options.remoteAjax){var t=this.options.remoteAjax[this.currentStep],i=this;if(void 0!==t){var n=t.success,s=t.beforeSend,o=t.complete;return t=e.extend({},t,{success:function(e,t){(void 0!==n&&n(e,t)||void 0==n)&&i._continueToNextStep()},beforeSend:function(t){i._disableNavigation(),void 0!==s&&s(t),e(i.element).trigger("before_remote_ajax",{currentStep:i.currentStep})},complete:function(t,n){void 0!==o&&o(t,n),e(i.element).trigger("after_remote_ajax",{currentStep:i.currentStep}),i._enableNavigation()}}),this.element.ajaxSubmit(t),!1}}return this._continueToNextStep()},_back:function(){return this.activatedSteps.length>0&&(this.options.historyEnabled?this._updateHistory(this.activatedSteps[this.activatedSteps.length-2]):this._show(this.activatedSteps[this.activatedSteps.length-2],!0)),!1},_continueToNextStep:function(){if(this.isLastStep){for(var e=0;e<this.activatedSteps.length;e++)this.steps.filter("#"+this.activatedSteps[e]).find(":input").not(".wizard-ignore").removeAttr("disabled");return this.options.formPluginEnabled?(this._disableNavigation(),this.element.ajaxSubmit(this.options.formOptions),!1):!0}var t=this._navigate(this.currentStep);return t==this.currentStep?!1:(this.options.historyEnabled?this._updateHistory(t):this._show(t,!0),!1)},_updateHistory:function(t){var i={};i["_"+e(this.element).attr("id")]=t,e.bbq.pushState(i)},_disableNavigation:function(){this.nextButton.attr("disabled","disabled"),this.backButton.attr("disabled","disabled"),this.options.disableUIStyles||(this.nextButton.removeClass("ui-state-active").addClass("ui-state-disabled"),this.backButton.removeClass("ui-state-active").addClass("ui-state-disabled"))},_enableNavigation:function(){this.nextButton.val(this.isLastStep?this.options.textSubmit:this.options.textNext),e.trim(this.currentStep)!==this.steps.eq(0).attr("id")&&(this.backButton.removeAttr("disabled"),this.options.disableUIStyles||this.backButton.removeClass("ui-state-disabled").addClass("ui-state-active")),this.nextButton.removeAttr("disabled"),this.options.disableUIStyles||this.nextButton.removeClass("ui-state-disabled").addClass("ui-state-active")},_animate:function(e,t,i){this._disableNavigation();var n=this.steps.filter("#"+e),s=this.steps.filter("#"+t);n.find(":input").not(".wizard-ignore").attr("disabled","disabled"),s.find(":input").not(".wizard-ignore").removeAttr("disabled");var o=this;n.animate(o.options.outAnimation,o.options.outDuration,o.options.easing,function(){s.animate(o.options.inAnimation,o.options.inDuration,o.options.easing,function(){o.options.focusFirstInput&&s.find(":input:first").focus(),o._enableNavigation(),i.apply(o)})})},_checkIflastStep:function(t){this.isLastStep=!1,(e("#"+t).hasClass(this.options.submitStepClass)||this.steps.filter(":last").attr("id")==t)&&(this.isLastStep=!0)},_getLink:function(t){var i=void 0,n=this.steps.filter("#"+t).find(this.options.linkClass);return void 0!=n&&(i=n.filter(":radio,:checkbox").size()>0?n.filter(this.options.linkClass+":checked").val():e(n).val()),i},_navigate:function(e){var t=this._getLink(e);if(void 0!=t)return""!=t&&null!=t&&void 0!=t&&void 0!=this.steps.filter("#"+t).attr("id")?t:this.currentStep;if(void 0==t&&!this.isLastStep){var i=this.steps.filter("#"+e).next().attr("id");return i}},_show:function(t){var i=!1,n=void 0!==t;if(void 0==t||""==t?(this.activatedSteps.pop(),t=this.firstStep,this.activatedSteps.push(t)):e.inArray(t,this.activatedSteps)>-1?(i=!0,this.activatedSteps.pop()):this.activatedSteps.push(t),this.currentStep!==t||t===this.firstStep){this.previousStep=this.currentStep,this._checkIflastStep(t),this.currentStep=t;var s=function(){n&&e(this.element).trigger("step_shown",e.extend({isBackNavigation:i},this._state()))};n&&e(this.element).trigger("before_step_shown",e.extend({isBackNavigation:i},this._state())),this._animate(this.previousStep,t,s)}},_reset:function(){this.element.resetForm(),e("label,:input,textarea",this).removeClass("error");for(var t=0;t<this.activatedSteps.length;t++)this.steps.filter("#"+this.activatedSteps[t]).hide().find(":input").attr("disabled","disabled");this.activatedSteps=new Array,this.previousStep=void 0,this.isLastStep=!1,this.options.historyEnabled?this._updateHistory(this.firstStep):this._show(this.firstStep)},_state:function(e){var t={settings:this.options,activatedSteps:this.activatedSteps,isLastStep:this.isLastStep,isFirstStep:this.currentStep===this.firstStep,previousStep:this.previousStep,currentStep:this.currentStep,backButton:this.backButton,nextButton:this.nextButton,steps:this.steps,firstStep:this.firstStep};return void 0!==e?t[e]:t},show:function(e){this.options.historyEnabled?this._updateHistory(e):this._show(e)},state:function(e){return this._state(e)},reset:function(){this._reset()},next:function(){this._next()},back:function(){this._back()},destroy:function(){this.element.find("*").removeAttr("disabled").show(),this.nextButton.unbind("click").val(this.nextButtonInitinalValue).removeClass("ui-state-disabled").addClass("ui-state-active"),this.backButton.unbind("click").val(this.backButtonInitinalValue).removeClass("ui-state-disabled").addClass("ui-state-active"),this.backButtonInitinalValue=void 0,this.nextButtonInitinalValue=void 0,this.activatedSteps=void 0,this.previousStep=void 0,this.currentStep=void 0,this.isLastStep=void 0,this.options=void 0,this.nextButton=void 0,this.backButton=void 0,this.formwizard=void 0,this.element=void 0,this.steps=void 0,this.firstStep=void 0},update_steps:function(){this.steps=this.element.find(".step").addClass("ui-formwizard-content"),this.firstStep=this.steps.eq(0).attr("id"),this.steps.not("#"+this.currentStep).hide().find(":input").addClass("ui-wizard-content").attr("disabled","disabled"),this._checkIflastStep(this.currentStep),this._enableNavigation(),this.options.disableUIStyles||(this.steps.addClass("ui-helper-reset ui-corner-all"),this.steps.find(":input").addClass("ui-helper-reset ui-state-default"))},options:{historyEnabled:!1,validationEnabled:!1,validationOptions:void 0,formPluginEnabled:!1,linkClass:".link",submitStepClass:"submit_step",back:":reset",next:":submit",textSubmit:"Submit",textNext:"Next",textBack:"Back",remoteAjax:void 0,inAnimation:{opacity:"show"},outAnimation:{opacity:"hide"},inDuration:400,outDuration:400,easing:"swing",focusFirstInput:!1,disableInputFields:!0,formOptions:{reset:!0,success:function(){void 0!==window.console&&console.log("%s","form submit successful")},disableUIStyles:!1}}})}(jQuery),/*!
 * jQuery Tags Input Plugin 1.3.3
 *
 * Copyright (c) 2011 XOXCO, Inc
 *
 * Documentation for this plugin lives here:
 * http://xoxco.com/clickable/jquery-tags-input
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/mit-license.php
 * ben@xoxco.com
 */
function(e){var t=new Array,n=new Array;e.fn.doAutosize=function(t){var i=e(this).data("minwidth"),n=e(this).data("maxwidth"),s="",o=e(this),r=e("#"+e(this).data("tester_id"));if(s!==(s=o.val())){var a=s.replace(/&/g,"&").replace(/\s/g," ").replace(/</g,"<").replace(/>/g,">");r.html(a);var l=r.width(),c=l+t.comfortZone>=i?l+t.comfortZone:i,h=o.width(),u=h>c&&c>=i||c>i&&n>c;u&&o.width(c)}},e.fn.resetAutosize=function(t){var i=e(this).data("minwidth")||t.minInputWidth||e(this).width(),n=e(this).data("maxwidth")||t.maxInputWidth||e(this).closest(".tagsinput").width()-t.inputPadding,s=e(this),o=e("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:s.css("fontSize"),fontFamily:s.css("fontFamily"),fontWeight:s.css("fontWeight"),letterSpacing:s.css("letterSpacing"),whiteSpace:"nowrap"}),r=e(this).attr("id")+"_autosize_tester";!e("#"+r).length>0&&(o.attr("id",r),o.appendTo("body")),s.data("minwidth",i),s.data("maxwidth",n),s.data("tester_id",r),s.css("width",i)},e.fn.addTag=function(i,s){return s=jQuery.extend({focus:!1,callback:!0},s),this.each(function(){var o=e(this).attr("id"),r=e(this).val().split(t[o]);if(""==r[0]&&(r=new Array),i=jQuery.trim(i),s.unique){var a=e(r).tagExist(i);1==a&&e("#"+o+"_tag").addClass("not_valid")}else var a=!1;if(""!=i&&1!=a){if(e("<span>").addClass("tag").append(e("<span>").text(i).append("  "),e("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return e("#"+o).removeTag(escape(i))})).insertBefore("#"+o+"_addTag"),r.push(i),e("#"+o+"_tag").val(""),s.focus?e("#"+o+"_tag").focus():e("#"+o+"_tag").blur(),e.fn.tagsInput.updateTagsField(this,r),s.callback&&n[o]&&n[o].onAddTag){var l=n[o].onAddTag;l.call(this,i)}if(n[o]&&n[o].onChange){var c=r.length,l=n[o].onChange;l.call(this,e(this),r[c-1])}}}),!1},e.fn.removeTag=function(s){return s=unescape(s),this.each(function(){var o=e(this).attr("id"),r=e(this).val().split(t[o]);for(e("#"+o+"_tagsinput .tag").remove(),str="",i=0;i<r.length;i++)r[i]!=s&&(str=str+t[o]+r[i]);if(e.fn.tagsInput.importTags(this,str),n[o]&&n[o].onRemoveTag){var a=n[o].onRemoveTag;a.call(this,s)}}),!1},e.fn.tagExist=function(t){return jQuery.inArray(t,e(this))>=0},e.fn.importTags=function(t){id=e(this).attr("id"),e("#"+id+"_tagsinput .tag").remove(),e.fn.tagsInput.importTags(this,t)},e.fn.tagsInput=function(i){var s=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},i);return this.each(function(){s.hide&&e(this).hide();var i=e(this).attr("id");(!i||t[e(this).attr("id")])&&(i=e(this).attr("id","tags"+(new Date).getTime()).attr("id"));var o=jQuery.extend({pid:i,real_input:"#"+i,holder:"#"+i+"_tagsinput",input_wrapper:"#"+i+"_addTag",fake_input:"#"+i+"_tag"},s);t[i]=o.delimiter,(s.onAddTag||s.onRemoveTag||s.onChange)&&(n[i]=new Array,n[i].onAddTag=s.onAddTag,n[i].onRemoveTag=s.onRemoveTag,n[i].onChange=s.onChange);var r='<div id="'+i+'_tagsinput" class="tagsinput"><div id="'+i+'_addTag">';if(s.interactive&&(r=r+'<input id="'+i+'_tag" value="" data-default="'+s.defaultText+'" />'),r+='</div><div class="tags_clear"></div></div>',e(r).insertAfter(this),e(o.holder).css("width",s.width),e(o.holder).css("height",s.height),""!=e(o.real_input).val()&&e.fn.tagsInput.importTags(e(o.real_input),e(o.real_input).val()),s.interactive){if(e(o.fake_input).val(e(o.fake_input).attr("data-default")),e(o.fake_input).css("color",s.placeholderColor),e(o.fake_input).resetAutosize(s),e(o.holder).bind("click",o,function(t){e(t.data.fake_input).focus()}),e(o.fake_input).bind("focus",o,function(t){e(t.data.fake_input).val()==e(t.data.fake_input).attr("data-default")&&e(t.data.fake_input).val(""),e(t.data.fake_input).css("color","#000000")}),void 0!=s.autocomplete_url){autocomplete_options={source:s.autocomplete_url};for(attrname in s.autocomplete)autocomplete_options[attrname]=s.autocomplete[attrname];void 0!==jQuery.Autocompleter?(e(o.fake_input).autocomplete(s.autocomplete_url,s.autocomplete),e(o.fake_input).bind("result",o,function(t,n){n&&e("#"+i).addTag(n[0]+"",{focus:!0,unique:s.unique})})):void 0!==jQuery.ui.autocomplete&&(e(o.fake_input).autocomplete(autocomplete_options),e(o.fake_input).bind("autocompleteselect",o,function(t,i){return e(t.data.real_input).addTag(i.item.value,{focus:!0,unique:s.unique}),!1}))}else e(o.fake_input).bind("blur",o,function(t){var i=e(this).attr("data-default");return""!=e(t.data.fake_input).val()&&e(t.data.fake_input).val()!=i?t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:s.unique}):(e(t.data.fake_input).val(e(t.data.fake_input).attr("data-default")),e(t.data.fake_input).css("color",s.placeholderColor)),!1});e(o.fake_input).bind("keypress",o,function(t){return t.which==t.data.delimiter.charCodeAt(0)||13==t.which?(t.preventDefault(),t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:s.unique}),e(t.data.fake_input).resetAutosize(s),!1):void(t.data.autosize&&e(t.data.fake_input).doAutosize(s))}),o.removeWithBackspace&&e(o.fake_input).bind("keydown",function(t){if(8==t.keyCode&&""==e(this).val()){t.preventDefault();var i=e(this).closest(".tagsinput").find(".tag:last").text(),n=e(this).attr("id").replace(/_tag$/,"");i=i.replace(/[\s]+x$/,""),e("#"+n).removeTag(escape(i)),e(this).trigger("focus")}}),e(o.fake_input).blur(),o.unique&&e(o.fake_input).keydown(function(t){(8==t.keyCode||String.fromCharCode(t.which).match(/\w+|[\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1,/]+/))&&e(this).removeClass("not_valid")})}}),this},e.fn.tagsInput.updateTagsField=function(i,n){var s=e(i).attr("id");e(i).val(n.join(t[s]))},e.fn.tagsInput.importTags=function(s,o){e(s).val("");var r=e(s).attr("id"),a=o.split(t[r]);for(i=0;i<a.length;i++)e(s).addTag(a[i],{focus:!1,callback:!1});if(n[r]&&n[r].onChange){var l=n[r].onChange;l.call(s,s,a[i])}}}(jQuery),/*!
 * jquery.sparkline 2.1.2 - http://omnipotent.net/jquery.sparkline/
 * Licensed under the New BSD License - see above site for details
 */
function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.sparkline&&e(jQuery)}(function(n){"use strict";var s,o,r,a,l,c,h,u,d,f,p,g,m,v,y,b,w,x,C,_,S,T,k,D,E,N,M,R,A,F,I,P,L={},z=0;s=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:i,normalRangeMax:i,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:i,chartRangeMax:i,chartRangeMinX:i,chartRangeMaxX:i,tooltipFormat:new r('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:i,nullColor:i,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,colorMap:i,tooltipFormat:new r('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new r('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:i,thresholdValue:0,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,tooltipFormat:new r("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:i,tooltipFormat:new r("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new r('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:i,targetColor:"#4a2",chartRangeMax:i,chartRangeMin:i,tooltipFormat:new r("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},N=".jqstooltip { width: auto !important; height: auto !important; position: absolute;left: 0px;top: 0px;visibility: hidden;background: #000000;color: white;font-size: 11px;text-align: left;white-space: nowrap;padding: 5px;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}",o=function(){var e,t;return e=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(e.prototype=n.extend(new arguments[0],arguments[arguments.length-1]),e._super=arguments[0].prototype):e.prototype=arguments[arguments.length-1],arguments.length>2&&(t=Array.prototype.slice.call(arguments,1,-1),t.unshift(e.prototype),n.extend.apply(n,t))):e.prototype=arguments[0],e.prototype.cls=e,e},n.SPFormatClass=r=o({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(e,t){this.format=e,this.fclass=t},render:function(e,t,n){var s,o,r,a,l,c=this,h=e;return this.format.replace(this.fre,function(){var e;return o=arguments[1],r=arguments[3],s=c.precre.exec(o),s?(l=s[2],o=s[1]):l=!1,a=h[o],a===i?"":r&&t&&t[r]?(e=t[r],e.get?t[r].get(a)||a:t[r][a]||a):(d(a)&&(a=n.get("numberFormatter")?n.get("numberFormatter")(a):v(a,l,n.get("numberDigitGroupCount"),n.get("numberDigitGroupSep"),n.get("numberDecimalMark"))),a)})}}),n.spformat=function(e,t){return new r(e,t)},a=function(e,t,i){return t>e?t:e>i?i:e},l=function(e,i){var n;return 2===i?(n=t.floor(e.length/2),e.length%2?e[n]:(e[n-1]+e[n])/2):e.length%2?(n=(e.length*i+i)/4,n%1?(e[t.floor(n)]+e[t.floor(n)-1])/2:e[n-1]):(n=(e.length*i+2)/4,n%1?(e[t.floor(n)]+e[t.floor(n)-1])/2:e[n-1])},c=function(e){var t;switch(e){case"undefined":e=i;break;case"null":e=null;break;case"true":e=!0;break;case"false":e=!1;break;default:t=parseFloat(e),e==t&&(e=t)}return e},h=function(e){var t,i=[];for(t=e.length;t--;)i[t]=c(e[t]);return i},u=function(e,t){var i,n,s=[];for(i=0,n=e.length;n>i;i++)e[i]!==t&&s.push(e[i]);return s},d=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},v=function(e,t,i,s,o){var r,a;for(e=(t===!1?parseFloat(e).toString():e.toFixed(t)).split(""),r=(r=n.inArray(".",e))<0?e.length:r,r<e.length&&(e[r]=o),a=r-i;a>0;a-=i)e.splice(a,0,s);return e.join("")},f=function(e,t,i){var n;for(n=t.length;n--;)if((!i||null!==t[n])&&t[n]!==e)return!1;return!0},p=function(e){var t,i=0;for(t=e.length;t--;)i+="number"==typeof e[t]?e[t]:0;return i},m=function(e){return n.isArray(e)?e:[e]},g=function(t){var i;e.createStyleSheet?e.createStyleSheet().cssText=t:(i=e.createElement("style"),i.type="text/css",e.getElementsByTagName("head")[0].appendChild(i),i["string"==typeof e.body.style.WebkitAppearance?"innerText":"innerHTML"]=t)},n.fn.simpledraw=function(t,s,o,r){var a,l;if(o&&(a=this.data("_jqs_vcanvas")))return a;if(n.fn.sparkline.canvas===!1)return!1;if(n.fn.sparkline.canvas===i){var c=e.createElement("canvas");if(c.getContext&&c.getContext("2d"))n.fn.sparkline.canvas=function(e,t,i,n){return new F(e,t,i,n)};else{if(!e.namespaces||e.namespaces.v)return n.fn.sparkline.canvas=!1,!1;e.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),n.fn.sparkline.canvas=function(e,t,i){return new I(e,t,i)}}}return t===i&&(t=n(this).innerWidth()),s===i&&(s=n(this).innerHeight()),a=n.fn.sparkline.canvas(t,s,this,r),l=n(this).data("_jqs_mhandler"),l&&l.registerCanvas(a),a},n.fn.cleardraw=function(){var e=this.data("_jqs_vcanvas");e&&e.reset()},n.RangeMapClass=y=o({init:function(e){var t,i,n=[];for(t in e)e.hasOwnProperty(t)&&"string"==typeof t&&t.indexOf(":")>-1&&(i=t.split(":"),i[0]=0===i[0].length?-1/0:parseFloat(i[0]),i[1]=0===i[1].length?1/0:parseFloat(i[1]),i[2]=e[t],n.push(i));this.map=e,this.rangelist=n||!1},get:function(e){var t,n,s,o=this.rangelist;if((s=this.map[e])!==i)return s;if(o)for(t=o.length;t--;)if(n=o[t],n[0]<=e&&n[1]>=e)return n[2];return i}}),n.range_map=function(e){return new y(e)},b=o({init:function(e,t){var i=n(e);this.$el=i,this.options=t,this.currentPageX=0,this.currentPageY=0,this.el=e,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!t.get("disableTooltips"),this.highlightEnabled=!t.get("disableHighlight")},registerSparkline:function(e){this.splist.push(e),this.over&&this.updateDisplay()},registerCanvas:function(e){var t=n(e.canvas);this.canvas=e,this.$canvas=t,t.mouseenter(n.proxy(this.mouseenter,this)),t.mouseleave(n.proxy(this.mouseleave,this)),t.click(n.proxy(this.mouseclick,this))},reset:function(e){this.splist=[],this.tooltip&&e&&(this.tooltip.remove(),this.tooltip=i)},mouseclick:function(e){var t=n.Event("sparklineClick");t.originalEvent=e,t.sparklines=this.splist,this.$el.trigger(t)},mouseenter:function(t){n(e.body).unbind("mousemove.jqs"),n(e.body).bind("mousemove.jqs",n.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new w(this.options),this.tooltip.updatePosition(t.pageX,t.pageY)),this.updateDisplay()},mouseleave:function(){n(e.body).unbind("mousemove.jqs");var t,i,s=this.splist,o=s.length,r=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),i=0;o>i;i++)t=s[i],t.clearRegionHighlight()&&(r=!0);r&&this.canvas.render()},mousemove:function(e){this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,this.tooltip&&this.tooltip.updatePosition(e.pageX,e.pageY),this.updateDisplay()},updateDisplay:function(){var e,t,i,s,o,r=this.splist,a=r.length,l=!1,c=this.$canvas.offset(),h=this.currentPageX-c.left,u=this.currentPageY-c.top;if(this.over){for(i=0;a>i;i++)t=r[i],s=t.setRegionHighlight(this.currentEl,h,u),s&&(l=!0);if(l){if(o=n.Event("sparklineRegionChange"),o.sparklines=this.splist,this.$el.trigger(o),this.tooltip){for(e="",i=0;a>i;i++)t=r[i],e+=t.getCurrentRegionTooltip();this.tooltip.setContent(e)}this.disableHighlight||this.canvas.render()}null===s&&this.mouseleave()}}}),w=o({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(t){var i,s=t.get("tooltipClassname","jqstooltip"),o=this.sizeStyle;this.container=t.get("tooltipContainer")||e.body,this.tooltipOffsetX=t.get("tooltipOffsetX",10),this.tooltipOffsetY=t.get("tooltipOffsetY",12),n("#jqssizetip").remove(),n("#jqstooltip").remove(),this.sizetip=n("<div/>",{id:"jqssizetip",style:o,"class":s}),this.tooltip=n("<div/>",{id:"jqstooltip","class":s}).appendTo(this.container),i=this.tooltip.offset(),this.offsetLeft=i.left,this.offsetTop=i.top,this.hidden=!0,n(window).unbind("resize.jqs scroll.jqs"),n(window).bind("resize.jqs scroll.jqs",n.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=n(window).scrollTop(),this.scrollLeft=n(window).scrollLeft(),this.scrollRight=this.scrollLeft+n(window).width(),this.updatePosition()},getSize:function(e){this.sizetip.html(e).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(e){return e?(this.getSize(e),this.tooltip.html(e).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition()),void 0):(this.tooltip.css("visibility","hidden"),void(this.hidden=!0))},updatePosition:function(e,t){if(e===i){if(this.mousex===i)return;e=this.mousex-this.offsetLeft,t=this.mousey-this.offsetTop}else this.mousex=e-=this.offsetLeft,this.mousey=t-=this.offsetTop;this.height&&this.width&&!this.hidden&&(t-=this.height+this.tooltipOffsetY,e+=this.tooltipOffsetX,t<this.scrollTop&&(t=this.scrollTop),e<this.scrollLeft?e=this.scrollLeft:e+this.width>this.scrollRight&&(e=this.scrollRight-this.width),this.tooltip.css({left:e,top:t}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=i,n(window).unbind("resize.jqs scroll.jqs")}}),M=function(){g(N)},n(M),P=[],n.fn.sparkline=function(t,s){return this.each(function(){var o,r,a=new n.fn.sparkline.options(this,s),l=n(this);if(o=function(){var s,o,r,c,h,u,d;return"html"===t||t===i?(d=this.getAttribute(a.get("tagValuesAttribute")),(d===i||null===d)&&(d=l.html()),s=d.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):s=t,o="auto"===a.get("width")?s.length*a.get("defaultPixelsPerValue"):a.get("width"),"auto"===a.get("height")?a.get("composite")&&n.data(this,"_jqs_vcanvas")||(c=e.createElement("span"),c.innerHTML="a",l.html(c),r=n(c).innerHeight()||n(c).height(),n(c).remove(),c=null):r=a.get("height"),a.get("disableInteraction")?h=!1:(h=n.data(this,"_jqs_mhandler"),h?a.get("composite")||h.reset():(h=new b(this,a),n.data(this,"_jqs_mhandler",h))),a.get("composite")&&!n.data(this,"_jqs_vcanvas")?void(n.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),n.data(this,"_jqs_errnotify",!0))):(u=new(n.fn.sparkline[a.get("type")])(this,s,a,o,r),u.render(),h&&h.registerSparkline(u),void 0)},n(this).html()&&!a.get("disableHiddenCheck")&&n(this).is(":hidden")||!n(this).parents("body").length){if(!a.get("composite")&&n.data(this,"_jqs_pending"))for(r=P.length;r;r--)P[r-1][0]==this&&P.splice(r-1,1);P.push([this,o]),n.data(this,"_jqs_pending",!0)}else o.call(this)})},n.fn.sparkline.defaults=s(),n.sparkline_display_visible=function(){var e,t,i,s=[];for(t=0,i=P.length;i>t;t++)e=P[t][0],n(e).is(":visible")&&!n(e).parents().is(":hidden")?(P[t][1].call(e),n.data(P[t][0],"_jqs_pending",!1),s.push(t)):!n(e).closest("html").length&&!n.data(e,"_jqs_pending")&&(n.data(P[t][0],"_jqs_pending",!1),s.push(t));for(t=s.length;t;t--)P.splice(s[t-1],1)},n.fn.sparkline.options=o({init:function(e,t){var i,s,o,r;this.userOptions=t=t||{},this.tag=e,this.tagValCache={},s=n.fn.sparkline.defaults,o=s.common,this.tagOptionsPrefix=t.enableTagOptions&&(t.tagOptionsPrefix||o.tagOptionsPrefix),r=this.getTagSetting("type"),i=r===L?s[t.type||o.type]:s[r],this.mergedOptions=n.extend({},o,i,t)},getTagSetting:function(e){var t,n,s,o,r=this.tagOptionsPrefix;if(r===!1||r===i)return L;if(this.tagValCache.hasOwnProperty(e))t=this.tagValCache.key;else{if(t=this.tag.getAttribute(r+e),t===i||null===t)t=L;else if("["===t.substr(0,1))for(t=t.substr(1,t.length-2).split(","),n=t.length;n--;)t[n]=c(t[n].replace(/(^\s*)|(\s*$)/g,""));else if("{"===t.substr(0,1))for(s=t.substr(1,t.length-2).split(","),t={},n=s.length;n--;)o=s[n].split(":",2),t[o[0].replace(/(^\s*)|(\s*$)/g,"")]=c(o[1].replace(/(^\s*)|(\s*$)/g,""));else t=c(t);this.tagValCache.key=t}return t},get:function(e,t){var n,s=this.getTagSetting(e);return s!==L?s:(n=this.mergedOptions[e])===i?t:n}}),n.fn.sparkline._base=o({disabled:!1,init:function(e,t,s,o,r){this.el=e,this.$el=n(e),this.values=t,this.options=s,this.width=o,this.height=r,this.currentRegion=i},initTarget:function(){var e=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),e))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(){},setRegionHighlight:function(e,t,n){var s,o=this.currentRegion,r=!this.options.get("disableHighlight");return t>this.canvasWidth||n>this.canvasHeight||0>t||0>n?null:(s=this.getRegion(e,t,n),o!==s?(o!==i&&r&&this.removeHighlight(),this.currentRegion=s,s!==i&&r&&this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return this.currentRegion!==i?(this.removeHighlight(),this.currentRegion=i,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(){},getCurrentRegionTooltip:function(){var e,t,s,o,a,l,c,h,u,d,f,p,g,m,v=this.options,y="",b=[];if(this.currentRegion===i)return"";if(e=this.getCurrentRegionFields(),f=v.get("tooltipFormatter"))return f(this,v,e);if(v.get("tooltipChartTitle")&&(y+='<div class="jqs jqstitle">'+v.get("tooltipChartTitle")+"</div>\n"),t=this.options.get("tooltipFormat"),!t)return"";if(n.isArray(t)||(t=[t]),n.isArray(e)||(e=[e]),c=this.options.get("tooltipFormatFieldlist"),h=this.options.get("tooltipFormatFieldlistKey"),c&&h){for(u=[],l=e.length;l--;)d=e[l][h],-1!=(m=n.inArray(d,c))&&(u[m]=e[l]);e=u}for(s=t.length,g=e.length,l=0;s>l;l++)for(p=t[l],"string"==typeof p&&(p=new r(p)),o=p.fclass||"jqsfield",m=0;g>m;m++)e[m].isNull&&v.get("tooltipSkipNull")||(n.extend(e[m],{prefix:v.get("tooltipPrefix"),suffix:v.get("tooltipSuffix")}),a=p.render(e[m],v.get("tooltipValueLookups"),v),b.push('<div class="'+o+'">'+a+"</div>"));return b.length?y+b.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(e,i){var n,s,o,r,l=i.get("highlightColor"),c=i.get("highlightLighten");if(l)return l;if(c&&(n=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e))){for(o=[],s=4===e.length?16:1,r=0;3>r;r++)o[r]=a(t.round(parseInt(n[r+1],16)*s*c),0,255);return"rgb("+o.join(",")+")"}return e}}),x={changeHighlight:function(e){var t,i=this.currentRegion,s=this.target,o=this.regionShapes[i];o&&(t=this.renderRegion(i,e),n.isArray(t)||n.isArray(o)?(s.replaceWithShapes(o,t),this.regionShapes[i]=n.map(t,function(e){return e.id})):(s.replaceWithShape(o,t),this.regionShapes[i]=t.id))},render:function(){var e,t,i,s,o=this.values,r=this.target,a=this.regionShapes;if(this.cls._super.render.call(this)){for(i=o.length;i--;)if(e=this.renderRegion(i))if(n.isArray(e)){for(t=[],s=e.length;s--;)e[s].append(),t.push(e[s].id);a[i]=t}else e.append(),a[i]=e.id;else a[i]=null;r.render()}}},n.fn.sparkline.line=C=o(n.fn.sparkline._base,{type:"line",init:function(e,t,i,n,s){C._super.init.call(this,e,t,i,n,s),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(e,t){var n,s=this.regionMap;for(n=s.length;n--;)if(null!==s[n]&&t>=s[n][0]&&t<=s[n][1])return s[n][2];return i},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:null===this.yvalues[e],x:this.xvalues[e],y:this.yvalues[e],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:e}},renderHighlight:function(){var e,t,n=this.currentRegion,s=this.target,o=this.vertices[n],r=this.options,a=r.get("spotRadius"),l=r.get("highlightSpotColor"),c=r.get("highlightLineColor");o&&(a&&l&&(e=s.drawCircle(o[0],o[1],a,i,l),this.highlightSpotId=e.id,s.insertAfterShape(this.lastShapeId,e)),c&&(t=s.drawLine(o[0],this.canvasTop,o[0],this.canvasTop+this.canvasHeight,c),this.highlightLineId=t.id,s.insertAfterShape(this.lastShapeId,t)))},removeHighlight:function(){var e=this.target;this.highlightSpotId&&(e.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(e.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var e,i,n,s,o,r=this.values,a=r.length,l=this.xvalues,c=this.yvalues,h=this.yminmax;for(e=0;a>e;e++)i=r[e],n="string"==typeof r[e],s="object"==typeof r[e]&&r[e]instanceof Array,o=n&&r[e].split(":"),n&&2===o.length?(l.push(Number(o[0])),c.push(Number(o[1])),h.push(Number(o[1]))):s?(l.push(i[0]),c.push(i[1]),h.push(i[1])):(l.push(e),null===r[e]||"null"===r[e]?c.push(null):(c.push(Number(i)),h.push(Number(i))));this.options.get("xvalues")&&(l=this.options.get("xvalues")),this.maxy=this.maxyorg=t.max.apply(t,h),this.miny=this.minyorg=t.min.apply(t,h),this.maxx=t.max.apply(t,l),this.minx=t.min.apply(t,l),this.xvalues=l,this.yvalues=c,this.yminmax=h},processRangeOptions:function(){var e=this.options,t=e.get("normalRangeMin"),n=e.get("normalRangeMax");t!==i&&(t<this.miny&&(this.miny=t),n>this.maxy&&(this.maxy=n)),e.get("chartRangeMin")!==i&&(e.get("chartRangeClip")||e.get("chartRangeMin")<this.miny)&&(this.miny=e.get("chartRangeMin")),e.get("chartRangeMax")!==i&&(e.get("chartRangeClip")||e.get("chartRangeMax")>this.maxy)&&(this.maxy=e.get("chartRangeMax")),e.get("chartRangeMinX")!==i&&(e.get("chartRangeClipX")||e.get("chartRangeMinX")<this.minx)&&(this.minx=e.get("chartRangeMinX")),e.get("chartRangeMaxX")!==i&&(e.get("chartRangeClipX")||e.get("chartRangeMaxX")>this.maxx)&&(this.maxx=e.get("chartRangeMaxX"))},drawNormalRange:function(e,n,s,o,r){var a=this.options.get("normalRangeMin"),l=this.options.get("normalRangeMax"),c=n+t.round(s-s*((l-this.miny)/r)),h=t.round(s*(l-a)/r);this.target.drawRect(e,c,o,h,i,this.options.get("normalRangeColor")).append()},render:function(){var e,s,o,r,a,l,c,h,u,d,f,p,g,m,v,b,w,x,_,S,T,k,D,E,N,M=this.options,R=this.target,A=this.canvasWidth,F=this.canvasHeight,I=this.vertices,P=M.get("spotRadius"),L=this.regionMap;if(C._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),D=this.xvalues,E=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(r=a=0,e=this.maxx-this.minx===0?1:this.maxx-this.minx,s=this.maxy-this.miny===0?1:this.maxy-this.miny,o=this.yvalues.length-1,P&&(4*P>A||4*P>F)&&(P=0),P&&(T=M.get("highlightSpotColor")&&!M.get("disableInteraction"),(T||M.get("minSpotColor")||M.get("spotColor")&&E[o]===this.miny)&&(F-=t.ceil(P)),(T||M.get("maxSpotColor")||M.get("spotColor")&&E[o]===this.maxy)&&(F-=t.ceil(P),r+=t.ceil(P)),(T||(M.get("minSpotColor")||M.get("maxSpotColor"))&&(E[0]===this.miny||E[0]===this.maxy))&&(a+=t.ceil(P),A-=t.ceil(P)),(T||M.get("spotColor")||M.get("minSpotColor")||M.get("maxSpotColor")&&(E[o]===this.miny||E[o]===this.maxy))&&(A-=t.ceil(P))),F--,M.get("normalRangeMin")!==i&&!M.get("drawNormalOnTop")&&this.drawNormalRange(a,r,F,A,s),c=[],h=[c],m=v=null,b=E.length,N=0;b>N;N++)u=D[N],f=D[N+1],d=E[N],p=a+t.round((u-this.minx)*(A/e)),g=b-1>N?a+t.round((f-this.minx)*(A/e)):A,v=p+(g-p)/2,L[N]=[m||0,v,N],m=v,null===d?N&&(null!==E[N-1]&&(c=[],h.push(c)),I.push(null)):(d<this.miny&&(d=this.miny),d>this.maxy&&(d=this.maxy),c.length||c.push([p,r+F]),l=[p,r+t.round(F-F*((d-this.miny)/s))],c.push(l),I.push(l));for(w=[],x=[],_=h.length,N=0;_>N;N++)c=h[N],c.length&&(M.get("fillColor")&&(c.push([c[c.length-1][0],r+F]),x.push(c.slice(0)),c.pop()),c.length>2&&(c[0]=[c[0][0],c[1][1]]),w.push(c));for(_=x.length,N=0;_>N;N++)R.drawShape(x[N],M.get("fillColor"),M.get("fillColor")).append();for(M.get("normalRangeMin")!==i&&M.get("drawNormalOnTop")&&this.drawNormalRange(a,r,F,A,s),_=w.length,N=0;_>N;N++)R.drawShape(w[N],M.get("lineColor"),i,M.get("lineWidth")).append();if(P&&M.get("valueSpots"))for(S=M.get("valueSpots"),S.get===i&&(S=new y(S)),N=0;b>N;N++)k=S.get(E[N]),k&&R.drawCircle(a+t.round((D[N]-this.minx)*(A/e)),r+t.round(F-F*((E[N]-this.miny)/s)),P,i,k).append();P&&M.get("spotColor")&&null!==E[o]&&R.drawCircle(a+t.round((D[D.length-1]-this.minx)*(A/e)),r+t.round(F-F*((E[o]-this.miny)/s)),P,i,M.get("spotColor")).append(),this.maxy!==this.minyorg&&(P&&M.get("minSpotColor")&&(u=D[n.inArray(this.minyorg,E)],R.drawCircle(a+t.round((u-this.minx)*(A/e)),r+t.round(F-F*((this.minyorg-this.miny)/s)),P,i,M.get("minSpotColor")).append()),P&&M.get("maxSpotColor")&&(u=D[n.inArray(this.maxyorg,E)],R.drawCircle(a+t.round((u-this.minx)*(A/e)),r+t.round(F-F*((this.maxyorg-this.miny)/s)),P,i,M.get("maxSpotColor")).append())),this.lastShapeId=R.getLastShapeId(),this.canvasTop=r,R.render()}}}),n.fn.sparkline.bar=_=o(n.fn.sparkline._base,x,{type:"bar",init:function(e,s,o,r,l){var d,f,p,g,m,v,b,w,x,C,S,T,k,D,E,N,M,R,A,F,I,P,L=parseInt(o.get("barWidth"),10),z=parseInt(o.get("barSpacing"),10),O=o.get("chartRangeMin"),H=o.get("chartRangeMax"),j=o.get("chartRangeClip"),W=1/0,B=-1/0;for(_._super.init.call(this,e,s,o,r,l),v=0,b=s.length;b>v;v++)F=s[v],d="string"==typeof F&&F.indexOf(":")>-1,(d||n.isArray(F))&&(E=!0,d&&(F=s[v]=h(F.split(":"))),F=u(F,null),f=t.min.apply(t,F),p=t.max.apply(t,F),W>f&&(W=f),p>B&&(B=p));this.stacked=E,this.regionShapes={},this.barWidth=L,this.barSpacing=z,this.totalBarWidth=L+z,this.width=r=s.length*L+(s.length-1)*z,this.initTarget(),j&&(k=O===i?-1/0:O,D=H===i?1/0:H),m=[],g=E?[]:m;var q=[],$=[];for(v=0,b=s.length;b>v;v++)if(E)for(N=s[v],s[v]=A=[],q[v]=0,g[v]=$[v]=0,M=0,R=N.length;R>M;M++)F=A[M]=j?a(N[M],k,D):N[M],null!==F&&(F>0&&(q[v]+=F),0>W&&B>0?0>F?$[v]+=t.abs(F):g[v]+=F:g[v]+=t.abs(F-(0>F?B:W)),m.push(F));else F=j?a(s[v],k,D):s[v],F=s[v]=c(F),null!==F&&m.push(F);this.max=T=t.max.apply(t,m),this.min=S=t.min.apply(t,m),this.stackMax=B=E?t.max.apply(t,q):T,this.stackMin=W=E?t.min.apply(t,m):S,o.get("chartRangeMin")!==i&&(o.get("chartRangeClip")||o.get("chartRangeMin")<S)&&(S=o.get("chartRangeMin")),o.get("chartRangeMax")!==i&&(o.get("chartRangeClip")||o.get("chartRangeMax")>T)&&(T=o.get("chartRangeMax")),this.zeroAxis=x=o.get("zeroAxis",!0),C=0>=S&&T>=0&&x?0:0==x?S:S>0?S:T,this.xaxisOffset=C,w=E?t.max.apply(t,g)+t.max.apply(t,$):T-S,this.canvasHeightEf=x&&0>S?this.canvasHeight-2:this.canvasHeight-1,C>S?(P=E&&T>=0?B:T,I=(P-C)/w*this.canvasHeight,I!==t.ceil(I)&&(this.canvasHeightEf-=2,I=t.ceil(I))):I=this.canvasHeight,this.yoffset=I,n.isArray(o.get("colorMap"))?(this.colorMapByIndex=o.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=o.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new y(this.colorMapByValue))),this.range=w},getRegion:function(e,n){var s=t.floor(n/this.totalBarWidth);return 0>s||s>=this.values.length?i:s},getCurrentRegionFields:function(){var e,t,i=this.currentRegion,n=m(this.values[i]),s=[];for(t=n.length;t--;)e=n[t],s.push({isNull:null===e,value:e,color:this.calcColor(t,e,i),offset:i});return s},calcColor:function(e,t,s){var o,r,a=this.colorMapByIndex,l=this.colorMapByValue,c=this.options;return o=c.get(this.stacked?"stackedBarColor":0>t?"negBarColor":"barColor"),0===t&&c.get("zeroColor")!==i&&(o=c.get("zeroColor")),l&&(r=l.get(t))?o=r:a&&a.length>s&&(o=a[s]),n.isArray(o)?o[e%o.length]:o},renderRegion:function(e,s){var o,r,a,l,c,h,u,d,p,g,m=this.values[e],v=this.options,y=this.xaxisOffset,b=[],w=this.range,x=this.stacked,C=this.target,_=e*this.totalBarWidth,S=this.canvasHeightEf,T=this.yoffset;if(m=n.isArray(m)?m:[m],u=m.length,d=m[0],l=f(null,m),g=f(y,m,!0),l)return v.get("nullColor")?(a=s?v.get("nullColor"):this.calcHighlightColor(v.get("nullColor"),v),o=T>0?T-1:T,C.drawRect(_,o,this.barWidth-1,0,a,a)):i;for(c=T,h=0;u>h;h++){if(d=m[h],x&&d===y){if(!g||p)continue;p=!0}r=w>0?t.floor(S*(t.abs(d-y)/w))+1:1,y>d||d===y&&0===T?(o=c,c+=r):(o=T-r,T-=r),a=this.calcColor(h,d,e),s&&(a=this.calcHighlightColor(a,v)),b.push(C.drawRect(_,o,this.barWidth-1,r-1,a,a))}return 1===b.length?b[0]:b}}),n.fn.sparkline.tristate=S=o(n.fn.sparkline._base,x,{type:"tristate",init:function(e,t,s,o,r){var a=parseInt(s.get("barWidth"),10),l=parseInt(s.get("barSpacing"),10);S._super.init.call(this,e,t,s,o,r),this.regionShapes={},this.barWidth=a,this.barSpacing=l,this.totalBarWidth=a+l,this.values=n.map(t,Number),this.width=o=t.length*a+(t.length-1)*l,n.isArray(s.get("colorMap"))?(this.colorMapByIndex=s.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=s.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new y(this.colorMapByValue))),this.initTarget()},getRegion:function(e,i){return t.floor(i/this.totalBarWidth)},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:this.values[e]===i,value:this.values[e],color:this.calcColor(this.values[e],e),offset:e}},calcColor:function(e,t){var i,n,s=this.values,o=this.options,r=this.colorMapByIndex,a=this.colorMapByValue;return i=a&&(n=a.get(e))?n:r&&r.length>t?r[t]:o.get(s[t]<0?"negBarColor":s[t]>0?"posBarColor":"zeroBarColor")},renderRegion:function(e,i){var n,s,o,r,a,l,c=this.values,h=this.options,u=this.target;return n=u.pixelHeight,o=t.round(n/2),r=e*this.totalBarWidth,c[e]<0?(a=o,s=o-1):c[e]>0?(a=0,s=o-1):(a=o-1,s=2),l=this.calcColor(c[e],e),null!==l?(i&&(l=this.calcHighlightColor(l,h)),u.drawRect(r,a,this.barWidth-1,s-1,l,l)):void 0}}),n.fn.sparkline.discrete=T=o(n.fn.sparkline._base,x,{type:"discrete",init:function(e,s,o,r,a){T._super.init.call(this,e,s,o,r,a),this.regionShapes={},this.values=s=n.map(s,Number),this.min=t.min.apply(t,s),this.max=t.max.apply(t,s),this.range=this.max-this.min,this.width=r="auto"===o.get("width")?2*s.length:this.width,this.interval=t.floor(r/s.length),this.itemWidth=r/s.length,o.get("chartRangeMin")!==i&&(o.get("chartRangeClip")||o.get("chartRangeMin")<this.min)&&(this.min=o.get("chartRangeMin")),o.get("chartRangeMax")!==i&&(o.get("chartRangeClip")||o.get("chartRangeMax")>this.max)&&(this.max=o.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===o.get("lineHeight")?t.round(.3*this.canvasHeight):o.get("lineHeight"))},getRegion:function(e,i){return t.floor(i/this.itemWidth)},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:this.values[e]===i,value:this.values[e],offset:e}},renderRegion:function(e,i){var n,s,o,r,l=this.values,c=this.options,h=this.min,u=this.max,d=this.range,f=this.interval,p=this.target,g=this.canvasHeight,m=this.lineHeight,v=g-m;return s=a(l[e],h,u),r=e*f,n=t.round(v-v*((s-h)/d)),o=c.get(c.get("thresholdColor")&&s<c.get("thresholdValue")?"thresholdColor":"lineColor"),i&&(o=this.calcHighlightColor(o,c)),p.drawLine(r,n,r,n+m,o)}}),n.fn.sparkline.bullet=k=o(n.fn.sparkline._base,{type:"bullet",init:function(e,n,s,o,r){var a,l,c;k._super.init.call(this,e,n,s,o,r),this.values=n=h(n),c=n.slice(),c[0]=null===c[0]?c[2]:c[0],c[1]=null===n[1]?c[2]:c[1],a=t.min.apply(t,n),l=t.max.apply(t,n),a=s.get("base")===i?0>a?a:0:s.get("base"),this.min=a,this.max=l,this.range=l-a,this.shapes={},this.valueShapes={},this.regiondata={},this.width=o="auto"===s.get("width")?"4.0em":o,this.target=this.$el.simpledraw(o,r,s.get("composite")),n.length||(this.disabled=!0),this.initTarget()},getRegion:function(e,t,n){var s=this.target.getShapeAt(e,t,n);return s!==i&&this.shapes[s]!==i?this.shapes[s]:i},getCurrentRegionFields:function(){var e=this.currentRegion;return{fieldkey:e.substr(0,1),value:this.values[e.substr(1)],region:e}},changeHighlight:function(e){var t,i=this.currentRegion,n=this.valueShapes[i];switch(delete this.shapes[n],i.substr(0,1)){case"r":t=this.renderRange(i.substr(1),e);break;case"p":t=this.renderPerformance(e);break;case"t":t=this.renderTarget(e)}this.valueShapes[i]=t.id,this.shapes[t.id]=i,this.target.replaceWithShape(n,t)},renderRange:function(e,i){var n=this.values[e],s=t.round(this.canvasWidth*((n-this.min)/this.range)),o=this.options.get("rangeColors")[e-2];return i&&(o=this.calcHighlightColor(o,this.options)),this.target.drawRect(0,0,s-1,this.canvasHeight-1,o,o)},renderPerformance:function(e){var i=this.values[1],n=t.round(this.canvasWidth*((i-this.min)/this.range)),s=this.options.get("performanceColor");return e&&(s=this.calcHighlightColor(s,this.options)),this.target.drawRect(0,t.round(.3*this.canvasHeight),n-1,t.round(.4*this.canvasHeight)-1,s,s)},renderTarget:function(e){var i=this.values[0],n=t.round(this.canvasWidth*((i-this.min)/this.range)-this.options.get("targetWidth")/2),s=t.round(.1*this.canvasHeight),o=this.canvasHeight-2*s,r=this.options.get("targetColor");return e&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(n,s,this.options.get("targetWidth")-1,o-1,r,r)},render:function(){var e,t,i=this.values.length,n=this.target;if(k._super.render.call(this)){for(e=2;i>e;e++)t=this.renderRange(e).append(),this.shapes[t.id]="r"+e,this.valueShapes["r"+e]=t.id;null!==this.values[1]&&(t=this.renderPerformance().append(),this.shapes[t.id]="p1",this.valueShapes.p1=t.id),null!==this.values[0]&&(t=this.renderTarget().append(),this.shapes[t.id]="t0",this.valueShapes.t0=t.id),n.render()}}}),n.fn.sparkline.pie=D=o(n.fn.sparkline._base,{type:"pie",init:function(e,i,s,o,r){var a,l=0;if(D._super.init.call(this,e,i,s,o,r),this.shapes={},this.valueShapes={},this.values=i=n.map(i,Number),"auto"===s.get("width")&&(this.width=this.height),i.length>0)for(a=i.length;a--;)l+=i[a];this.total=l,this.initTarget(),this.radius=t.floor(t.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(e,t,n){var s=this.target.getShapeAt(e,t,n);return s!==i&&this.shapes[s]!==i?this.shapes[s]:i},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:this.values[e]===i,value:this.values[e],percent:this.values[e]/this.total*100,color:this.options.get("sliceColors")[e%this.options.get("sliceColors").length],offset:e}},changeHighlight:function(e){var t=this.currentRegion,i=this.renderSlice(t,e),n=this.valueShapes[t];delete this.shapes[n],this.target.replaceWithShape(n,i),this.valueShapes[t]=i.id,this.shapes[i.id]=t},renderSlice:function(e,n){var s,o,r,a,l,c=this.target,h=this.options,u=this.radius,d=h.get("borderWidth"),f=h.get("offset"),p=2*t.PI,g=this.values,m=this.total,v=f?2*t.PI*(f/360):0;for(a=g.length,r=0;a>r;r++){if(s=v,o=v,m>0&&(o=v+p*(g[r]/m)),e===r)return l=h.get("sliceColors")[r%h.get("sliceColors").length],n&&(l=this.calcHighlightColor(l,h)),c.drawPieSlice(u,u,u-d,s,o,i,l);v=o}},render:function(){var e,n,s=this.target,o=this.values,r=this.options,a=this.radius,l=r.get("borderWidth");if(D._super.render.call(this)){for(l&&s.drawCircle(a,a,t.floor(a-l/2),r.get("borderColor"),i,l).append(),n=o.length;n--;)o[n]&&(e=this.renderSlice(n).append(),this.valueShapes[n]=e.id,this.shapes[e.id]=n);s.render()}}}),n.fn.sparkline.box=E=o(n.fn.sparkline._base,{type:"box",init:function(e,t,i,s,o){E._super.init.call(this,e,t,i,s,o),this.values=n.map(t,Number),this.width="auto"===i.get("width")?"4.0em":s,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var e=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==i&&e.push({field:"lo",value:this.loutlier}),this.routlier!==i&&e.push({field:"ro",value:this.routlier}),this.lwhisker!==i&&e.push({field:"lw",value:this.lwhisker}),this.rwhisker!==i&&e.push({field:"rw",value:this.rwhisker}),e},render:function(){var e,n,s,o,r,a,c,h,u,d,f,p=this.target,g=this.values,m=g.length,v=this.options,y=this.canvasWidth,b=this.canvasHeight,w=v.get("chartRangeMin")===i?t.min.apply(t,g):v.get("chartRangeMin"),x=v.get("chartRangeMax")===i?t.max.apply(t,g):v.get("chartRangeMax"),C=0;
if(E._super.render.call(this)){if(v.get("raw"))v.get("showOutliers")&&g.length>5?(n=g[0],e=g[1],o=g[2],r=g[3],a=g[4],c=g[5],h=g[6]):(e=g[0],o=g[1],r=g[2],a=g[3],c=g[4]);else if(g.sort(function(e,t){return e-t}),o=l(g,1),r=l(g,2),a=l(g,3),s=a-o,v.get("showOutliers")){for(e=c=i,u=0;m>u;u++)e===i&&g[u]>o-s*v.get("outlierIQR")&&(e=g[u]),g[u]<a+s*v.get("outlierIQR")&&(c=g[u]);n=g[0],h=g[m-1]}else e=g[0],c=g[m-1];this.quartiles=[o,r,a],this.lwhisker=e,this.rwhisker=c,this.loutlier=n,this.routlier=h,f=y/(x-w+1),v.get("showOutliers")&&(C=t.ceil(v.get("spotRadius")),y-=2*t.ceil(v.get("spotRadius")),f=y/(x-w+1),e>n&&p.drawCircle((n-w)*f+C,b/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append(),h>c&&p.drawCircle((h-w)*f+C,b/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append()),p.drawRect(t.round((o-w)*f+C),t.round(.1*b),t.round((a-o)*f),t.round(.8*b),v.get("boxLineColor"),v.get("boxFillColor")).append(),p.drawLine(t.round((e-w)*f+C),t.round(b/2),t.round((o-w)*f+C),t.round(b/2),v.get("lineColor")).append(),p.drawLine(t.round((e-w)*f+C),t.round(b/4),t.round((e-w)*f+C),t.round(b-b/4),v.get("whiskerColor")).append(),p.drawLine(t.round((c-w)*f+C),t.round(b/2),t.round((a-w)*f+C),t.round(b/2),v.get("lineColor")).append(),p.drawLine(t.round((c-w)*f+C),t.round(b/4),t.round((c-w)*f+C),t.round(b-b/4),v.get("whiskerColor")).append(),p.drawLine(t.round((r-w)*f+C),t.round(.1*b),t.round((r-w)*f+C),t.round(.9*b),v.get("medianColor")).append(),v.get("target")&&(d=t.ceil(v.get("spotRadius")),p.drawLine(t.round((v.get("target")-w)*f+C),t.round(b/2-d),t.round((v.get("target")-w)*f+C),t.round(b/2+d),v.get("targetColor")).append(),p.drawLine(t.round((v.get("target")-w)*f+C-d),t.round(b/2),t.round((v.get("target")-w)*f+C+d),t.round(b/2),v.get("targetColor")).append()),p.render()}}}),R=o({init:function(e,t,i,n){this.target=e,this.id=t,this.type=i,this.args=n},append:function(){return this.target.appendShape(this),this}}),A=o({_pxregex:/(\d+)(px)?\s*$/i,init:function(e,t,i){e&&(this.width=e,this.height=t,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),n.data(i,"_jqs_vcanvas",this))},drawLine:function(e,t,i,n,s,o){return this.drawShape([[e,t],[i,n]],s,o)},drawShape:function(e,t,i,n){return this._genShape("Shape",[e,t,i,n])},drawCircle:function(e,t,i,n,s,o){return this._genShape("Circle",[e,t,i,n,s,o])},drawPieSlice:function(e,t,i,n,s,o,r){return this._genShape("PieSlice",[e,t,i,n,s,o,r])},drawRect:function(e,t,i,n,s,o){return this._genShape("Rect",[e,t,i,n,s,o])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(e,t){n(t).html(e)},_calculatePixelDims:function(e,t,i){var s;s=this._pxregex.exec(t),this.pixelHeight=s?s[1]:n(i).height(),s=this._pxregex.exec(e),this.pixelWidth=s?s[1]:n(i).width()},_genShape:function(e,t){var i=z++;return t.unshift(i),new R(this,i,e,t)},appendShape:function(){alert("appendShape not implemented")},replaceWithShape:function(){alert("replaceWithShape not implemented")},insertAfterShape:function(){alert("insertAfterShape not implemented")},removeShapeId:function(){alert("removeShapeId not implemented")},getShapeAt:function(){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),F=o(A,{init:function(t,s,o,r){F._super.init.call(this,t,s,o),this.canvas=e.createElement("canvas"),o[0]&&(o=o[0]),n.data(o,"_jqs_vcanvas",this),n(this.canvas).css({display:"inline-block",width:t,height:s,verticalAlign:"top"}),this._insert(this.canvas,o),this._calculatePixelDims(t,s,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=r,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=i,n(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(e,t,n){var s=this.canvas.getContext("2d");return e!==i&&(s.strokeStyle=e),s.lineWidth=n===i?1:n,t!==i&&(s.fillStyle=t),s},reset:function(){var e=this._getContext();e.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=i},_drawShape:function(e,t,n,s,o){var r,a,l=this._getContext(n,s,o);for(l.beginPath(),l.moveTo(t[0][0]+.5,t[0][1]+.5),r=1,a=t.length;a>r;r++)l.lineTo(t[r][0]+.5,t[r][1]+.5);n!==i&&l.stroke(),s!==i&&l.fill(),this.targetX!==i&&this.targetY!==i&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawCircle:function(e,n,s,o,r,a,l){var c=this._getContext(r,a,l);c.beginPath(),c.arc(n,s,o,0,2*t.PI,!1),this.targetX!==i&&this.targetY!==i&&c.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e),r!==i&&c.stroke(),a!==i&&c.fill()},_drawPieSlice:function(e,t,n,s,o,r,a,l){var c=this._getContext(a,l);c.beginPath(),c.moveTo(t,n),c.arc(t,n,s,o,r,!1),c.lineTo(t,n),c.closePath(),a!==i&&c.stroke(),l&&c.fill(),this.targetX!==i&&this.targetY!==i&&c.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawRect:function(e,t,i,n,s,o,r){return this._drawShape(e,[[t,i],[t+n,i],[t+n,i+s],[t,i+s],[t,i]],o,r)},appendShape:function(e){return this.shapes[e.id]=e,this.shapeseq.push(e.id),this.lastShapeId=e.id,e.id},replaceWithShape:function(e,t){var i,n=this.shapeseq;for(this.shapes[t.id]=t,i=n.length;i--;)n[i]==e&&(n[i]=t.id);delete this.shapes[e]},replaceWithShapes:function(e,t){var i,n,s,o=this.shapeseq,r={};for(n=e.length;n--;)r[e[n]]=!0;for(n=o.length;n--;)i=o[n],r[i]&&(o.splice(n,1),delete this.shapes[i],s=n);for(n=t.length;n--;)o.splice(s,0,t[n].id),this.shapes[t[n].id]=t[n]},insertAfterShape:function(e,t){var i,n=this.shapeseq;for(i=n.length;i--;)if(n[i]===e)return n.splice(i+1,0,t.id),void(this.shapes[t.id]=t)},removeShapeId:function(e){var t,i=this.shapeseq;for(t=i.length;t--;)if(i[t]===e){i.splice(t,1);break}delete this.shapes[e]},getShapeAt:function(e,t,i){return this.targetX=t,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var e,t,i,n=this.shapeseq,s=this.shapes,o=n.length,r=this._getContext();for(r.clearRect(0,0,this.pixelWidth,this.pixelHeight),i=0;o>i;i++)e=n[i],t=s[e],this["_draw"+t.type].apply(this,t.args);this.interact||(this.shapes={},this.shapeseq=[])}}),I=o(A,{init:function(t,i,s){var o;I._super.init.call(this,t,i,s),s[0]&&(s=s[0]),n.data(s,"_jqs_vcanvas",this),this.canvas=e.createElement("span"),n(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:t,height:i,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,s),this._calculatePixelDims(t,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,o='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",o),this.group=n(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(e,t,n,s,o){var r,a,l,c,h,u,d,f=[];for(d=0,u=t.length;u>d;d++)f[d]=""+t[d][0]+","+t[d][1];return r=f.splice(0,1),o=o===i?1:o,a=n===i?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+n+'" ',l=s===i?' filled="false"':' fillColor="'+s+'" filled="true" ',c=f[0]===f[f.length-1]?"x ":"",h='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+e+'" '+a+l+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+r+" l "+f.join(", ")+" "+c+'e"> </v:shape>'},_drawCircle:function(e,t,n,s,o,r,a){var l,c,h;return t-=s,n-=s,l=o===i?' stroked="false" ':' strokeWeight="'+a+'px" strokeColor="'+o+'" ',c=r===i?' filled="false"':' fillColor="'+r+'" filled="true" ',h='<v:oval  id="jqsshape'+e+'" '+l+c+' style="position:absolute;top:'+n+"px; left:"+t+"px; width:"+2*s+"px; height:"+2*s+'px"></v:oval>'},_drawPieSlice:function(e,n,s,o,r,a,l,c){var h,u,d,f,p,g,m,v;if(r===a)return"";if(a-r===2*t.PI&&(r=0,a=2*t.PI),u=n+t.round(t.cos(r)*o),d=s+t.round(t.sin(r)*o),f=n+t.round(t.cos(a)*o),p=s+t.round(t.sin(a)*o),u===f&&d===p){if(a-r<t.PI)return"";u=f=n+o,d=p=s}return u===f&&d===p&&a-r<t.PI?"":(h=[n-o,s-o,n+o,s+o,u,d,f,p],g=l===i?' stroked="false" ':' strokeWeight="1px" strokeColor="'+l+'" ',m=c===i?' filled="false"':' fillColor="'+c+'" filled="true" ',v='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+e+'" '+g+m+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+n+","+s+" wa "+h.join(", ")+' x e"> </v:shape>')},_drawRect:function(e,t,i,n,s,o,r){return this._drawShape(e,[[t,i],[t,i+s],[t+n,i+s],[t+n,i],[t,i]],o,r)},reset:function(){this.group.innerHTML=""},appendShape:function(e){var t=this["_draw"+e.type].apply(this,e.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",t):this.prerender+=t,this.lastShapeId=e.id,e.id},replaceWithShape:function(e,t){var i=n("#jqsshape"+e),s=this["_draw"+t.type].apply(this,t.args);i[0].outerHTML=s},replaceWithShapes:function(e,t){var i,s=n("#jqsshape"+e[0]),o="",r=t.length;for(i=0;r>i;i++)o+=this["_draw"+t[i].type].apply(this,t[i].args);for(s[0].outerHTML=o,i=1;i<e.length;i++)n("#jqsshape"+e[i]).remove()},insertAfterShape:function(e,t){var i=n("#jqsshape"+e),s=this["_draw"+t.type].apply(this,t.args);i[0].insertAdjacentHTML("afterEnd",s)},removeShapeId:function(e){var t=n("#jqsshape"+e);this.group.removeChild(t[0])},getShapeAt:function(e){var t=e.id.substr(8);return t},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math),/*!
 * Magnific Popup v0.9.9 by Dmitry Semenov
 *
 * http://bit.ly/magnific-popup#build=inline+image+ajax+iframe+gallery+retina+imagezoom+fastclick
 */
function(e){var t,i,n,s,o,r,a,l="Close",c="BeforeClose",h="AfterClose",u="BeforeAppend",d="MarkupParse",f="Open",p="Change",g="mfp",m="."+g,v="mfp-ready",y="mfp-removing",b="mfp-prevent-close",w=function(){},x=!!window.jQuery,C=e(window),_=function(e,i){t.ev.on(g+e+m,i)},S=function(t,i,n,s){var o=document.createElement("div");return o.className="mfp-"+t,n&&(o.innerHTML=n),s?i&&i.appendChild(o):(o=e(o),i&&o.appendTo(i)),o},T=function(i,n){t.ev.triggerHandler(g+i,n),t.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),t.st.callbacks[i]&&t.st.callbacks[i].apply(t,e.isArray(n)?n:[n]))},k=function(i){return i===a&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),a=i),t.currTemplate.closeBtn},D=function(){e.magnificPopup.instance||(t=new w,t.init(),e.magnificPopup.instance=t)},E=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};w.prototype={constructor:w,init:function(){var i=navigator.appVersion;t.isIE7=-1!==i.indexOf("MSIE 7."),t.isIE8=-1!==i.indexOf("MSIE 8."),t.isLowIE=t.isIE7||t.isIE8,t.isAndroid=/android/gi.test(i),t.isIOS=/iphone|ipad|ipod/gi.test(i),t.supportsTransition=E(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),s=e(document),t.popupsCache={}},open:function(i){n||(n=e(document.body));var o;if(i.isObj===!1){t.items=i.items.toArray(),t.index=0;var a,l=i.items;for(o=0;o<l.length;o++)if(a=l[o],a.parsed&&(a=a.el[0]),a===i.el[0]){t.index=o;break}}else t.items=e.isArray(i.items)?i.items:[i.items],t.index=i.index||0;if(t.isOpen)return void t.updateItemHTML();t.types=[],r="",t.ev=i.mainEl&&i.mainEl.length?i.mainEl.eq(0):s,i.key?(t.popupsCache[i.key]||(t.popupsCache[i.key]={}),t.currTemplate=t.popupsCache[i.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,i),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=S("bg").on("click"+m,function(){t.close()}),t.wrap=S("wrap").attr("tabindex",-1).on("click"+m,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=S("container",t.wrap)),t.contentContainer=S("content"),t.st.preloader&&(t.preloader=S("preloader",t.container,t.st.tLoading));var c=e.magnificPopup.modules;for(o=0;o<c.length;o++){var h=c[o];h=h.charAt(0).toUpperCase()+h.slice(1),t["init"+h].call(t)}T("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(_(d,function(e,t,i,n){i.close_replaceWith=k(n.type)}),r+=" mfp-close-btn-in"):t.wrap.append(k())),t.st.alignTop&&(r+=" mfp-align-top"),t.wrap.css(t.fixedContentPos?{overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}:{top:C.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:s.height(),position:"absolute"}),t.st.enableEscapeKey&&s.on("keyup"+m,function(e){27===e.keyCode&&t.close()}),C.on("resize"+m,function(){t.updateSize()}),t.st.closeOnContentClick||(r+=" mfp-auto-cursor"),r&&t.wrap.addClass(r);var u=t.wH=C.height(),p={};if(t.fixedContentPos&&t._hasScrollBar(u)){var g=t._getScrollbarSize();g&&(p.marginRight=g)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):p.overflow="hidden");var y=t.st.mainClass;return t.isIE7&&(y+=" mfp-ie7"),y&&t._addClassToMFP(y),t.updateItemHTML(),T("BuildControls"),e("html").css(p),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||n),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(v),t._setFocus()):t.bgOverlay.addClass(v),s.on("focusin"+m,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(u),T(f),i},close:function(){t.isOpen&&(T(c),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(y),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){T(l);var i=y+" "+v+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(i+=t.st.mainClass+" "),t._removeClassFromMFP(i),t.fixedContentPos){var n={marginRight:""};t.isIE7?e("body, html").css("overflow",""):n.overflow="",e("html").css(n)}s.off("keyup"+m+" focusin"+m),t.ev.off(m),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),t.st.showCloseBtn&&(!t.st.closeBtnInside||t.currTemplate[t.currItem.type]===!0)&&t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,T(h)},updateSize:function(e){if(t.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*i;t.wrap.css("height",n),t.wH=n}else t.wH=e||C.height();t.fixedContentPos||t.wrap.css("height",t.wH),T("Resize")},updateItemHTML:function(){var i=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),i.parsed||(i=t.parseEl(t.index));var n=i.type;if(T("BeforeChange",[t.currItem?t.currItem.type:"",n]),t.currItem=i,!t.currTemplate[n]){var s=t.st[n]?t.st[n].markup:!1;T("FirstMarkupParse",s),t.currTemplate[n]=s?e(s):!0}o&&o!==i.type&&t.container.removeClass("mfp-"+o+"-holder");var r=t["get"+n.charAt(0).toUpperCase()+n.slice(1)](i,t.currTemplate[n]);t.appendContent(r,n),i.preloaded=!0,T(p,i),o=i.type,t.container.prepend(t.contentContainer),T("AfterChange")},appendContent:function(e,i){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[i]===!0?t.content.find(".mfp-close").length||t.content.append(k()):t.content=e:t.content="",T(u),t.container.addClass("mfp-"+i+"-holder"),t.contentContainer.append(t.content)},parseEl:function(i){var n,s=t.items[i];if(s.tagName?s={el:e(s)}:(n=s.type,s={data:s,src:s.src}),s.el){for(var o=t.types,r=0;r<o.length;r++)if(s.el.hasClass("mfp-"+o[r])){n=o[r];break}s.src=s.el.attr("data-mfp-src"),s.src||(s.src=s.el.attr("href"))}return s.type=n||t.st.type||"inline",s.index=i,s.parsed=!0,t.items[i]=s,T("ElementParse",s),t.items[i]},addGroup:function(e,i){var n=function(n){n.mfpEl=this,t._openClick(n,e,i)};i||(i={});var s="click.magnificPopup";i.mainEl=e,i.items?(i.isObj=!0,e.off(s).on(s,n)):(i.isObj=!1,i.delegate?e.off(s).on(s,i.delegate,n):(i.items=e,e.off(s).on(s,n)))},_openClick:function(i,n,s){var o=void 0!==s.midClick?s.midClick:e.magnificPopup.defaults.midClick;if(o||2!==i.which&&!i.ctrlKey&&!i.metaKey){var r=void 0!==s.disableOn?s.disableOn:e.magnificPopup.defaults.disableOn;if(r)if(e.isFunction(r)){if(!r.call(t))return!0}else if(C.width()<r)return!0;i.type&&(i.preventDefault(),t.isOpen&&i.stopPropagation()),s.el=e(i.mfpEl),s.delegate&&(s.items=n.find(s.delegate)),t.open(s)}},updateStatus:function(e,n){if(t.preloader){i!==e&&t.container.removeClass("mfp-s-"+i),!n&&"loading"===e&&(n=t.st.tLoading);var s={status:e,text:n};T("UpdateStatus",s),e=s.status,n=s.text,t.preloader.html(n),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),i=e}},_checkIfClose:function(i){if(!e(i).hasClass(b)){var n=t.st.closeOnContentClick,s=t.st.closeOnBgClick;if(n&&s)return!0;if(!t.content||e(i).hasClass("mfp-close")||t.preloader&&i===t.preloader[0])return!0;if(i===t.content[0]||e.contains(t.content[0],i)){if(n)return!0}else if(s&&e.contains(document,i))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?s.height():document.body.scrollHeight)>(e||C.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(i){return i.target===t.wrap[0]||e.contains(t.wrap[0],i.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,i,n){var s;n.data&&(i=e.extend(n.data,i)),T(d,[t,i,n]),e.each(i,function(e,i){if(void 0===i||i===!1)return!0;if(s=e.split("_"),s.length>1){var n=t.find(m+"-"+s[0]);if(n.length>0){var o=s[1];"replaceWith"===o?n[0]!==i[0]&&n.replaceWith(i):"img"===o?n.is("img")?n.attr("src",i):n.replaceWith('<img src="'+i+'" class="'+n.attr("class")+'" />'):n.attr(s[1],i)}}else t.find(m+"-"+e).html(i)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.id="mfp-sbm",e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:w.prototype,modules:[],open:function(t,i){return D(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=i||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,i){i.options&&(e.magnificPopup.defaults[t]=i.options),e.extend(this.proto,i.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},e.fn.magnificPopup=function(i){D();var n=e(this);if("string"==typeof i)if("open"===i){var s,o=x?n.data("magnificPopup"):n[0].magnificPopup,r=parseInt(arguments[1],10)||0;o.items?s=o.items[r]:(s=n,o.delegate&&(s=s.find(o.delegate)),s=s.eq(r)),t._openClick({mfpEl:s},n,o)}else t.isOpen&&t[i].apply(t,Array.prototype.slice.call(arguments,1));else i=e.extend(!0,{},i),x?n.data("magnificPopup",i):n[0].magnificPopup=i,t.addGroup(n,i);return n};var N,M,R,A="inline",F=function(){R&&(M.after(R.addClass(N)).detach(),R=null)};e.magnificPopup.registerModule(A,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(A),_(l+"."+A,function(){F()})},getInline:function(i,n){if(F(),i.src){var s=t.st.inline,o=e(i.src);if(o.length){var r=o[0].parentNode;r&&r.tagName&&(M||(N=s.hiddenClass,M=S(N),N="mfp-"+N),R=o.after(M).detach().removeClass(N)),t.updateStatus("ready")}else t.updateStatus("error",s.tNotFound),o=e("<div>");return i.inlineElement=o,o}return t.updateStatus("ready"),t._parseMarkup(n,{},i),n}}});var I,P="ajax",L=function(){I&&n.removeClass(I)},z=function(){L(),t.req&&t.req.abort()};e.magnificPopup.registerModule(P,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(P),I=t.st.ajax.cursor,_(l+"."+P,z),_("BeforeChange."+P,z)},getAjax:function(i){I&&n.addClass(I),t.updateStatus("loading");var s=e.extend({url:i.src,success:function(n,s,o){var r={data:n,xhr:o};T("ParseAjax",r),t.appendContent(e(r.data),P),i.finished=!0,L(),t._setFocus(),setTimeout(function(){t.wrap.addClass(v)},16),t.updateStatus("ready"),T("AjaxContentAdded")},error:function(){L(),i.finished=i.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",i.src))}},t.st.ajax.settings);return t.req=e.ajax(s),""}}});var O,H=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var n=t.st.image.titleSrc;if(n){if(e.isFunction(n))return n.call(t,i);if(i.el)return i.el.attr(n)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=t.st.image,i=".image";t.types.push("image"),_(f+i,function(){"image"===t.currItem.type&&e.cursor&&n.addClass(e.cursor)}),_(l+i,function(){e.cursor&&n.removeClass(e.cursor),C.off("resize"+m)}),_("Resize"+i,t.resizeImage),t.isLowIE&&_("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var i=0;t.isLowIE&&(i=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-i)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,O&&clearInterval(O),e.isCheckingImgSize=!1,T("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var i=0,n=e.img[0],s=function(o){O&&clearInterval(O),O=setInterval(function(){return n.naturalWidth>0?void t._onImageHasSize(e):(i>200&&clearInterval(O),i++,3===i?s(10):40===i?s(50):100===i&&s(500),void 0)},o)};s(1)},getImage:function(i,n){var s=0,o=function(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,T("ImageLoadComplete")):(s++,200>s?setTimeout(o,100):r()))},r=function(){i&&(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("error",a.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)},a=t.st.image,l=n.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",i.img=e(c).on("load.mfploader",o).on("error.mfploader",r),c.src=i.src,l.is("img")&&(i.img=i.img.clone()),c=i.img[0],c.naturalWidth>0?i.hasSize=!0:c.width||(i.hasSize=!1)}return t._parseMarkup(n,{title:H(i),img_replaceWith:i.img},i),t.resizeImage(),i.hasSize?(O&&clearInterval(O),i.loadError?(n.addClass("mfp-loading"),t.updateStatus("error",a.tError.replace("%url%",i.src))):(n.removeClass("mfp-loading"),t.updateStatus("ready")),n):(t.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,n.addClass("mfp-loading"),t.findImageSize(i)),n)}}});var j,W=function(){return void 0===j&&(j=void 0!==document.createElement("p").style.MozTransform),j};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,i=t.st.zoom,n=".zoom";if(i.enabled&&t.supportsTransition){var s,o,r=i.duration,a=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+i.duration/1e3+"s "+i.easing,s={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return s["-webkit-"+o]=s["-moz-"+o]=s["-o-"+o]=s[o]=n,t.css(s),t},h=function(){t.content.css("visibility","visible")};_("BuildControls"+n,function(){if(t._allowZoom()){if(clearTimeout(s),t.content.css("visibility","hidden"),e=t._getItemToZoom(),!e)return void h();o=a(e),o.css(t._getOffset()),t.wrap.append(o),s=setTimeout(function(){o.css(t._getOffset(!0)),s=setTimeout(function(){h(),setTimeout(function(){o.remove(),e=o=null,T("ZoomAnimationEnded")},16)},r)},16)}}),_(c+n,function(){if(t._allowZoom()){if(clearTimeout(s),t.st.removalDelay=r,!e){if(e=t._getItemToZoom(),!e)return;o=a(e)}o.css(t._getOffset(!0)),t.wrap.append(o),t.content.css("visibility","hidden"),setTimeout(function(){o.css(t._getOffset())},16)}}),_(l+n,function(){t._allowZoom()&&(h(),o&&o.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return t.currItem.hasSize?t.currItem.img:!1},_getOffset:function(i){var n;n=i?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var s=n.offset(),o=parseInt(n.css("padding-top"),10),r=parseInt(n.css("padding-bottom"),10);s.top-=e(window).scrollTop()-o;var a={width:n.width(),height:(x?n.innerHeight():n[0].offsetHeight)-r-o};return W()?a["-moz-transform"]=a.transform="translate("+s.left+"px,"+s.top+"px)":(a.left=s.left,a.top=s.top),a}}});var B="iframe",q="//about:blank",$=function(e){if(t.currTemplate[B]){var i=t.currTemplate[B].find("iframe");i.length&&(e||(i[0].src=q),t.isIE8&&i.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(B,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(B),_("BeforeChange",function(e,t,i){t!==i&&(t===B?$():i===B&&$(!0))}),_(l+"."+B,function(){$()})},getIframe:function(i,n){var s=i.src,o=t.st.iframe;e.each(o.patterns,function(){return s.indexOf(this.index)>-1?(this.id&&(s="string"==typeof this.id?s.substr(s.lastIndexOf(this.id)+this.id.length,s.length):this.id.call(this,s)),s=this.src.replace("%id%",s),!1):void 0});var r={};return o.srcAction&&(r[o.srcAction]=s),t._parseMarkup(n,r,i),t.updateStatus("ready"),n}}});var U=function(e){var i=t.items.length;return e>i-1?e-i:0>e?i+e:e},V=function(e,t,i){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,i)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=t.st.gallery,n=".mfp-gallery",o=Boolean(e.fn.mfpFastClick);return t.direction=!0,i&&i.enabled?(r+=" mfp-gallery",_(f+n,function(){i.navigateByImgClick&&t.wrap.on("click"+n,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),s.on("keydown"+n,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),_("UpdateStatus"+n,function(e,i){i.text&&(i.text=V(i.text,t.currItem.index,t.items.length))}),_(d+n,function(e,n,s,o){var r=t.items.length;s.counter=r>1?V(i.tCounter,o.index,r):""}),_("BuildControls"+n,function(){if(t.items.length>1&&i.arrows&&!t.arrowLeft){var n=i.arrowMarkup,s=t.arrowLeft=e(n.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass(b),r=t.arrowRight=e(n.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass(b),a=o?"mfpFastClick":"click";s[a](function(){t.prev()}),r[a](function(){t.next()}),t.isIE7&&(S("b",s[0],!1,!0),S("a",s[0],!1,!0),S("b",r[0],!1,!0),S("a",r[0],!1,!0)),t.container.append(s.add(r))}}),_(p+n,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),_(l+n,function(){s.off(n),t.wrap.off("click"+n),t.arrowLeft&&o&&t.arrowLeft.add(t.arrowRight).destroyMfpFastClick(),t.arrowRight=t.arrowLeft=null}),void 0):!1},next:function(){t.direction=!0,t.index=U(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=U(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,i=t.st.gallery.preload,n=Math.min(i[0],t.items.length),s=Math.min(i[1],t.items.length);for(e=1;e<=(t.direction?s:n);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?n:s);e++)t._preloadItem(t.index-e)},_preloadItem:function(i){if(i=U(i),!t.items[i].preloaded){var n=t.items[i];n.parsed||(n=t.parseEl(i)),T("LazyLoad",n),"image"===n.type&&(n.img=e('<img class="mfp-img" />').on("load.mfploader",function(){n.hasSize=!0}).on("error.mfploader",function(){n.hasSize=!0,n.loadError=!0,T("LazyLoadError",n)}).attr("src",n.src)),n.preloaded=!0}}}});var Y="retina";e.magnificPopup.registerModule(Y,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,i=e.ratio;i=isNaN(i)?i():i,i>1&&(_("ImageHasSize."+Y,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/i,width:"100%"})}),_("ElementParse."+Y,function(t,n){n.src=e.replaceSrc(n,i)}))}}}}),function(){var t=1e3,i="ontouchstart"in window,n=function(){C.off("touchmove"+o+" touchend"+o)},s="mfpFastClick",o="."+s;e.fn.mfpFastClick=function(s){return e(this).each(function(){var r,a=e(this);if(i){var l,c,h,u,d,f;a.on("touchstart"+o,function(e){u=!1,f=1,d=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],c=d.clientX,h=d.clientY,C.on("touchmove"+o,function(e){d=e.originalEvent?e.originalEvent.touches:e.touches,f=d.length,d=d[0],(Math.abs(d.clientX-c)>10||Math.abs(d.clientY-h)>10)&&(u=!0,n())}).on("touchend"+o,function(e){n(),u||f>1||(r=!0,e.preventDefault(),clearTimeout(l),l=setTimeout(function(){r=!1},t),s())})})}a.on("click"+o,function(){r||s()})})},e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+o+" click"+o),i&&C.off("touchmove"+o+" touchend"+o)}}(),D()}(window.jQuery||window.Zepto),/*!
 * slimScroll
 * Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 1.3.0
 *
 */
function(e){jQuery.fn.extend({slimScroll:function(i){var n=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},i);return this.each(function(){function s(t){if(h){t=t||window.event;var i=0;t.wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3),e(t.target||t.srcTarget||t.srcElement).closest("."+n.wrapperClass).is(w.parent())&&o(i,!0),t.preventDefault&&!b&&t.preventDefault(),b||(t.returnValue=!1)}}function o(e,t,i){b=!1;var s=e,o=w.outerHeight()-C.outerHeight();t&&(s=parseInt(C.css("top"))+e*parseInt(n.wheelStep)/100*C.outerHeight(),s=Math.min(Math.max(s,0),o),s=e>0?Math.ceil(s):Math.floor(s),C.css({top:s+"px"})),m=parseInt(C.css("top"))/(w.outerHeight()-C.outerHeight()),s=m*(w[0].scrollHeight-w.outerHeight()),i&&(s=e,e=s/w[0].scrollHeight*w.outerHeight(),e=Math.min(Math.max(e,0),o),C.css({top:e+"px"})),w.scrollTop(s),w.trigger("slimscrolling",~~s),l(),c()}function r(){window.addEventListener?(this.addEventListener("DOMMouseScroll",s,!1),this.addEventListener("mousewheel",s,!1),this.addEventListener("MozMousePixelScroll",s,!1)):document.attachEvent("onmousewheel",s)}function a(){g=Math.max(w.outerHeight()/w[0].scrollHeight*w.outerHeight(),y),C.css({height:g+"px"});var e=g==w.outerHeight()?"none":"block";C.css({display:e})}function l(){a(),clearTimeout(f),m==~~m?(b=n.allowPageScroll,v!=m&&w.trigger("slimscroll",0==~~m?"top":"bottom")):b=!1,v=m,g>=w.outerHeight()?b=!0:(C.stop(!0,!0).fadeIn("fast"),n.railVisible&&_.stop(!0,!0).fadeIn("fast"))}function c(){n.alwaysVisible||(f=setTimeout(function(){n.disableFadeOut&&h||u||d||(C.fadeOut("slow"),_.fadeOut("slow"))},1e3))}var h,u,d,f,p,g,m,v,y=30,b=!1,w=e(this);if(w.parent().hasClass(n.wrapperClass)){var x=w.scrollTop(),C=w.parent().find("."+n.barClass),_=w.parent().find("."+n.railClass);if(a(),e.isPlainObject(i)){if("height"in i&&"auto"==i.height){w.parent().css("height","auto"),w.css("height","auto");var S=w.parent().parent().height();w.parent().css("height",S),w.css("height",S)}if("scrollTo"in i)x=parseInt(n.scrollTo);else if("scrollBy"in i)x+=parseInt(n.scrollBy);else if("destroy"in i)return C.remove(),_.remove(),void w.unwrap();o(x,!1,!0)}}else{n.height="auto"==n.height?w.parent().height():n.height,x=e("<div></div>").addClass(n.wrapperClass).css({position:"relative",overflow:"hidden",width:n.width,height:n.height}),w.css({overflow:"hidden",width:n.width,height:n.height});var _=e("<div></div>").addClass(n.railClass).css({width:n.size,height:"100%",position:"absolute",top:0,display:n.alwaysVisible&&n.railVisible?"block":"none","border-radius":n.railBorderRadius,background:n.railColor,opacity:n.railOpacity,zIndex:90}),C=e("<div></div>").addClass(n.barClass).css({background:n.color,width:n.size,position:"absolute",top:0,opacity:n.opacity,display:n.alwaysVisible?"block":"none","border-radius":n.borderRadius,BorderRadius:n.borderRadius,MozBorderRadius:n.borderRadius,WebkitBorderRadius:n.borderRadius,zIndex:99}),S="right"==n.position?{right:n.distance}:{left:n.distance};_.css(S),C.css(S),w.wrap(x),w.parent().append(C),w.parent().append(_),n.railDraggable&&C.bind("mousedown",function(i){var n=e(document);return d=!0,t=parseFloat(C.css("top")),pageY=i.pageY,n.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,C.css("top",currTop),o(0,C.position().top,!1)}),n.bind("mouseup.slimscroll",function(){d=!1,c(),n.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),_.hover(function(){l()},function(){c()}),C.hover(function(){u=!0},function(){u=!1}),w.hover(function(){h=!0,l(),c()},function(){h=!1,c()}),w.bind("touchstart",function(e){e.originalEvent.touches.length&&(p=e.originalEvent.touches[0].pageY)}),w.bind("touchmove",function(e){b||e.originalEvent.preventDefault(),e.originalEvent.touches.length&&(o((p-e.originalEvent.touches[0].pageY)/n.touchScrollStep,!0),p=e.originalEvent.touches[0].pageY)}),a(),"bottom"===n.start?(C.css({top:w.outerHeight()-C.outerHeight()}),o(0,!0)):"top"!==n.start&&(o(e(n.start).position().top,null,!0),n.alwaysVisible||C.hide()),r()}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery),/*! http://mths.be/placeholder v2.0.7 by @mathias */
!function(e,t,i){function n(e){var t={},n=/^jQuery\d+$/;return i.each(e.attributes,function(e,i){i.specified&&!n.test(i.name)&&(t[i.name]=i.value)}),t}function s(e,t){var n=this,s=i(n);if(n.value==s.attr("placeholder")&&s.hasClass("placeholder"))if(s.data("placeholder-password")){if(s=s.hide().next().show().attr("id",s.removeAttr("id").data("placeholder-id")),e===!0)return s[0].value=t;s.focus()}else n.value="",s.removeClass("placeholder"),n==r()&&n.select()}function o(){var e,t=this,o=i(t),r=this.id;if(""==t.value){if("password"==t.type){if(!o.data("placeholder-textinput")){try{e=o.clone().attr({type:"text"})}catch(a){e=i("<input>").attr(i.extend(n(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":o,"placeholder-id":r}).bind("focus.placeholder",s),o.data({"placeholder-textinput":e,"placeholder-id":r}).before(e)}o=o.removeAttr("id").hide().prev().attr("id",r).show()}o.addClass("placeholder"),o[0].value=o.attr("placeholder")}else o.removeClass("placeholder")}function r(){try{return t.activeElement}catch(e){}}var a,l,c="placeholder"in t.createElement("input"),h="placeholder"in t.createElement("textarea"),u=i.fn,d=i.valHooks,f=i.propHooks;c&&h?(l=u.placeholder=function(){return this},l.input=l.textarea=!0):(l=u.placeholder=function(){var e=this;return e.filter((c?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":s,"blur.placeholder":o}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},l.input=c,l.textarea=h,a={get:function(e){var t=i(e),n=t.data("placeholder-password");return n?n[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var n=i(e),a=n.data("placeholder-password");return a?a[0].value=t:n.data("placeholder-enabled")?(""==t?(e.value=t,e!=r()&&o.call(e)):n.hasClass("placeholder")?s.call(e,!0,t)||(e.value=t):e.value=t,n):e.value=t}},c||(d.input=a,f.value=a),h||(d.textarea=a,f.value=a),i(function(){i(t).delegate("form","submit.placeholder",function(){var e=i(".placeholder",this).each(s);setTimeout(function(){e.each(o)},10)})}),i(e).bind("beforeunload.placeholder",function(){i(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),/*
 * Masked Input plugin for jQuery
 * Copyright (c) 2007-2013 Josh Bush (digitalbush.com)
 * Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license)
 * Version: 1.3.1
*/
function(e){function t(){var e=document.createElement("input"),t="onpaste";return e.setAttribute(t,""),"function"==typeof e[t]?"paste":"input"}var i,n=t()+".mask",s=navigator.userAgent,o=/iphone/i.test(s),r=/android/i.test(s);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var i;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(i=this.createTextRange(),i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),e=0-i.duplicate().moveStart("character",-1e5),t=e+i.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,s){var a,l,c,h,u,d;return!t&&this.length>0?(a=e(this[0]),a.data(e.mask.dataName)()):(s=e.extend({placeholder:e.mask.placeholder,completed:null},s),l=e.mask.definitions,c=[],h=d=t.length,u=null,e.each(t.split(""),function(e,t){"?"==t?(d--,h=e):l[t]?(c.push(RegExp(l[t])),null===u&&(u=c.length-1)):c.push(null)}),this.trigger("unmask").each(function(){function a(e){for(;d>++e&&!c[e];);return e}function f(e){for(;--e>=0&&!c[e];);return e}function p(e,t){var i,n;if(!(0>e)){for(i=e,n=a(t);d>i;i++)if(c[i]){if(!(d>n&&c[i].test(C[n])))break;C[i]=C[n],C[n]=s.placeholder,n=a(n)}b(),x.caret(Math.max(u,e))}}function g(e){var t,i,n,o;for(t=e,i=s.placeholder;d>t;t++)if(c[t]){if(n=a(t),o=C[t],C[t]=i,!(d>n&&c[n].test(o)))break;i=o}}function m(e){var t,i,n,s=e.which;8===s||46===s||o&&127===s?(t=x.caret(),i=t.begin,n=t.end,0===n-i&&(i=46!==s?f(i):n=a(i-1),n=46===s?a(n):n),y(i,n),p(i,n-1),e.preventDefault()):27==s&&(x.val(_),x.caret(0,w()),e.preventDefault())}function v(t){var i,n,o,l=t.which,h=x.caret();t.ctrlKey||t.altKey||t.metaKey||32>l||l&&(0!==h.end-h.begin&&(y(h.begin,h.end),p(h.begin,h.end-1)),i=a(h.begin-1),d>i&&(n=String.fromCharCode(l),c[i].test(n)&&(g(i),C[i]=n,b(),o=a(i),r?setTimeout(e.proxy(e.fn.caret,x,o),0):x.caret(o),s.completed&&o>=d&&s.completed.call(x))),t.preventDefault())}function y(e,t){var i;for(i=e;t>i&&d>i;i++)c[i]&&(C[i]=s.placeholder)}function b(){x.val(C.join(""))}function w(e){var t,i,n=x.val(),o=-1;for(t=0,pos=0;d>t;t++)if(c[t]){for(C[t]=s.placeholder;pos++<n.length;)if(i=n.charAt(pos-1),c[t].test(i)){C[t]=i,o=t;break}if(pos>n.length)break}else C[t]===n.charAt(pos)&&t!==h&&(pos++,o=t);return e?b():h>o+1?(x.val(""),y(0,d)):(b(),x.val(x.val().substring(0,o+1))),h?t:u}var x=e(this),C=e.map(t.split(""),function(e){return"?"!=e?l[e]?s.placeholder:e:void 0}),_=x.val();x.data(e.mask.dataName,function(){return e.map(C,function(e,t){return c[t]&&e!=s.placeholder?e:null}).join("")}),x.attr("readonly")||x.one("unmask",function(){x.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){clearTimeout(i);var e;_=x.val(),e=w(),i=setTimeout(function(){b(),e==t.length?x.caret(0,e):x.caret(e)},10)}).bind("blur.mask",function(){w(),x.val()!=_&&x.change()}).bind("keydown.mask",m).bind("keypress.mask",v).bind(n,function(){setTimeout(function(){var e=w(!0);x.caret(e),s.completed&&e==x.val().length&&s.completed.call(x)},0)}),w()}))}})}(jQuery),/* =========================================================
 * bootstrap-slider.js v2.0.0
 * http://www.eyecon.ro/bootstrap-slider
 * =========================================================
 * Copyright 2012 Stefan Petre
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
!function(e){var t=function(t,i){this.element=e(t),this.picker=e('<div class="slider"><div class="slider-track"><div class="slider-selection"></div><div class="slider-handle"></div><div class="slider-handle"></div></div><div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div></div>').insertBefore(this.element).append(this.element),this.id=this.element.data("slider-id")||i.id,this.id&&(this.picker[0].id=this.id),"undefined"!=typeof Modernizr&&Modernizr.touch&&(this.touchCapable=!0);var n=this.element.data("slider-tooltip")||i.tooltip;switch(this.tooltip=this.picker.find(".tooltip"),this.tooltipInner=this.tooltip.find("div.tooltip-inner"),this.orientation=this.element.data("slider-orientation")||i.orientation,this.orientation){case"vertical":this.picker.addClass("slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight",this.tooltip.addClass("right")[0].style.left="100%";break;default:this.picker.addClass("slider-horizontal").css("width",this.element.outerWidth()),this.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth",this.tooltip.addClass("top")[0].style.top=-this.tooltip.outerHeight()-14+"px"}this.min=this.element.data("slider-min")||i.min,this.max=this.element.data("slider-max")||i.max,this.step=this.element.data("slider-step")||i.step,this.value=this.element.data("slider-value")||i.value,this.value[1]&&(this.range=!0),this.selection=this.element.data("slider-selection")||i.selection,this.selectionEl=this.picker.find(".slider-selection"),"none"===this.selection&&this.selectionEl.addClass("hide"),this.selectionElStyle=this.selectionEl[0].style,this.handle1=this.picker.find(".slider-handle:first"),this.handle1Stype=this.handle1[0].style,this.handle2=this.picker.find(".slider-handle:last"),this.handle2Stype=this.handle2[0].style;var s=this.element.data("slider-handle")||i.handle;switch(s){case"round":this.handle1.addClass("round"),this.handle2.addClass("round");break;case"triangle":this.handle1.addClass("triangle"),this.handle2.addClass("triangle")}this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]="after"==this.selection?this.max:this.min),this.diff=this.max-this.min,this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff],this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos],this.formater=i.formater,this.layout(),this.picker.on(this.touchCapable?{touchstart:e.proxy(this.mousedown,this)}:{mousedown:e.proxy(this.mousedown,this)}),"show"===n?this.picker.on({mouseenter:e.proxy(this.showTooltip,this),mouseleave:e.proxy(this.hideTooltip,this)}):this.tooltip.addClass("hide")};t.prototype={constructor:t,over:!1,inDrag:!1,showTooltip:function(){this.tooltip.addClass("in"),this.over=!0},hideTooltip:function(){this.inDrag===!1&&this.tooltip.removeClass("in"),this.over=!1},layout:function(){this.handle1Stype[this.stylePos]=this.percentage[0]+"%",this.handle2Stype[this.stylePos]=this.percentage[1]+"%","vertical"==this.orientation?(this.selectionElStyle.top=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.height=Math.abs(this.percentage[0]-this.percentage[1])+"%"):(this.selectionElStyle.left=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.width=Math.abs(this.percentage[0]-this.percentage[1])+"%"),this.range?(this.tooltipInner.text(this.formater(this.value[0])+" : "+this.formater(this.value[1])),this.tooltip[0].style[this.stylePos]=this.size*(this.percentage[0]+(this.percentage[1]-this.percentage[0])/2)/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px"):(this.tooltipInner.text(this.formater(this.value[0])),this.tooltip[0].style[this.stylePos]=this.size*this.percentage[0]/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px")},mousedown:function(t){this.touchCapable&&"touchstart"===t.type&&(t=t.originalEvent),this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos];var i=this.getPercentage(t);if(this.range){var n=Math.abs(this.percentage[0]-i),s=Math.abs(this.percentage[1]-i);this.dragged=s>n?0:1}else this.dragged=0;this.percentage[this.dragged]=i,this.layout(),e(document).on(this.touchCapable?{touchmove:e.proxy(this.mousemove,this),touchend:e.proxy(this.mouseup,this)}:{mousemove:e.proxy(this.mousemove,this),mouseup:e.proxy(this.mouseup,this)}),this.inDrag=!0;var o=this.calculateValue();return this.element.trigger({type:"slideStart",value:o}).trigger({type:"slide",value:o}),!1},mousemove:function(e){this.touchCapable&&"touchmove"===e.type&&(e=e.originalEvent);var t=this.getPercentage(e);this.range&&(0===this.dragged&&this.percentage[1]<t?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>t&&(this.percentage[1]=this.percentage[0],this.dragged=0)),this.percentage[this.dragged]=t,this.layout();var i=this.calculateValue();return this.element.trigger({type:"slide",value:i}).data("value",i).prop("value",i),!1},mouseup:function(){e(document).off(this.touchCapable?{touchmove:this.mousemove,touchend:this.mouseup}:{mousemove:this.mousemove,mouseup:this.mouseup}),this.inDrag=!1,0==this.over&&this.hideTooltip(),this.element;var t=this.calculateValue();return this.element.trigger({type:"slideStop",value:t}).data("value",t).prop("value",t),!1},calculateValue:function(){var e;return this.range?(e=[this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.min+Math.round(this.diff*this.percentage[1]/100/this.step)*this.step],this.value=e):(e=this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.value=[e,this.value[1]]),e},getPercentage:function(e){this.touchCapable&&(e=e.touches[0]);var t=100*(e[this.mousePos]-this.offset[this.stylePos])/this.size;return t=Math.round(t/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,t))},getValue:function(){return this.range?this.value:this.value[0]},setValue:function(e){this.value=e,this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]="after"==this.selection?this.max:this.min),this.diff=this.max-this.min,this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff],this.layout()}},e.fn.slider=function(i,n){return this.each(function(){var s=e(this),o=s.data("slider"),r="object"==typeof i&&i;o||s.data("slider",o=new t(this,e.extend({},e.fn.slider.defaults,r))),"string"==typeof i&&o[i](n)})},e.fn.slider.defaults={min:0,max:10,step:1,orientation:"horizontal",value:5,selection:"before",tooltip:"show",handle:"round",formater:function(e){return e}},e.fn.slider.Constructor=t}(window.jQuery),/*!
 * Prism: Lightweight, robust, elegant syntax highlighting
 * MIT license http://www.opensource.org/licenses/mit-license.php/
 * @author Lea Verou http://lea.verou.me
 */
function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=self.Prism={util:{type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){var i=t.util.type(e);switch(i){case"Object":var n={};for(var s in e)e.hasOwnProperty(s)&&(n[s]=t.util.clone(e[s]));return n;case"Array":return e.slice()}return e}},languages:{extend:function(e,i){var n=t.util.clone(t.languages[e]);for(var s in i)n[s]=i[s];return n},insertBefore:function(e,i,n,s){s=s||t.languages;var o=s[e],r={};for(var a in o)if(o.hasOwnProperty(a)){if(a==i)for(var l in n)n.hasOwnProperty(l)&&(r[l]=n[l]);r[a]=o[a]}return s[e]=r},DFS:function(e,i){for(var n in e)i.call(e,n,e[n]),"Object"===t.util.type(e)&&t.languages.DFS(e[n],i)}},highlightAll:function(e,i){for(var n,s=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),o=0;n=s[o++];)t.highlightElement(n,e===!0,i)},highlightElement:function(n,s,o){for(var r,a,l=n;l&&!e.test(l.className);)l=l.parentNode;if(l&&(r=(l.className.match(e)||[,""])[1],a=t.languages[r]),a){n.className=n.className.replace(e,"").replace(/\s+/g," ")+" language-"+r,l=n.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(e,"").replace(/\s+/g," ")+" language-"+r);var c=n.textContent;if(c){c=c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ");var h={element:n,language:r,grammar:a,code:c};if(t.hooks.run("before-highlight",h),s&&self.Worker){var u=new Worker(t.filename);u.onmessage=function(e){h.highlightedCode=i.stringify(JSON.parse(e.data),r),t.hooks.run("before-insert",h),h.element.innerHTML=h.highlightedCode,o&&o.call(h.element),t.hooks.run("after-highlight",h)},u.postMessage(JSON.stringify({language:h.language,code:h.code}))}else h.highlightedCode=t.highlight(h.code,h.grammar,h.language),t.hooks.run("before-insert",h),h.element.innerHTML=h.highlightedCode,o&&o.call(n),t.hooks.run("after-highlight",h)}}},highlight:function(e,n,s){return i.stringify(t.tokenize(e,n),s)},tokenize:function(e,i){var n=t.Token,s=[e],o=i.rest;if(o){for(var r in o)i[r]=o[r];delete i.rest}e:for(var r in i)if(i.hasOwnProperty(r)&&i[r]){var a=i[r],l=a.inside,c=!!a.lookbehind,h=0;a=a.pattern||a;for(var u=0;u<s.length;u++){var d=s[u];if(s.length>e.length)break e;if(!(d instanceof n)){a.lastIndex=0;var f=a.exec(d);if(f){c&&(h=f[1].length);var p=f.index-1+h,f=f[0].slice(h),g=f.length,m=p+g,v=d.slice(0,p+1),y=d.slice(m+1),b=[u,1];v&&b.push(v);var w=new n(r,l?t.tokenize(f,l):f);b.push(w),y&&b.push(y),Array.prototype.splice.apply(s,b)}}}}return s},hooks:{all:{},add:function(e,i){var n=t.hooks.all;n[e]=n[e]||[],n[e].push(i)},run:function(e,i){var n=t.hooks.all[e];if(n&&n.length)for(var s,o=0;s=n[o++];)s(i)}}},i=t.Token=function(e,t){this.type=e,this.content=t};if(i.stringify=function(e,n,s){if("string"==typeof e)return e;if("[object Array]"==Object.prototype.toString.call(e))return e.map(function(t){return i.stringify(t,n,e)}).join("");var o={type:e.type,content:i.stringify(e.content,n,s),tag:"span",classes:["token",e.type],attributes:{},language:n,parent:s};"comment"==o.type&&(o.attributes.spellcheck="true"),t.hooks.run("wrap",o);var r="";for(var a in o.attributes)r+=a+'="'+(o.attributes[a]||"")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'" '+r+">"+o.content+"</"+o.tag+">"},!self.document)return void self.addEventListener("message",function(e){var i=JSON.parse(e.data),n=i.language,s=i.code;self.postMessage(JSON.stringify(t.tokenize(s,t.languages[n]))),self.close()},!1);var n=document.getElementsByTagName("script");n=n[n.length-1],n&&(t.filename=n.src,document.addEventListener&&!n.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll))}(),Prism.hooks.add("after-highlight",function(e){var t=e.element.parentNode;if(t&&/pre/i.test(t.nodeName)&&-1!==t.className.indexOf("line-numbers")){var i,n=1+e.code.split("\n").length;lines=new Array(n),lines=lines.join("<span></span>"),i=document.createElement("span"),i.className="line-numbers-rows",i.innerHTML=lines,t.hasAttribute("data-start")&&(t.style.counterReset="linenumber "+(parseInt(t.getAttribute("data-start"),10)-1)),e.element.appendChild(i)}}),Prism.languages.markup={comment:/&lt;!--[\w\W]*?-->/g,prolog:/&lt;\?.+?\?>/,doctype:/&lt;!DOCTYPE.+?>/,cdata:/&lt;!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/&lt;\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|\w+))?\s*)*\/?>/gi,inside:{tag:{pattern:/^&lt;\/?[\w:-]+/i,inside:{punctuation:/^&lt;\/?/,namespace:/^[\w-]+?:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,inside:{punctuation:/=|>|"/g}},punctuation:/\/?>/g,"attr-name":{pattern:/[\w:-]+/g,inside:{namespace:/^[\w-]+?:/}}}},entity:/&amp;#?[\da-z]{1,8};/gi},Prism.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Prism.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*{))/gi,inside:{punctuation:/[;:]/g}},url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\};]*(?=\s*\{)/g,property:/(\b|\B)[\w-]+(?=\s*:)/gi,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,ignore:/&(lt|gt|amp);/gi,punctuation:/[\{\};:]/g},Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{style:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/style(>|&gt;)/gi,inside:{tag:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)|(&lt;|<)\/style(>|&gt;)/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css}}}),Prism.languages.css.selector={pattern:/[^\{\}\s][^\{\}]*(?=\s*\{)/g,inside:{"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/g,"pseudo-class":/:[-\w]+(?:\(.*\))?/g,"class":/\.[-:\.\w]+/g,id:/#[-:\.\w]+/g}},Prism.languages.insertBefore("css","ignore",{hexcode:/#[\da-f]{3,6}/gi,entity:/\\[\da-f]{1,8}/gi,number:/[\d%\.]+/g,"function":/(attr|calc|cross-fade|cycle|element|hsla?|image|lang|linear-gradient|matrix3d|matrix|perspective|radial-gradient|repeating-linear-gradient|repeating-radial-gradient|rgba?|rotatex|rotatey|rotatez|rotate3d|rotate|scalex|scaley|scalez|scale3d|scale|skewx|skewy|skew|steps|translatex|translatey|translatez|translate3d|translate|url|var)/gi}),Prism.languages.clike={comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|(^|[^:])\/\/.*?(\r?\n|$))/g,lookbehind:!0},string:/("|')(\\?.)*?\1/g,"class-name":{pattern:/((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/gi,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,"function":{pattern:/[a-z0-9_]+\(/gi,inside:{punctuation:/\(/}},number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,operator:/[-+]{1,2}|!|&lt;=?|>=?|={1,3}|(&amp;){1,2}|\|?\||\?|\*|\/|\~|\^|\%/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(var|let|if|else|while|do|for|return|in|instanceof|function|new|with|typeof|try|throw|catch|finally|null|break|continue)\b/g,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?|NaN|-?Infinity)\b/g}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/script(>|&gt;)/gi,inside:{tag:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)|(&lt;|<)\/script(>|&gt;)/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript}}}),Prism.languages.php=Prism.languages.extend("clike",{keyword:/\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|extends|private|protected|parent|static|throw|null|echo|print|trait|namespace|use|final|yield|goto)\b/gi,constant:/[A-Z0-9_]{2,}/g}),Prism.languages.insertBefore("php","keyword",{deliminator:/(\?>|\?&gt;|&lt;\?php|<\?php)/gi,"this":/\$this/,variable:/(\$\w+)\b/gi,scope:{pattern:/\b[a-z0-9_\\]+::/gi,inside:{keyword:/(static|self|parent)/,punctuation:/(::|\\)/}},"package":{pattern:/(\\|namespace\s+|use\s+)[a-z0-9_\\]+/gi,lookbehind:!0,inside:{punctuation:/\\/}}}),Prism.languages.insertBefore("php","operator",{property:{pattern:/(-&gt;)[a-z0-9_]+/gi,lookbehind:!0}}),Prism.languages.markup&&Prism.languages.insertBefore("php","comment",{markup:{pattern:/(\?>|\?&gt;)[\w\W]*?(?=(&lt;\?php|<\?php))/gi,lookbehind:!0,inside:{markup:{pattern:/&lt;\/?[\w:-]+\s*[\w\W]*?&gt;/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.php}}}),/*!
 * Retina.js v1.1.0
 *
 * Copyright 2013 Imulus, LLC
 * Released under the MIT license
 *
 * Retina.js is an open source script that makes it easy to serve
 * high-resolution images to devices with retina displays.
 */
!function(){function e(){}function t(e,t){this.path=e,"undefined"!=typeof t&&null!==t?(this.at_2x_path=t,this.perform_check=!1):(this.at_2x_path=e.replace(/\.\w+$/,function(e){return"@2x"+e}),this.perform_check=!0)}function i(e){this.el=e,this.path=new t(this.el.getAttribute("src"),this.el.getAttribute("data-at2x"));var i=this;this.path.check_2x_variant(function(e){e&&i.swap()})}var n="undefined"==typeof exports?window:exports,s={check_mime_type:!0};n.Retina=e,e.configure=function(e){null==e&&(e={});for(var t in e)s[t]=e[t]},e.init=function(e){null==e&&(e=n);var t=e.onload||new Function;e.onload=function(){var e,n,s=document.getElementsByTagName("img"),o=[];for(e=0;e<s.length;e++)n=s[e],o.push(new i(n));t()}},e.isRetina=function(){var e="(-webkit-min-device-pixel-ratio: 1.5),                      (min--moz-device-pixel-ratio: 1.5),                      (-o-min-device-pixel-ratio: 3/2),                      (min-resolution: 1.5dppx)";return n.devicePixelRatio>1?!0:n.matchMedia&&n.matchMedia(e).matches?!0:!1},n.RetinaImagePath=t,t.confirmed_paths=[],t.prototype.is_external=function(){return!(!this.path.match(/^https?\:/i)||this.path.match("//"+document.domain))},t.prototype.check_2x_variant=function(e){var i,n=this;return this.is_external()?e(!1):this.perform_check||"undefined"==typeof this.at_2x_path||null===this.at_2x_path?this.at_2x_path in t.confirmed_paths?e(!0):(i=new XMLHttpRequest,i.open("HEAD",this.at_2x_path),i.onreadystatechange=function(){if(4!=i.readyState)return e(!1);if(i.status>=200&&i.status<=399){if(s.check_mime_type){var o=i.getResponseHeader("Content-Type");if(null==o||!o.match(/^image/i))return e(!1)}return t.confirmed_paths.push(n.at_2x_path),e(!0)}return e(!1)},void i.send()):e(!0)},n.RetinaImage=i,i.prototype.swap=function(e){function t(){i.el.complete?$(i.el).is(":visible")&&(i.el.setAttribute("width",i.el.offsetWidth),i.el.setAttribute("height",i.el.offsetHeight),i.el.setAttribute("src",e)):setTimeout(t,5)}"undefined"==typeof e&&(e=this.path.at_2x_path);var i=this;t()},e.isRetina()&&e.init(n)}(),/*! NProgress 0.1.2 (c) 2013, Rico Sta. Cruz
 *  http://ricostacruz.com/nprogress
 */
!function(e){"function"==typeof module?module.exports=e(this.jQuery||require("jquery")):this.NProgress=e(this.jQuery)}(function(e){function t(e,t,i){return t>e?t:e>i?i:e}function i(e){return 100*(-1+e)}function n(e,t,n){var s;return s="translate3d"===o.positionUsing?{transform:"translate3d("+i(e)+"%,0,0)"}:"translate"===o.positionUsing?{transform:"translate("+i(e)+"%,0)"}:{"margin-left":i(e)+"%"},s.transition="all "+t+"ms "+n,s}var s={};s.version="0.1.2";var o=s.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};return s.configure=function(t){return e.extend(o,t),this},s.status=null,s.set=function(e){var i=s.isStarted();e=t(e,o.minimum,1),s.status=1===e?null:e;var r=s.render(!i),a=r.find('[role="bar"]'),l=o.speed,c=o.easing;return r[0].offsetWidth,r.queue(function(t){""===o.positionUsing&&(o.positionUsing=s.getPositioningCSS()),a.css(n(e,l,c)),1===e?(r.css({transition:"none",opacity:1}),r[0].offsetWidth,setTimeout(function(){r.css({transition:"all "+l+"ms linear",opacity:0}),setTimeout(function(){s.remove(),t()},l)},l)):setTimeout(t,l)}),this},s.isStarted=function(){return"number"==typeof s.status},s.start=function(){s.status||s.set(0);var e=function(){setTimeout(function(){s.status&&(s.trickle(),e())},o.trickleSpeed)};return o.trickle&&e(),this},s.done=function(e){return e||s.status?s.inc(.3+.5*Math.random()).set(1):this},s.inc=function(e){var i=s.status;return i?("number"!=typeof e&&(e=(1-i)*t(Math.random()*i,.1,.95)),i=t(i+e,0,.994),s.set(i)):s.start()},s.trickle=function(){return s.inc(Math.random()*o.trickleRate)},s.render=function(t){if(s.isRendered())return e("#nprogress");e("html").addClass("nprogress-busy");var n=e("<div id='nprogress'>").html(o.template),r=t?"-100":i(s.status||0);return n.find('[role="bar"]').css({transition:"all 0 linear",transform:"translate3d("+r+"%,0,0)"}),o.showSpinner||n.find('[role="spinner"]').remove(),n.appendTo(document.body),n},s.remove=function(){e("html").removeClass("nprogress-busy"),e("#nprogress").remove()},s.isRendered=function(){return e("#nprogress").length>0},s.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"},s});var App=function(){var e=$("#page-container"),t=$("#page-content"),i=$("header"),n=$("#page-content + footer"),s=$("#sidebar"),o=$("#sidebar-alt"),r=$(".sidebar-scroll"),a=function(){c("init"),l(),f(),p(),m(),d(),$(window).resize(function(){d()}),$(window).bind("orientationchange",d);// Add the correct copyright year at the footer
var e=$("#year-copy"),t=new Date;e.html(2014===t.getFullYear()?"2014":"2014-"+t.getFullYear().toString().substr(2,2)),g(),$('[data-toggle="tabs"] a, .enable-tabs a').click(function(e){e.preventDefault(),$(this).tab("show")}),$('[data-toggle="tooltip"], .enable-tooltip').tooltip({container:"body",animation:!1}),$('[data-toggle="popover"], .enable-popover').popover({container:"body",animation:!0}),$('[data-toggle="lightbox-image"]').magnificPopup({type:"image",image:{titleSrc:"title"}}),$('[data-toggle="lightbox-gallery"]').magnificPopup({delegate:"a.gallery-link",type:"image",gallery:{enabled:!0,navigateByImgClick:!0,arrowMarkup:'<button type="button" class="mfp-arrow mfp-arrow-%dir%" title="%title%"></button>',tPrev:"Previous",tNext:"Next",tCounter:'<span class="mfp-counter">%curr% of %total%</span>'},image:{titleSrc:"title"}}),$(".textarea-editor").wysihtml5(),$(".select-chosen").chosen({width:"100%"}),$(".input-slider").slider(),$(".input-tags").tagsInput({width:"auto",height:"auto"}),$(".input-datepicker, .input-daterange").datepicker({weekStart:1}),$(".input-datepicker-close").datepicker({weekStart:1}).on("changeDate",function(){$(this).datepicker("hide")}),$(".input-timepicker").timepicker({minuteStep:1,showSeconds:!0,showMeridian:!0}),$(".input-timepicker24").timepicker({minuteStep:1,showSeconds:!0,showMeridian:!1}),$(".pie-chart").easyPieChart({barColor:$(this).data("bar-color")?$(this).data("bar-color"):"#777777",trackColor:$(this).data("track-color")?$(this).data("track-color"):"#eeeeee",lineWidth:$(this).data("line-width")?$(this).data("line-width"):3,size:$(this).data("size")?$(this).data("size"):"80",animate:800,scaleColor:!1}),$("input, textarea").placeholder()},l=function(){var e=250,t=250,i=($(".sidebar-nav a"),$(".sidebar-nav-menu")),n=$(".sidebar-nav-submenu");i.click(function(){var i=$(this);return i.parent().hasClass("active")!==!0&&(i.hasClass("open")?(i.removeClass("open").next().slideUp(e),setTimeout(d,e)):($(".sidebar-nav-menu.open").removeClass("open").next().slideUp(e),i.addClass("open").next().slideDown(t),setTimeout(d,e>t?e:t))),!1}),n.click(function(){var i=$(this);return i.parent().hasClass("active")!==!0&&(i.hasClass("open")?(i.removeClass("open").next().slideUp(e),setTimeout(d,e)):(i.closest("ul").find(".sidebar-nav-submenu.open").removeClass("open").next().slideUp(e),i.addClass("open").next().slideDown(t),setTimeout(d,e>t?e:t))),!1})},c=function(t,n){if("init"===t)(i.hasClass("navbar-fixed-top")||i.hasClass("navbar-fixed-bottom"))&&c("sidebar-scroll"),$(".sidebar-partial #sidebar").mouseenter(function(){c("close-sidebar-alt")}),$(".sidebar-alt-partial #sidebar-alt").mouseenter(function(){c("close-sidebar")});else{var s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;"toggle-sidebar"===t?s>991?(e.toggleClass("sidebar-visible-lg"),e.hasClass("sidebar-visible-lg")&&c("close-sidebar-alt"),"toggle-other"===n&&(e.hasClass("sidebar-visible-lg")||c("open-sidebar-alt"))):(e.toggleClass("sidebar-visible-xs"),e.hasClass("sidebar-visible-xs")&&c("close-sidebar-alt")):"toggle-sidebar-alt"===t?s>991?(e.toggleClass("sidebar-alt-visible-lg"),e.hasClass("sidebar-alt-visible-lg")&&c("close-sidebar"),"toggle-other"===n&&(e.hasClass("sidebar-alt-visible-lg")||c("open-sidebar"))):(e.toggleClass("sidebar-alt-visible-xs"),e.hasClass("sidebar-alt-visible-xs")&&c("close-sidebar")):"open-sidebar"===t?(e.addClass(s>991?"sidebar-visible-lg":"sidebar-visible-xs"),c("close-sidebar-alt")):"open-sidebar-alt"===t?(e.addClass(s>991?"sidebar-alt-visible-lg":"sidebar-alt-visible-xs"),c("close-sidebar")):"close-sidebar"===t?e.removeClass(s>991?"sidebar-visible-lg":"sidebar-visible-xs"):"close-sidebar-alt"===t?e.removeClass(s>991?"sidebar-alt-visible-lg":"sidebar-alt-visible-xs"):"sidebar-scroll"==t&&r.length&&!r.parent(".slimScrollDiv").length&&(r.slimScroll({height:$(window).height(),color:"#fff",size:"3px",touchScrollStep:100}),$(window).resize(h),$(window).bind("orientationchange",u))}return!1},h=function(){r.css("height",$(window).height())},u=function(){setTimeout(r.css("height",$(window).height()),500)},d=function(){var r=$(window).height(),a=s.outerHeight(),l=o.outerHeight(),c=i.outerHeight(),h=n.outerHeight();i.hasClass("navbar-fixed-top")||i.hasClass("navbar-fixed-bottom")||r>a&&r>l?e.hasClass("footer-fixed")?t.css("min-height",r-c+"px"):t.css("min-height",r-(c+h)+"px"):e.hasClass("footer-fixed")?t.css("min-height",(a>l?a:l)-c+"px"):t.css("min-height",(a>l?a:l)-(c+h)+"px")},f=function(){$('[data-toggle="block-toggle-content"]').on("click",function(){var e=$(this).closest(".block").find(".block-content");$(this).hasClass("active")?e.slideDown():e.slideUp(),$(this).toggleClass("active")}),$('[data-toggle="block-toggle-fullscreen"]').on("click",function(){var e=$(this).closest(".block");$(this).hasClass("active")?e.removeClass("block-fullscreen"):e.addClass("block-fullscreen"),$(this).toggleClass("active")}),$('[data-toggle="block-hide"]').on("click",function(){$(this).closest(".block").fadeOut()})},p=function(){var e=$("#to-top"),t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;$(window).scroll(function(){$(this).scrollTop()>150&&t>991?e.fadeIn(100):e.fadeOut(100)}),e.click(function(){return $("html, body").animate({scrollTop:0},400),!1})},g=function(){var e=$(".chat-users"),t=$(".chat-talk"),i=$(".chat-talk-messages"),n=$("#sidebar-chat-message"),s="";$(".chat-talk-messages").slimScroll({height:210,color:"#fff",size:"3px",position:"left",touchScrollStep:100}),$("a",e).click(function(){return e.slideUp(),t.slideDown(),n.focus(),!1}),$("#chat-talk-close-btn").click(function(){return t.slideUp(),e.slideDown(),!1}),$("#sidebar-chat-form").submit(function(e){s=n.val(),s&&(i.append('<li class="chat-talk-msg chat-talk-msg-highlight themed-border animation-slideLeft">'+$("<div />").text(s).html()+"</li>"),i.animate({scrollTop:i[0].scrollHeight},500),n.val("")),e.preventDefault()})},m=function(){var t,n=$(".sidebar-themes"),s=$("#theme-link");s.length&&(t=s.attr("href"),$("li",n).removeClass("active"),$('a[data-theme="'+t+'"]',n).parent("li").addClass("active")),$("a",n).click(function(){t=$(this).data("theme"),$("li",n).removeClass("active"),$(this).parent("li").addClass("active"),"default"===t?s.length&&(s.remove(),s=$("#theme-link")):s.length?s.attr("href",t):($('link[href="css/themes.css"]').before('<link id="theme-link" rel="stylesheet" href="'+t+'">'),s=$("#theme-link"))}),$(".dropdown-options a").click(function(e){e.stopPropagation()});var o=$("#options-main-style"),r=$("#options-main-style-alt");e.hasClass("style-alt")?r.addClass("active"):o.addClass("active"),o.click(function(){e.removeClass("style-alt"),$(this).addClass("active"),r.removeClass("active")}),r.click(function(){e.addClass("style-alt"),$(this).addClass("active"),o.removeClass("active")});var a=$("#options-header-default"),l=$("#options-header-inverse"),h=$("#options-header-top"),u=$("#options-header-bottom");i.hasClass("navbar-default")?a.addClass("active"):l.addClass("active"),i.hasClass("navbar-fixed-top")?h.addClass("active"):i.hasClass("navbar-fixed-bottom")&&u.addClass("active"),a.click(function(){i.removeClass("navbar-inverse").addClass("navbar-default"),$(this).addClass("active"),l.removeClass("active")}),l.click(function(){i.removeClass("navbar-default").addClass("navbar-inverse"),$(this).addClass("active"),a.removeClass("active")}),h.click(function(){e.removeClass("header-fixed-bottom").addClass("header-fixed-top"),i.removeClass("navbar-fixed-bottom").addClass("navbar-fixed-top"),$(this).addClass("active"),u.removeClass("active"),c("sidebar-scroll"),d()}),u.click(function(){e.removeClass("header-fixed-top").addClass("header-fixed-bottom"),i.removeClass("navbar-fixed-top").addClass("navbar-fixed-bottom"),$(this).addClass("active"),h.removeClass("active"),c("sidebar-scroll"),d()});var f=$("#options-footer-static"),p=$("#options-footer-fixed");e.hasClass("footer-fixed")?p.addClass("active"):f.addClass("active"),f.click(function(){e.removeClass("footer-fixed"),$(this).addClass("active"),p.removeClass("active"),d()}),p.click(function(){e.addClass("footer-fixed"),$(this).addClass("active"),f.removeClass("active"),d()})},v=function(){$.extend(!0,$.fn.dataTable.defaults,{sDom:"<'row'<'col-sm-6 col-xs-5'l><'col-sm-6 col-xs-7'f>r>t<'row'<'col-sm-5 hidden-xs'i><'col-sm-7 col-xs-12 clearfix'p>>",sPaginationType:"bootstrap",oLanguage:{sLengthMenu:"_MENU_",sSearch:'<div class="input-group">_INPUT_<span class="input-group-addon"><i class="fa fa-search"></i></span></div>',sInfo:"<strong>_START_</strong>-<strong>_END_</strong> of <strong>_TOTAL_</strong>",oPaginate:{sPrevious:"",sNext:""}}})};return{init:function(){a()},sidebar:function(e,t){c(e,t)},datatables:function(){v()}}}();$(function(){App.init()});var Index=function(){return{init:function(){var e={type:"bar",barWidth:8,barSpacing:6,height:"64px",tooltipOffsetX:-25,tooltipOffsetY:20,barColor:"#999999",tooltipPrefix:"+ ",tooltipSuffix:" Sales",tooltipFormat:"{{prefix}}{{value}}{{suffix}}"};$("#mini-chart-sales").sparkline([8,3,1,5,4,8,9,6,5,7,10,5,8,9],e),e.tooltipSuffix="%",$("#mini-chart-brand").sparkline([50,65,70,90,95,110,140,160,190,200,220,230,260],e),$(".gmap").css("height","220px");var t=$("#dash-widget-chart"),i=null,n=null;t.bind("plothover",function(e,t,s){if(s){if(i!==s.dataIndex){i=s.dataIndex,$("#chart-tooltip").remove();var o=(s.datapoint[0],s.datapoint[1]),r=s.series.xaxis.options.ticks[s.dataIndex][1];n=1===s.seriesIndex?"<strong>"+o+"</strong> sales in <strong>"+r+"</strong>":"$ <strong>"+o+"</strong> in <strong>"+r+"</strong>",$('<div id="chart-tooltip" class="chart-tooltip">'+n+"</div>").css({top:s.pageY-50,left:s.pageX-50}).appendTo("body").show()}}else $("#chart-tooltip").remove(),i=null})}}}();$(function(){Index.init()});
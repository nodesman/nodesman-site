var App=function(){var e=$("#page-container"),t=$("#page-content"),i=$("header"),n=$("#page-content + footer"),s=$("#sidebar"),o=$("#sidebar-alt"),a=$(".sidebar-scroll"),r=function(){c("init"),l(),f(),p(),m(),d(),$(window).resize(function(){d()}),$(window).bind("orientationchange",d);// Add the correct copyright year at the footer
var e=$("#year-copy"),t=new Date;e.html(2014===t.getFullYear()?"2014":"2014-"+t.getFullYear().toString().substr(2,2)),g(),$('[data-toggle="tabs"] a, .enable-tabs a').click(function(e){e.preventDefault(),$(this).tab("show")}),$('[data-toggle="tooltip"], .enable-tooltip').tooltip({container:"body",animation:!1}),$('[data-toggle="popover"], .enable-popover').popover({container:"body",animation:!0}),$('[data-toggle="lightbox-image"]').magnificPopup({type:"image",image:{titleSrc:"title"}}),$('[data-toggle="lightbox-gallery"]').magnificPopup({delegate:"a.gallery-link",type:"image",gallery:{enabled:!0,navigateByImgClick:!0,arrowMarkup:'<button type="button" class="mfp-arrow mfp-arrow-%dir%" title="%title%"></button>',tPrev:"Previous",tNext:"Next",tCounter:'<span class="mfp-counter">%curr% of %total%</span>'},image:{titleSrc:"title"}}),$(".textarea-editor").wysihtml5(),$(".select-chosen").chosen({width:"100%"}),$(".input-slider").slider(),$(".input-tags").tagsInput({width:"auto",height:"auto"}),$(".input-datepicker, .input-daterange").datepicker({weekStart:1}),$(".input-datepicker-close").datepicker({weekStart:1}).on("changeDate",function(){$(this).datepicker("hide")}),$(".input-timepicker").timepicker({minuteStep:1,showSeconds:!0,showMeridian:!0}),$(".input-timepicker24").timepicker({minuteStep:1,showSeconds:!0,showMeridian:!1}),$(".pie-chart").easyPieChart({barColor:$(this).data("bar-color")?$(this).data("bar-color"):"#777777",trackColor:$(this).data("track-color")?$(this).data("track-color"):"#eeeeee",lineWidth:$(this).data("line-width")?$(this).data("line-width"):3,size:$(this).data("size")?$(this).data("size"):"80",animate:800,scaleColor:!1}),$("input, textarea").placeholder()},l=function(){var e=250,t=250,i=($(".sidebar-nav a"),$(".sidebar-nav-menu")),n=$(".sidebar-nav-submenu");i.click(function(){var i=$(this);return i.parent().hasClass("active")!==!0&&(i.hasClass("open")?(i.removeClass("open").next().slideUp(e),setTimeout(d,e)):($(".sidebar-nav-menu.open").removeClass("open").next().slideUp(e),i.addClass("open").next().slideDown(t),setTimeout(d,e>t?e:t))),!1}),n.click(function(){var i=$(this);return i.parent().hasClass("active")!==!0&&(i.hasClass("open")?(i.removeClass("open").next().slideUp(e),setTimeout(d,e)):(i.closest("ul").find(".sidebar-nav-submenu.open").removeClass("open").next().slideUp(e),i.addClass("open").next().slideDown(t),setTimeout(d,e>t?e:t))),!1})},c=function(t,n){if("init"===t)(i.hasClass("navbar-fixed-top")||i.hasClass("navbar-fixed-bottom"))&&c("sidebar-scroll"),$(".sidebar-partial #sidebar").mouseenter(function(){c("close-sidebar-alt")}),$(".sidebar-alt-partial #sidebar-alt").mouseenter(function(){c("close-sidebar")});else{var s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;"toggle-sidebar"===t?s>991?(e.toggleClass("sidebar-visible-lg"),e.hasClass("sidebar-visible-lg")&&c("close-sidebar-alt"),"toggle-other"===n&&(e.hasClass("sidebar-visible-lg")||c("open-sidebar-alt"))):(e.toggleClass("sidebar-visible-xs"),e.hasClass("sidebar-visible-xs")&&c("close-sidebar-alt")):"toggle-sidebar-alt"===t?s>991?(e.toggleClass("sidebar-alt-visible-lg"),e.hasClass("sidebar-alt-visible-lg")&&c("close-sidebar"),"toggle-other"===n&&(e.hasClass("sidebar-alt-visible-lg")||c("open-sidebar"))):(e.toggleClass("sidebar-alt-visible-xs"),e.hasClass("sidebar-alt-visible-xs")&&c("close-sidebar")):"open-sidebar"===t?(e.addClass(s>991?"sidebar-visible-lg":"sidebar-visible-xs"),c("close-sidebar-alt")):"open-sidebar-alt"===t?(e.addClass(s>991?"sidebar-alt-visible-lg":"sidebar-alt-visible-xs"),c("close-sidebar")):"close-sidebar"===t?e.removeClass(s>991?"sidebar-visible-lg":"sidebar-visible-xs"):"close-sidebar-alt"===t?e.removeClass(s>991?"sidebar-alt-visible-lg":"sidebar-alt-visible-xs"):"sidebar-scroll"==t&&a.length&&!a.parent(".slimScrollDiv").length&&(a.slimScroll({height:$(window).height(),color:"#fff",size:"3px",touchScrollStep:100}),$(window).resize(h),$(window).bind("orientationchange",u))}return!1},h=function(){a.css("height",$(window).height())},u=function(){setTimeout(a.css("height",$(window).height()),500)},d=function(){var a=$(window).height(),r=s.outerHeight(),l=o.outerHeight(),c=i.outerHeight(),h=n.outerHeight();i.hasClass("navbar-fixed-top")||i.hasClass("navbar-fixed-bottom")||a>r&&a>l?e.hasClass("footer-fixed")?t.css("min-height",a-c+"px"):t.css("min-height",a-(c+h)+"px"):e.hasClass("footer-fixed")?t.css("min-height",(r>l?r:l)-c+"px"):t.css("min-height",(r>l?r:l)-(c+h)+"px")},f=function(){$('[data-toggle="block-toggle-content"]').on("click",function(){var e=$(this).closest(".block").find(".block-content");$(this).hasClass("active")?e.slideDown():e.slideUp(),$(this).toggleClass("active")}),$('[data-toggle="block-toggle-fullscreen"]').on("click",function(){var e=$(this).closest(".block");$(this).hasClass("active")?e.removeClass("block-fullscreen"):e.addClass("block-fullscreen"),$(this).toggleClass("active")}),$('[data-toggle="block-hide"]').on("click",function(){$(this).closest(".block").fadeOut()})},p=function(){var e=$("#to-top"),t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;$(window).scroll(function(){$(this).scrollTop()>150&&t>991?e.fadeIn(100):e.fadeOut(100)}),e.click(function(){return $("html, body").animate({scrollTop:0},400),!1})},g=function(){var e=$(".chat-users"),t=$(".chat-talk"),i=$(".chat-talk-messages"),n=$("#sidebar-chat-message"),s="";$(".chat-talk-messages").slimScroll({height:210,color:"#fff",size:"3px",position:"left",touchScrollStep:100}),$("a",e).click(function(){return e.slideUp(),t.slideDown(),n.focus(),!1}),$("#chat-talk-close-btn").click(function(){return t.slideUp(),e.slideDown(),!1}),$("#sidebar-chat-form").submit(function(e){s=n.val(),s&&(i.append('<li class="chat-talk-msg chat-talk-msg-highlight themed-border animation-slideLeft">'+$("<div />").text(s).html()+"</li>"),i.animate({scrollTop:i[0].scrollHeight},500),n.val("")),e.preventDefault()})},m=function(){var t,n=$(".sidebar-themes"),s=$("#theme-link");s.length&&(t=s.attr("href"),$("li",n).removeClass("active"),$('a[data-theme="'+t+'"]',n).parent("li").addClass("active")),$("a",n).click(function(){t=$(this).data("theme"),$("li",n).removeClass("active"),$(this).parent("li").addClass("active"),"default"===t?s.length&&(s.remove(),s=$("#theme-link")):s.length?s.attr("href",t):($('link[href="css/themes.css"]').before('<link id="theme-link" rel="stylesheet" href="'+t+'">'),s=$("#theme-link"))}),$(".dropdown-options a").click(function(e){e.stopPropagation()});var o=$("#options-main-style"),a=$("#options-main-style-alt");e.hasClass("style-alt")?a.addClass("active"):o.addClass("active"),o.click(function(){e.removeClass("style-alt"),$(this).addClass("active"),a.removeClass("active")}),a.click(function(){e.addClass("style-alt"),$(this).addClass("active"),o.removeClass("active")});var r=$("#options-header-default"),l=$("#options-header-inverse"),h=$("#options-header-top"),u=$("#options-header-bottom");i.hasClass("navbar-default")?r.addClass("active"):l.addClass("active"),i.hasClass("navbar-fixed-top")?h.addClass("active"):i.hasClass("navbar-fixed-bottom")&&u.addClass("active"),r.click(function(){i.removeClass("navbar-inverse").addClass("navbar-default"),$(this).addClass("active"),l.removeClass("active")}),l.click(function(){i.removeClass("navbar-default").addClass("navbar-inverse"),$(this).addClass("active"),r.removeClass("active")}),h.click(function(){e.removeClass("header-fixed-bottom").addClass("header-fixed-top"),i.removeClass("navbar-fixed-bottom").addClass("navbar-fixed-top"),$(this).addClass("active"),u.removeClass("active"),c("sidebar-scroll"),d()}),u.click(function(){e.removeClass("header-fixed-top").addClass("header-fixed-bottom"),i.removeClass("navbar-fixed-top").addClass("navbar-fixed-bottom"),$(this).addClass("active"),h.removeClass("active"),c("sidebar-scroll"),d()});var f=$("#options-footer-static"),p=$("#options-footer-fixed");e.hasClass("footer-fixed")?p.addClass("active"):f.addClass("active"),f.click(function(){e.removeClass("footer-fixed"),$(this).addClass("active"),p.removeClass("active"),d()}),p.click(function(){e.addClass("footer-fixed"),$(this).addClass("active"),f.removeClass("active"),d()})},v=function(){$.extend(!0,$.fn.dataTable.defaults,{sDom:"<'row'<'col-sm-6 col-xs-5'l><'col-sm-6 col-xs-7'f>r>t<'row'<'col-sm-5 hidden-xs'i><'col-sm-7 col-xs-12 clearfix'p>>",sPaginationType:"bootstrap",oLanguage:{sLengthMenu:"_MENU_",sSearch:'<div class="input-group">_INPUT_<span class="input-group-addon"><i class="fa fa-search"></i></span></div>',sInfo:"<strong>_START_</strong>-<strong>_END_</strong> of <strong>_TOTAL_</strong>",oPaginate:{sPrevious:"",sNext:""}}})};return{init:function(){r()},sidebar:function(e,t){c(e,t)},datatables:function(){v()}}}();$(function(){App.init()});
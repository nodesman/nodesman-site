!function(){for(var e,t=function(){},a=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],i=a.length,n=window.console=window.console||{};i--;)e=a[i],n[e]||(n[e]=t)}(),/*! jQuery UI - v1.10.4 - 2014-01-23 (Used by FullCalendar plugin)
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.resizable.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
function(e,t){function a(t,a){var n,o,r,l=t.nodeName.toLowerCase();return"area"===l?(n=t.parentNode,o=n.name,t.href&&o&&"map"===n.nodeName.toLowerCase()?(r=e("img[usemap=#"+o+"]")[0],!!r&&i(r)):!1):(/input|select|textarea|button|object/.test(l)?!t.disabled:"a"===l?t.href||a:a)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var n=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(a,i){return"number"==typeof a?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},a)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(a){if(a!==t)return this.css("zIndex",a);if(this.length)for(var i,n,o=e(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(o.css("zIndex"),10),!isNaN(n)&&0!==n))return n;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(a){return!!e.data(a,t)}}):function(t,a,i){return!!e.data(t,i[3])},focusable:function(t){return a(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),n=isNaN(i);return(n||i>=0)&&a(t,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(a,i){function n(t,a,i,n){return e.each(o,function(){a-=parseFloat(e.css(t,"padding"+this))||0,i&&(a-=parseFloat(e.css(t,"border"+this+"Width"))||0),n&&(a-=parseFloat(e.css(t,"margin"+this))||0)}),a}var o="Width"===i?["Left","Right"]:["Top","Bottom"],r=i.toLowerCase(),l={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(a){return a===t?l["inner"+i].call(this):this.each(function(){e(this).css(r,n(this,a)+"px")})},e.fn["outer"+i]=function(t,a){return"number"!=typeof t?l["outer"+i].call(this,t):this.each(function(){e(this).css(r,n(this,t,!0,a)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(a){return arguments.length?t.call(this,e.camelCase(a)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,a,i){var n,o=e.ui[t].prototype;for(n in i)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([a,i[n]])},call:function(e,t,a){var i,n=e.plugins[t];if(n&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;n.length>i;i++)e.options[n[i][0]]&&n[i][1].apply(e.element,a)}},hasScroll:function(t,a){if("hidden"===e(t).css("overflow"))return!1;var i=a&&"left"===a?"scrollLeft":"scrollTop",n=!1;return t[i]>0?!0:(t[i]=1,n=t[i]>0,t[i]=0,n)}})}(jQuery),function(e,t){var a=0,i=Array.prototype.slice,n=e.cleanData;e.cleanData=function(t){for(var a,i=0;null!=(a=t[i]);i++)try{e(a).triggerHandler("remove")}catch(o){}n(t)},e.widget=function(a,i,n){var o,r,l,s,d={},c=a.split(".")[0];a=a.split(".")[1],o=c+"-"+a,n||(n=i,i=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[c]=e[c]||{},r=e[c][a],l=e[c][a]=function(e,a){return this._createWidget?(arguments.length&&this._createWidget(e,a),t):new l(e,a)},e.extend(l,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),s=new i,s.options=e.widget.extend({},s.options),e.each(n,function(a,n){return e.isFunction(n)?(d[a]=function(){var e=function(){return i.prototype[a].apply(this,arguments)},t=function(e){return i.prototype[a].apply(this,e)};return function(){var a,i=this._super,o=this._superApply;return this._super=e,this._superApply=t,a=n.apply(this,arguments),this._super=i,this._superApply=o,a}}(),t):(d[a]=n,t)}),l.prototype=e.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix||a:a},d,{constructor:l,namespace:c,widgetName:a,widgetFullName:o}),r?(e.each(r._childConstructors,function(t,a){var i=a.prototype;e.widget(i.namespace+"."+i.widgetName,l,a._proto)}),delete r._childConstructors):i._childConstructors.push(l),e.widget.bridge(a,l)},e.widget.extend=function(a){for(var n,o,r=i.call(arguments,1),l=0,s=r.length;s>l;l++)for(n in r[l])o=r[l][n],r[l].hasOwnProperty(n)&&o!==t&&(a[n]=e.isPlainObject(o)?e.isPlainObject(a[n])?e.widget.extend({},a[n],o):e.widget.extend({},o):o);return a},e.widget.bridge=function(a,n){var o=n.prototype.widgetFullName||a;e.fn[a]=function(r){var l="string"==typeof r,s=i.call(arguments,1),d=this;return r=!l&&s.length?e.widget.extend.apply(null,[r].concat(s)):r,this.each(l?function(){var i,n=e.data(this,o);return n?e.isFunction(n[r])&&"_"!==r.charAt(0)?(i=n[r].apply(n,s),i!==n&&i!==t?(d=i&&i.jquery?d.pushStack(i.get()):i,!1):t):e.error("no such method '"+r+"' for "+a+" widget instance"):e.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+r+"'")}:function(){var t=e.data(this,o);t?t.option(r||{})._init():e.data(this,o,new n(r,this))}),d}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(a,i){var n,o,r,l=a;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof a)if(l={},n=a.split("."),a=n.shift(),n.length){for(o=l[a]=e.widget.extend({},this.options[a]),r=0;n.length-1>r;r++)o[n[r]]=o[n[r]]||{},o=o[n[r]];if(a=n.pop(),1===arguments.length)return o[a]===t?null:o[a];o[a]=i}else{if(1===arguments.length)return this.options[a]===t?null:this.options[a];l[a]=i}return this._setOptions(l),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(a,i,n){var o,r=this;"boolean"!=typeof a&&(n=i,i=a,a=!1),n?(i=o=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),e.each(n,function(n,l){function s(){return a||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof l?r[l]:l).apply(r,arguments):t}"string"!=typeof l&&(s.guid=l.guid=l.guid||s.guid||e.guid++);var d=n.match(/^(\w+)\s*(.*)$/),c=d[1]+r.eventNamespace,u=d[2];u?o.delegate(u,c,s):i.bind(c,s)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function a(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(a,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,a,i){var n,o,r=this.options[t];if(i=i||{},a=e.Event(a),a.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),a.target=this.element[0],o=a.originalEvent)for(n in o)n in a||(a[n]=o[n]);return this.element.trigger(a,i),!(e.isFunction(r)&&r.apply(this.element[0],[a].concat(i))===!1||a.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,a){e.Widget.prototype["_"+t]=function(i,n,o){"string"==typeof n&&(n={effect:n});var r,l=n?n===!0||"number"==typeof n?a:n.effect||a:t;n=n||{},"number"==typeof n&&(n={duration:n}),r=!e.isEmptyObject(n),n.complete=o,n.delay&&i.delay(n.delay),r&&e.effects&&e.effects.effect[l]?i[t](n):l!==t&&i[l]?i[l](n.duration,n.easing,o):i.queue(function(a){e(this)[t](),o&&o.call(i[0]),a()})}})}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(a){return!0===e.data(a.target,t.widgetName+".preventClickEvent")?(e.removeData(a.target,t.widgetName+".preventClickEvent"),a.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(a){if(!t){this._mouseStarted&&this._mouseUp(a),this._mouseDownEvent=a;var i=this,n=1===a.which,o="string"==typeof this.options.cancel&&a.target.nodeName?e(a.target).closest(this.options.cancel).length:!1;return n&&!o&&this._mouseCapture(a)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(a)!==!1,!this._mouseStarted)?(a.preventDefault(),!0):(!0===e.data(a.target,this.widgetName+".preventClickEvent")&&e.removeData(a.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),a.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var a=this.options;return this.helper||a.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(a.iframeFix===!0?"iframe":a.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var a=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,a){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!a){var i=this._uiHash();if(this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var a=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){a._trigger("stop",t)!==!1&&a._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var a=this.options,i=e.isFunction(a.helper)?e(a.helper.apply(this.element[0],[t])):"clone"===a.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===a.appendTo?this.element[0].parentNode:a.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,a,i,n=this.options;return n.containment?"window"===n.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),a=e(n.containment),i=a[0],void(i&&(t="hidden"!==a.css("overflow"),this.containment=[(parseInt(a.css("borderLeftWidth"),10)||0)+(parseInt(a.css("paddingLeft"),10)||0),(parseInt(a.css("borderTopWidth"),10)||0)+(parseInt(a.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(a.css("borderRightWidth"),10)||0)-(parseInt(a.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(a.css("borderBottomWidth"),10)||0)-(parseInt(a.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=a))):void(this.containment=null)},_convertPositionTo:function(t,a){a||(a=this.position);var i="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:n.scrollTop(),left:n.scrollLeft()}),{top:a.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*i,left:a.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*i}},_generatePosition:function(t){var a,i,n,o,r=this.options,l="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=t.pageX,d=t.pageY;return this.offset.scroll||(this.offset.scroll={top:l.scrollTop(),left:l.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(i=this.relative_container.offset(),a=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):a=this.containment,t.pageX-this.offset.click.left<a[0]&&(s=a[0]+this.offset.click.left),t.pageY-this.offset.click.top<a[1]&&(d=a[1]+this.offset.click.top),t.pageX-this.offset.click.left>a[2]&&(s=a[2]+this.offset.click.left),t.pageY-this.offset.click.top>a[3]&&(d=a[3]+this.offset.click.top)),r.grid&&(n=r.grid[1]?this.originalPageY+Math.round((d-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,d=a?n-this.offset.click.top>=a[1]||n-this.offset.click.top>a[3]?n:n-this.offset.click.top>=a[1]?n-r.grid[1]:n+r.grid[1]:n,o=r.grid[0]?this.originalPageX+Math.round((s-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,s=a?o-this.offset.click.left>=a[0]||o-this.offset.click.left>a[2]?o:o-this.offset.click.left>=a[0]?o-r.grid[0]:o+r.grid[0]:o)),{top:d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,a,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[a,i]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,a,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,a){var i=e(this).data("ui-draggable"),n=i.options,o=e.extend({},a,{item:i.element});i.sortables=[],e(n.connectToSortable).each(function(){var a=e.data(this,"ui-sortable");a&&!a.options.disabled&&(i.sortables.push({instance:a,shouldRevert:a.options.revert}),a.refreshPositions(),a._trigger("activate",t,o))})},stop:function(t,a){var i=e(this).data("ui-draggable"),n=e.extend({},a,{item:i.element});e.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,n))})},drag:function(t,a){var i=e(this).data("ui-draggable"),n=this;e.each(i.sortables,function(){var o=!1,r=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,e.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==r&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(r.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(n).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return a.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",t),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",t),i.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),a=e(this).data("ui-draggable").options;t.css("cursor")&&(a._cursor=t.css("cursor")),t.css("cursor",a.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,a){var i=e(a.helper),n=e(this).data("ui-draggable").options;i.css("opacity")&&(n._opacity=i.css("opacity")),i.css("opacity",n.opacity)},stop:function(t,a){var i=e(this).data("ui-draggable").options;i._opacity&&e(a.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var a=e(this).data("ui-draggable"),i=a.options,n=!1;a.scrollParent[0]!==document&&"HTML"!==a.scrollParent[0].tagName?(i.axis&&"x"===i.axis||(a.overflowOffset.top+a.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?a.scrollParent[0].scrollTop=n=a.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-a.overflowOffset.top<i.scrollSensitivity&&(a.scrollParent[0].scrollTop=n=a.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(a.overflowOffset.left+a.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?a.scrollParent[0].scrollLeft=n=a.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-a.overflowOffset.left<i.scrollSensitivity&&(a.scrollParent[0].scrollLeft=n=a.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(document).scrollTop()<i.scrollSensitivity?n=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(n=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(document).scrollLeft()<i.scrollSensitivity?n=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(n=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed)))),n!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(a,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),a=t.options;t.snapElements=[],e(a.snap.constructor!==String?a.snap.items||":data(ui-draggable)":a.snap).each(function(){var a=e(this),i=a.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:a.outerWidth(),height:a.outerHeight(),top:i.top,left:i.left})})},drag:function(t,a){var i,n,o,r,l,s,d,c,u,p,h=e(this).data("ui-draggable"),m=h.options,g=m.snapTolerance,f=a.offset.left,v=f+h.helperProportions.width,b=a.offset.top,y=b+h.helperProportions.height;for(u=h.snapElements.length-1;u>=0;u--)l=h.snapElements[u].left,s=l+h.snapElements[u].width,d=h.snapElements[u].top,c=d+h.snapElements[u].height,l-g>v||f>s+g||d-g>y||b>c+g||!e.contains(h.snapElements[u].item.ownerDocument,h.snapElements[u].item)?(h.snapElements[u].snapping&&h.options.snap.release&&h.options.snap.release.call(h.element,t,e.extend(h._uiHash(),{snapItem:h.snapElements[u].item})),h.snapElements[u].snapping=!1):("inner"!==m.snapMode&&(i=g>=Math.abs(d-y),n=g>=Math.abs(c-b),o=g>=Math.abs(l-v),r=g>=Math.abs(s-f),i&&(a.position.top=h._convertPositionTo("relative",{top:d-h.helperProportions.height,left:0}).top-h.margins.top),n&&(a.position.top=h._convertPositionTo("relative",{top:c,left:0}).top-h.margins.top),o&&(a.position.left=h._convertPositionTo("relative",{top:0,left:l-h.helperProportions.width}).left-h.margins.left),r&&(a.position.left=h._convertPositionTo("relative",{top:0,left:s}).left-h.margins.left)),p=i||n||o||r,"outer"!==m.snapMode&&(i=g>=Math.abs(d-b),n=g>=Math.abs(c-y),o=g>=Math.abs(l-f),r=g>=Math.abs(s-v),i&&(a.position.top=h._convertPositionTo("relative",{top:d,left:0}).top-h.margins.top),n&&(a.position.top=h._convertPositionTo("relative",{top:c-h.helperProportions.height,left:0}).top-h.margins.top),o&&(a.position.left=h._convertPositionTo("relative",{top:0,left:l}).left-h.margins.left),r&&(a.position.left=h._convertPositionTo("relative",{top:0,left:s-h.helperProportions.width}).left-h.margins.left)),!h.snapElements[u].snapping&&(i||n||o||r||p)&&h.options.snap.snap&&h.options.snap.snap.call(h.element,t,e.extend(h._uiHash(),{snapItem:h.snapElements[u].item})),h.snapElements[u].snapping=i||n||o||r||p)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,a=this.data("ui-draggable").options,i=e.makeArray(e(a.stack)).sort(function(t,a){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(a).css("zIndex"),10)||0)});i.length&&(t=parseInt(e(i[0]).css("zIndex"),10)||0,e(i).each(function(a){e(this).css("zIndex",t+a)}),this.css("zIndex",t+i.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,a){var i=e(a.helper),n=e(this).data("ui-draggable").options;i.css("zIndex")&&(n._zIndex=i.css("zIndex")),i.css("zIndex",n.zIndex)},stop:function(t,a){var i=e(this).data("ui-draggable").options;i._zIndex&&e(a.helper).css("zIndex",i._zIndex)}})}(jQuery),function(e){function t(e){return parseInt(e,10)||0}function a(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,a,i,n,o,r=this,l=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!l.aspectRatio,aspectRatio:l.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:l.helper||l.ghost||l.animate?l.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=l.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},a=0;t.length>a;a++)i=e.trim(t[a]),o="ui-resizable-"+i,n=e("<div class='ui-resizable-handle "+o+"'></div>"),n.css({zIndex:l.zIndex}),"se"===i&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(n);
this._renderAxis=function(t){var a,i,n,o;t=t||this.element;for(a in this.handles)this.handles[a].constructor===String&&(this.handles[a]=e(this.handles[a],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=e(this.handles[a],this.element),o=/sw|ne|nw|se|n|s/.test(a)?i.outerHeight():i.outerWidth(),n=["padding",/ne|nw|n/.test(a)?"Top":/se|sw|s/.test(a)?"Bottom":/^e$/.test(a)?"Right":"Left"].join(""),t.css(n,o),this._proportionallyResize()),e(this.handles[a]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=n&&n[1]?n[1]:"se")}),l.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){l.disabled||(e(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){l.disabled||r.resizing||(e(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,a=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(a(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),a(this.originalElement),this},_mouseCapture:function(t){var a,i,n=!1;for(a in this.handles)i=e(this.handles[a])[0],(i===t.target||e.contains(i,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(a){var i,n,o,r=this.options,l=this.element.position(),s=this.element;return this.resizing=!0,/absolute/.test(s.css("position"))?s.css({position:"absolute",top:s.css("top"),left:s.css("left")}):s.is(".ui-draggable")&&s.css({position:"absolute",top:l.top,left:l.left}),this._renderProxy(),i=t(this.helper.css("left")),n=t(this.helper.css("top")),r.containment&&(i+=e(r.containment).scrollLeft()||0,n+=e(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalPosition={left:i,top:n},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalMousePosition={left:a.pageX,top:a.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===o?this.axis+"-resize":o),s.addClass("ui-resizable-resizing"),this._propagate("start",a),!0},_mouseDrag:function(t){var a,i=this.helper,n={},o=this.originalMousePosition,r=this.axis,l=this.position.top,s=this.position.left,d=this.size.width,c=this.size.height,u=t.pageX-o.left||0,p=t.pageY-o.top||0,h=this._change[r];return h?(a=h.apply(this,[t,u,p]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(a=this._updateRatio(a,t)),a=this._respectSize(a,t),this._updateCache(a),this._propagate("resize",t),this.position.top!==l&&(n.top=this.position.top+"px"),this.position.left!==s&&(n.left=this.position.left+"px"),this.size.width!==d&&(n.width=this.size.width+"px"),this.size.height!==c&&(n.height=this.size.height+"px"),i.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(n)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var a,i,n,o,r,l,s,d=this.options,c=this;return this._helper&&(a=this._proportionallyResizeElements,i=a.length&&/textarea/i.test(a[0].nodeName),n=i&&e.ui.hasScroll(a[0],"left")?0:c.sizeDiff.height,o=i?0:c.sizeDiff.width,r={width:c.helper.width()-o,height:c.helper.height()-n},l=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,s=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,d.animate||this.element.css(e.extend(r,{top:s,left:l})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!d.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,i,n,o,r,l=this.options;r={minWidth:a(l.minWidth)?l.minWidth:0,maxWidth:a(l.maxWidth)?l.maxWidth:1/0,minHeight:a(l.minHeight)?l.minHeight:0,maxHeight:a(l.maxHeight)?l.maxHeight:1/0},(this._aspectRatio||e)&&(t=r.minHeight*this.aspectRatio,n=r.minWidth/this.aspectRatio,i=r.maxHeight*this.aspectRatio,o=r.maxWidth/this.aspectRatio,t>r.minWidth&&(r.minWidth=t),n>r.minHeight&&(r.minHeight=n),r.maxWidth>i&&(r.maxWidth=i),r.maxHeight>o&&(r.maxHeight=o)),this._vBoundaries=r},_updateCache:function(e){this.offset=this.helper.offset(),a(e.left)&&(this.position.left=e.left),a(e.top)&&(this.position.top=e.top),a(e.height)&&(this.size.height=e.height),a(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return a(e.height)?e.width=e.height*this.aspectRatio:a(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=a(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=a(e.height)&&t.maxHeight&&t.maxHeight<e.height,r=a(e.width)&&t.minWidth&&t.minWidth>e.width,l=a(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,d=this.position.top+this.size.height,c=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return r&&(e.width=t.minWidth),l&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),r&&c&&(e.left=s-t.minWidth),n&&c&&(e.left=s-t.maxWidth),l&&u&&(e.top=d-t.minHeight),o&&u&&(e.top=d-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,a,i,n,o=this.helper||this.element;for(e=0;this._proportionallyResizeElements.length>e;e++){if(n=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],a=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],i=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")],t=0;a.length>t;t++)this.borderDif[t]=(parseInt(a[t],10)||0)+(parseInt(i[t],10)||0);n.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,a=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++a.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var a=this.originalSize,i=this.originalPosition;return{left:i.left+t,width:a.width-t}},n:function(e,t,a){var i=this.originalSize,n=this.originalPosition;return{top:n.top+a,height:i.height-a}},s:function(e,t,a){return{height:this.originalSize.height+a}},se:function(t,a,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,a,i]))},sw:function(t,a,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,a,i]))},ne:function(t,a,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,a,i]))},nw:function(t,a,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,a,i]))}},_propagate:function(t,a){e.ui.plugin.call(this,t,[a,this.ui()]),"resize"!==t&&this._trigger(t,a,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var a=e(this).data("ui-resizable"),i=a.options,n=a._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),r=o&&e.ui.hasScroll(n[0],"left")?0:a.sizeDiff.height,l=o?0:a.sizeDiff.width,s={width:a.size.width-l,height:a.size.height-r},d=parseInt(a.element.css("left"),10)+(a.position.left-a.originalPosition.left)||null,c=parseInt(a.element.css("top"),10)+(a.position.top-a.originalPosition.top)||null;a.element.animate(e.extend(s,c&&d?{top:c,left:d}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(a.element.css("width"),10),height:parseInt(a.element.css("height"),10),top:parseInt(a.element.css("top"),10),left:parseInt(a.element.css("left"),10)};n&&n.length&&e(n[0]).css({width:i.width,height:i.height}),a._updateCache(i),a._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var a,i,n,o,r,l,s,d=e(this).data("ui-resizable"),c=d.options,u=d.element,p=c.containment,h=p instanceof e?p.get(0):/parent/.test(p)?u.parent().get(0):p;h&&(d.containerElement=e(h),/document/.test(p)||p===document?(d.containerOffset={left:0,top:0},d.containerPosition={left:0,top:0},d.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(a=e(h),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,n){i[e]=t(a.css("padding"+n))}),d.containerOffset=a.offset(),d.containerPosition=a.position(),d.containerSize={height:a.innerHeight()-i[3],width:a.innerWidth()-i[1]},n=d.containerOffset,o=d.containerSize.height,r=d.containerSize.width,l=e.ui.hasScroll(h,"left")?h.scrollWidth:r,s=e.ui.hasScroll(h)?h.scrollHeight:o,d.parentData={element:h,left:n.left,top:n.top,width:l,height:s}))},resize:function(t){var a,i,n,o,r=e(this).data("ui-resizable"),l=r.options,s=r.containerOffset,d=r.position,c=r._aspectRatio||t.shiftKey,u={top:0,left:0},p=r.containerElement;p[0]!==document&&/static/.test(p.css("position"))&&(u=s),d.left<(r._helper?s.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-s.left:r.position.left-u.left),c&&(r.size.height=r.size.width/r.aspectRatio),r.position.left=l.helper?s.left:0),d.top<(r._helper?s.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-s.top:r.position.top),c&&(r.size.width=r.size.height*r.aspectRatio),r.position.top=r._helper?s.top:0),r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top,a=Math.abs((r._helper?r.offset.left-u.left:r.offset.left-u.left)+r.sizeDiff.width),i=Math.abs((r._helper?r.offset.top-u.top:r.offset.top-s.top)+r.sizeDiff.height),n=r.containerElement.get(0)===r.element.parent().get(0),o=/relative|absolute/.test(r.containerElement.css("position")),n&&o&&(a-=Math.abs(r.parentData.left)),a+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-a,c&&(r.size.height=r.size.width/r.aspectRatio)),i+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-i,c&&(r.size.width=r.size.height*r.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),a=t.options,i=t.containerOffset,n=t.containerPosition,o=t.containerElement,r=e(t.helper),l=r.offset(),s=r.outerWidth()-t.sizeDiff.width,d=r.outerHeight()-t.sizeDiff.height;t._helper&&!a.animate&&/relative/.test(o.css("position"))&&e(this).css({left:l.left-n.left-i.left,width:s,height:d}),t._helper&&!a.animate&&/static/.test(o.css("position"))&&e(this).css({left:l.left-n.left-i.left,width:s,height:d})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),a=t.options,i=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof a.alsoResize||a.alsoResize.parentNode?i(a.alsoResize):a.alsoResize.length?(a.alsoResize=a.alsoResize[0],i(a.alsoResize)):e.each(a.alsoResize,function(e){i(e)})},resize:function(t,a){var i=e(this).data("ui-resizable"),n=i.options,o=i.originalSize,r=i.originalPosition,l={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-r.top||0,left:i.position.left-r.left||0},s=function(t,i){e(t).each(function(){var t=e(this),n=e(this).data("ui-resizable-alsoresize"),o={},r=i&&i.length?i:t.parents(a.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(r,function(e,t){var a=(n[t]||0)+(l[t]||0);a&&a>=0&&(o[t]=a||null)}),t.css(o)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?s(n.alsoResize):e.each(n.alsoResize,function(e,t){s(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),a=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof a.ghost?a.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),a=t.options,i=t.size,n=t.originalSize,o=t.originalPosition,r=t.axis,l="number"==typeof a.grid?[a.grid,a.grid]:a.grid,s=l[0]||1,d=l[1]||1,c=Math.round((i.width-n.width)/s)*s,u=Math.round((i.height-n.height)/d)*d,p=n.width+c,h=n.height+u,m=a.maxWidth&&p>a.maxWidth,g=a.maxHeight&&h>a.maxHeight,f=a.minWidth&&a.minWidth>p,v=a.minHeight&&a.minHeight>h;a.grid=l,f&&(p+=s),v&&(h+=d),m&&(p-=s),g&&(h-=d),/^(se|s|e)$/.test(r)?(t.size.width=p,t.size.height=h):/^(ne)$/.test(r)?(t.size.width=p,t.size.height=h,t.position.top=o.top-u):/^(sw)$/.test(r)?(t.size.width=p,t.size.height=h,t.position.left=o.left-c):(h-d>0?(t.size.height=h,t.position.top=o.top-u):(t.size.height=d,t.position.top=o.top+n.height-d),p-s>0?(t.size.width=p,t.position.left=o.left-c):(t.size.width=s,t.position.left=o.left+n.width-s))}})}(jQuery),/*!
 * File:        jquery.dataTables.min.js
 * Version:     1.9.4
 * Author:      Allan Jardine (www.sprymedia.co.uk)
 * Info:        www.datatables.net
 *
 * Copyright 2008-2012 Allan Jardine, all rights reserved.
 *
 * This source file is free software, under either the GPL v2 license or a
 * BSD style license, available at:
 *   http://datatables.net/license_gpl2
 *   http://datatables.net/license_bsd
 *
 * This source file is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 */
function(X,l,n){var L=function(h){var j=function(e){function o(e,t){var a=j.defaults.columns,i=e.aoColumns.length,a=h.extend({},j.models.oColumn,a,{sSortingClass:e.oClasses.sSortable,sSortingClassJUI:e.oClasses.sSortJUI,nTh:t?t:l.createElement("th"),sTitle:a.sTitle?a.sTitle:t?t.innerHTML:"",aDataSort:a.aDataSort?a.aDataSort:[i],mData:a.mData?a.oDefaults:i});e.aoColumns.push(a),e.aoPreSearchCols[i]===n||null===e.aoPreSearchCols[i]?e.aoPreSearchCols[i]=h.extend({},j.models.oSearch):(a=e.aoPreSearchCols[i],a.bRegex===n&&(a.bRegex=!0),a.bSmart===n&&(a.bSmart=!0),a.bCaseInsensitive===n&&(a.bCaseInsensitive=!0)),m(e,i,null)}function m(e,t,a){var i=e.aoColumns[t];a!==n&&null!==a&&(a.mDataProp&&!a.mData&&(a.mData=a.mDataProp),a.sType!==n&&(i.sType=a.sType,i._bAutoType=!1),h.extend(i,a),p(i,a,"sWidth","sWidthOrig"),a.iDataSort!==n&&(i.aDataSort=[a.iDataSort]),p(i,a,"aDataSort"));var o=i.mRender?Q(i.mRender):null,r=Q(i.mData);i.fnGetData=function(e,t){var a=r(e,t);return i.mRender&&t&&""!==t?o(a,t,e):a},i.fnSetData=L(i.mData),e.oFeatures.bSort||(i.bSortable=!1),!i.bSortable||-1==h.inArray("asc",i.asSorting)&&-1==h.inArray("desc",i.asSorting)?(i.sSortingClass=e.oClasses.sSortableNone,i.sSortingClassJUI=""):-1==h.inArray("asc",i.asSorting)&&-1==h.inArray("desc",i.asSorting)?(i.sSortingClass=e.oClasses.sSortable,i.sSortingClassJUI=e.oClasses.sSortJUI):-1!=h.inArray("asc",i.asSorting)&&-1==h.inArray("desc",i.asSorting)?(i.sSortingClass=e.oClasses.sSortableAsc,i.sSortingClassJUI=e.oClasses.sSortJUIAscAllowed):-1==h.inArray("asc",i.asSorting)&&-1!=h.inArray("desc",i.asSorting)&&(i.sSortingClass=e.oClasses.sSortableDesc,i.sSortingClassJUI=e.oClasses.sSortJUIDescAllowed)}function k(e){if(!1===e.oFeatures.bAutoWidth)return!1;da(e);for(var t=0,a=e.aoColumns.length;a>t;t++)e.aoColumns[t].nTh.style.width=e.aoColumns[t].sWidth}function G(e,t){var a=r(e,"bVisible");return"number"==typeof a[t]?a[t]:null}function R(e,t){var a=r(e,"bVisible"),a=h.inArray(t,a);return-1!==a?a:null}function t(e){return r(e,"bVisible").length}function r(e,t){var a=[];return h.map(e.aoColumns,function(e,i){e[t]&&a.push(i)}),a}function B(e){for(var t=j.ext.aTypes,a=t.length,i=0;a>i;i++){var n=t[i](e);if(null!==n)return n}return"string"}function u(e,t){for(var a=t.split(","),i=[],n=0,o=e.aoColumns.length;o>n;n++)for(var r=0;o>r;r++)if(e.aoColumns[n].sName==a[r]){i.push(r);break}return i}function M(e){for(var t="",a=0,i=e.aoColumns.length;i>a;a++)t+=e.aoColumns[a].sName+",";return t.length==i?"":t.slice(0,-1)}function ta(e,t,a,i){var n,r,l,s,d;if(t)for(n=t.length-1;n>=0;n--){var c=t[n].aTargets;for(h.isArray(c)||D(e,1,"aTargets must be an array of targets, not a "+typeof c),r=0,l=c.length;l>r;r++)if("number"==typeof c[r]&&0<=c[r]){for(;e.aoColumns.length<=c[r];)o(e);i(c[r],t[n])}else if("number"==typeof c[r]&&0>c[r])i(e.aoColumns.length+c[r],t[n]);else if("string"==typeof c[r])for(s=0,d=e.aoColumns.length;d>s;s++)("_all"==c[r]||h(e.aoColumns[s].nTh).hasClass(c[r]))&&i(s,t[n])}if(a)for(n=0,e=a.length;e>n;n++)i(n,a[n])}function H(e,t){var a;a=h.isArray(t)?t.slice():h.extend(!0,{},t);var i=e.aoData.length,n=h.extend(!0,{},j.models.oRow);n._aData=a,e.aoData.push(n);for(var o,n=0,r=e.aoColumns.length;r>n;n++)a=e.aoColumns[n],"function"==typeof a.fnRender&&a.bUseRendered&&null!==a.mData?F(e,i,n,S(e,i,n)):F(e,i,n,v(e,i,n)),a._bAutoType&&"string"!=a.sType&&(o=v(e,i,n,"type"),null!==o&&""!==o&&(o=B(o),null===a.sType?a.sType=o:a.sType!=o&&"html"!=a.sType&&(a.sType="string")));return e.aiDisplayMaster.push(i),e.oFeatures.bDeferRender||ea(e,i),i}function ua(e){var t,a,i,n,o,r,l;if(e.bDeferLoading||null===e.sAjaxSource)for(t=e.nTBody.firstChild;t;){if("TR"==t.nodeName.toUpperCase())for(a=e.aoData.length,t._DT_RowIndex=a,e.aoData.push(h.extend(!0,{},j.models.oRow,{nTr:t})),e.aiDisplayMaster.push(a),o=t.firstChild,i=0;o;)r=o.nodeName.toUpperCase(),("TD"==r||"TH"==r)&&(F(e,a,i,h.trim(o.innerHTML)),i++),o=o.nextSibling;t=t.nextSibling}for(n=T(e),i=[],t=0,a=n.length;a>t;t++)for(o=n[t].firstChild;o;)r=o.nodeName.toUpperCase(),("TD"==r||"TH"==r)&&i.push(o),o=o.nextSibling;for(a=0,n=e.aoColumns.length;n>a;a++){l=e.aoColumns[a],null===l.sTitle&&(l.sTitle=l.nTh.innerHTML);var s,d,c=l._bAutoType,u="function"==typeof l.fnRender,p=null!==l.sClass,m=l.bVisible;if(c||u||p||!m)for(r=0,t=e.aoData.length;t>r;r++)o=e.aoData[r],s=i[r*n+a],c&&"string"!=l.sType&&(d=v(e,r,a,"type"),""!==d&&(d=B(d),null===l.sType?l.sType=d:l.sType!=d&&"html"!=l.sType&&(l.sType="string"))),l.mRender?s.innerHTML=v(e,r,a,"display"):l.mData!==a&&(s.innerHTML=v(e,r,a,"display")),u&&(d=S(e,r,a),s.innerHTML=d,l.bUseRendered&&F(e,r,a,d)),p&&(s.className+=" "+l.sClass),m?o._anHidden[a]=null:(o._anHidden[a]=s,s.parentNode.removeChild(s)),l.fnCreatedCell&&l.fnCreatedCell.call(e.oInstance,s,v(e,r,a,"display"),o._aData,r,a)}if(0!==e.aoRowCreatedCallback.length)for(t=0,a=e.aoData.length;a>t;t++)o=e.aoData[t],A(e,"aoRowCreatedCallback",null,[o.nTr,o._aData,t])}function I(e,t){return t._DT_RowIndex!==n?t._DT_RowIndex:null}function fa(e,t,a){for(var t=J(e,t),i=0,e=e.aoColumns.length;e>i;i++)if(t[i]===a)return i;return-1}function Y(e,t,a,i){for(var n=[],o=0,r=i.length;r>o;o++)n.push(v(e,t,i[o],a));return n}function v(e,t,a,i){var o=e.aoColumns[a];if((a=o.fnGetData(e.aoData[t]._aData,i))===n)return e.iDrawError!=e.iDraw&&null===o.sDefaultContent&&(D(e,0,"Requested unknown parameter "+("function"==typeof o.mData?"{mData function}":"'"+o.mData+"'")+" from the data source for row "+t),e.iDrawError=e.iDraw),o.sDefaultContent;if(null===a&&null!==o.sDefaultContent)a=o.sDefaultContent;else if("function"==typeof a)return a();return"display"==i&&null===a?"":a}function F(e,t,a,i){e.aoColumns[a].fnSetData(e.aoData[t]._aData,i)}function Q(e){if(null===e)return function(){return null};if("function"==typeof e)return function(t,a,i){return e(t,a,i)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("["))){var t=function(e,a,i){var o,r=i.split(".");if(""!==i){var l=0;for(o=r.length;o>l;l++){if(i=r[l].match(U)){r[l]=r[l].replace(U,""),""!==r[l]&&(e=e[r[l]]),o=[],r.splice(0,l+1);for(var r=r.join("."),l=0,s=e.length;s>l;l++)o.push(t(e[l],a,r));e=i[0].substring(1,i[0].length-1),e=""===e?o:o.join(e);break}if(null===e||e[r[l]]===n)return n;e=e[r[l]]}}return e};return function(a,i){return t(a,i,e)}}return function(t){return t[e]}}function L(e){if(null===e)return function(){};if("function"==typeof e)return function(t,a){e(t,"set",a)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("["))){var t=function(e,a,i){var o,r,i=i.split("."),l=0;for(r=i.length-1;r>l;l++){if(o=i[l].match(U)){i[l]=i[l].replace(U,""),e[i[l]]=[],o=i.slice(),o.splice(0,l+1),r=o.join(".");for(var s=0,d=a.length;d>s;s++)o={},t(o,a[s],r),e[i[l]].push(o);return}(null===e[i[l]]||e[i[l]]===n)&&(e[i[l]]={}),e=e[i[l]]}e[i[i.length-1].replace(U,"")]=a};return function(a,i){return t(a,i,e)}}return function(t,a){t[e]=a}}function Z(e){for(var t=[],a=e.aoData.length,i=0;a>i;i++)t.push(e.aoData[i]._aData);return t}function ga(e){e.aoData.splice(0,e.aoData.length),e.aiDisplayMaster.splice(0,e.aiDisplayMaster.length),e.aiDisplay.splice(0,e.aiDisplay.length),y(e)}function ha(e,t){for(var a=-1,i=0,n=e.length;n>i;i++)e[i]==t?a=i:e[i]>t&&e[i]--;-1!=a&&e.splice(a,1)}function S(e,t,a){var i=e.aoColumns[a];return i.fnRender({iDataRow:t,iDataColumn:a,oSettings:e,aData:e.aoData[t]._aData,mDataProp:i.mData},v(e,t,a,"display"))}function ea(e,t){var a,i=e.aoData[t];if(null===i.nTr){i.nTr=l.createElement("tr"),i.nTr._DT_RowIndex=t,i._aData.DT_RowId&&(i.nTr.id=i._aData.DT_RowId),i._aData.DT_RowClass&&(i.nTr.className=i._aData.DT_RowClass);for(var n=0,o=e.aoColumns.length;o>n;n++){var r=e.aoColumns[n];a=l.createElement(r.sCellType),a.innerHTML="function"!=typeof r.fnRender||r.bUseRendered&&null!==r.mData?v(e,t,n,"display"):S(e,t,n),null!==r.sClass&&(a.className=r.sClass),r.bVisible?(i.nTr.appendChild(a),i._anHidden[n]=null):i._anHidden[n]=a,r.fnCreatedCell&&r.fnCreatedCell.call(e.oInstance,a,v(e,t,n,"display"),i._aData,t,n)}A(e,"aoRowCreatedCallback",null,[i.nTr,i._aData,t])}}function va(e){var t,a,i;if(0!==h("th, td",e.nTHead).length)for(t=0,i=e.aoColumns.length;i>t;t++)a=e.aoColumns[t].nTh,a.setAttribute("role","columnheader"),e.aoColumns[t].bSortable&&(a.setAttribute("tabindex",e.iTabIndex),a.setAttribute("aria-controls",e.sTableId)),null!==e.aoColumns[t].sClass&&h(a).addClass(e.aoColumns[t].sClass),e.aoColumns[t].sTitle!=a.innerHTML&&(a.innerHTML=e.aoColumns[t].sTitle);else{var n=l.createElement("tr");for(t=0,i=e.aoColumns.length;i>t;t++)a=e.aoColumns[t].nTh,a.innerHTML=e.aoColumns[t].sTitle,a.setAttribute("tabindex","0"),null!==e.aoColumns[t].sClass&&h(a).addClass(e.aoColumns[t].sClass),n.appendChild(a);h(e.nTHead).html("")[0].appendChild(n),V(e.aoHeader,e.nTHead)}if(h(e.nTHead).children("tr").attr("role","row"),e.bJUI)for(t=0,i=e.aoColumns.length;i>t;t++){a=e.aoColumns[t].nTh,n=l.createElement("div"),n.className=e.oClasses.sSortJUIWrapper,h(a).contents().appendTo(n);var o=l.createElement("span");o.className=e.oClasses.sSortIcon,n.appendChild(o),a.appendChild(n)}if(e.oFeatures.bSort)for(t=0;t<e.aoColumns.length;t++)!1!==e.aoColumns[t].bSortable?ia(e,e.aoColumns[t].nTh,t):h(e.aoColumns[t].nTh).addClass(e.oClasses.sSortableNone);if(""!==e.oClasses.sFooterTH&&h(e.nTFoot).children("tr").children("th").addClass(e.oClasses.sFooterTH),null!==e.nTFoot)for(a=N(e,null,e.aoFooter),t=0,i=e.aoColumns.length;i>t;t++)a[t]&&(e.aoColumns[t].nTf=a[t],e.aoColumns[t].sClass&&h(a[t]).addClass(e.aoColumns[t].sClass))}function W(e,t,a){var i,o,r,l,s=[],d=[],c=e.aoColumns.length;for(a===n&&(a=!1),i=0,o=t.length;o>i;i++){for(s[i]=t[i].slice(),s[i].nTr=t[i].nTr,r=c-1;r>=0;r--)!e.aoColumns[r].bVisible&&!a&&s[i].splice(r,1);d.push([])}for(i=0,o=s.length;o>i;i++){if(e=s[i].nTr)for(;r=e.firstChild;)e.removeChild(r);for(r=0,t=s[i].length;t>r;r++)if(l=c=1,d[i][r]===n){for(e.appendChild(s[i][r].cell),d[i][r]=1;s[i+c]!==n&&s[i][r].cell==s[i+c][r].cell;)d[i+c][r]=1,c++;for(;s[i][r+l]!==n&&s[i][r].cell==s[i][r+l].cell;){for(a=0;c>a;a++)d[i+a][r+l]=1;l++}s[i][r].cell.rowSpan=c,s[i][r].cell.colSpan=l}}}function x(e){var a=A(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==h.inArray(!1,a))E(e,!1);else{var i,o,a=[],r=0,s=e.asStripeClasses.length;if(i=e.aoOpenRows.length,e.bDrawing=!0,e.iInitDisplayStart!==n&&-1!=e.iInitDisplayStart&&(e._iDisplayStart=e.oFeatures.bServerSide?e.iInitDisplayStart:e.iInitDisplayStart>=e.fnRecordsDisplay()?0:e.iInitDisplayStart,e.iInitDisplayStart=-1,y(e)),e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++;else if(e.oFeatures.bServerSide){if(!e.bDestroying&&!wa(e))return}else e.iDraw++;if(0!==e.aiDisplay.length){var d=e._iDisplayStart;for(o=e._iDisplayEnd,e.oFeatures.bServerSide&&(d=0,o=e.aoData.length);o>d;d++){var c=e.aoData[e.aiDisplay[d]];null===c.nTr&&ea(e,e.aiDisplay[d]);var u=c.nTr;if(0!==s){var p=e.asStripeClasses[r%s];c._sRowStripe!=p&&(h(u).removeClass(c._sRowStripe).addClass(p),c._sRowStripe=p)}if(A(e,"aoRowCallback",null,[u,e.aoData[e.aiDisplay[d]]._aData,r,d]),a.push(u),r++,0!==i)for(c=0;i>c;c++)if(u==e.aoOpenRows[c].nParent){a.push(e.aoOpenRows[c].nTr);break}}}else a[0]=l.createElement("tr"),e.asStripeClasses[0]&&(a[0].className=e.asStripeClasses[0]),i=e.oLanguage,s=i.sZeroRecords,1!=e.iDraw||null===e.sAjaxSource||e.oFeatures.bServerSide?i.sEmptyTable&&0===e.fnRecordsTotal()&&(s=i.sEmptyTable):s=i.sLoadingRecords,i=l.createElement("td"),i.setAttribute("valign","top"),i.colSpan=t(e),i.className=e.oClasses.sRowEmpty,i.innerHTML=ja(e,s),a[r].appendChild(i);if(A(e,"aoHeaderCallback","header",[h(e.nTHead).children("tr")[0],Z(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]),A(e,"aoFooterCallback","footer",[h(e.nTFoot).children("tr")[0],Z(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]),r=l.createDocumentFragment(),i=l.createDocumentFragment(),e.nTBody){if(s=e.nTBody.parentNode,i.appendChild(e.nTBody),!e.oScroll.bInfinite||!e._bInitComplete||e.bSorted||e.bFiltered)for(;i=e.nTBody.firstChild;)e.nTBody.removeChild(i);for(i=0,o=a.length;o>i;i++)r.appendChild(a[i]);e.nTBody.appendChild(r),null!==s&&s.appendChild(e.nTBody)}A(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1,e.oFeatures.bServerSide&&(E(e,!1),e._bInitComplete||$(e))}}function aa(e){e.oFeatures.bSort?O(e,e.oPreviousSearch):e.oFeatures.bFilter?K(e,e.oPreviousSearch):(y(e),x(e))}function xa(e){var t=h("<div></div>")[0];e.nTable.parentNode.insertBefore(t,e.nTable),e.nTableWrapper=h('<div id="'+e.sTableId+'_wrapper" class="'+e.oClasses.sWrapper+'" role="grid"></div>')[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var a,i,n,o,r,l,s,d=e.nTableWrapper,c=e.sDom.split(""),u=0;u<c.length;u++){if(i=0,n=c[u],"<"==n){if(o=h("<div></div>")[0],r=c[u+1],"'"==r||'"'==r){for(l="",s=2;c[u+s]!=r;)l+=c[u+s],s++;"H"==l?l=e.oClasses.sJUIHeader:"F"==l&&(l=e.oClasses.sJUIFooter),-1!=l.indexOf(".")?(r=l.split("."),o.id=r[0].substr(1,r[0].length-1),o.className=r[1]):"#"==l.charAt(0)?o.id=l.substr(1,l.length-1):o.className=l,u+=s}d.appendChild(o),d=o}else if(">"==n)d=d.parentNode;else if("l"==n&&e.oFeatures.bPaginate&&e.oFeatures.bLengthChange)a=ya(e),i=1;else if("f"==n&&e.oFeatures.bFilter)a=za(e),i=1;else if("r"==n&&e.oFeatures.bProcessing)a=Aa(e),i=1;else if("t"==n)a=Ba(e),i=1;else if("i"==n&&e.oFeatures.bInfo)a=Ca(e),i=1;else if("p"==n&&e.oFeatures.bPaginate)a=Da(e),i=1;else if(0!==j.ext.aoFeatures.length)for(o=j.ext.aoFeatures,s=0,r=o.length;r>s;s++)if(n==o[s].cFeature){(a=o[s].fnInit(e))&&(i=1);break}1==i&&null!==a&&("object"!=typeof e.aanFeatures[n]&&(e.aanFeatures[n]=[]),e.aanFeatures[n].push(a),d.appendChild(a))}t.parentNode.replaceChild(e.nTableWrapper,t)}function V(e,t){var a,i,n,o,r,l,s,d,c,u,p=h(t).children("tr");for(e.splice(0,e.length),n=0,l=p.length;l>n;n++)e.push([]);for(n=0,l=p.length;l>n;n++)for(a=p[n],i=a.firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase()){for(d=1*i.getAttribute("colspan"),c=1*i.getAttribute("rowspan"),d=d&&0!==d&&1!==d?d:1,c=c&&0!==c&&1!==c?c:1,o=0,r=e[n];r[o];)o++;for(s=o,u=1===d?!0:!1,r=0;d>r;r++)for(o=0;c>o;o++)e[n+o][s+r]={cell:i,unique:u},e[n+o].nTr=a}i=i.nextSibling}}function N(e,t,a){var i=[];a||(a=e.aoHeader,t&&(a=[],V(a,t)));for(var t=0,n=a.length;n>t;t++)for(var o=0,r=a[t].length;r>o;o++)!a[t][o].unique||i[o]&&e.bSortCellsTop||(i[o]=a[t][o].cell);return i}function wa(e){if(e.bAjaxDataGet){e.iDraw++,E(e,!0);var t=Ea(e);return ka(e,t),e.fnServerData.call(e.oInstance,e.sAjaxSource,t,function(t){Fa(e,t)},e),!1}return!0}function Ea(e){var t,a,i,n,o=e.aoColumns.length,r=[];for(r.push({name:"sEcho",value:e.iDraw}),r.push({name:"iColumns",value:o}),r.push({name:"sColumns",value:M(e)}),r.push({name:"iDisplayStart",value:e._iDisplayStart}),r.push({name:"iDisplayLength",value:!1!==e.oFeatures.bPaginate?e._iDisplayLength:-1}),i=0;o>i;i++)t=e.aoColumns[i].mData,r.push({name:"mDataProp_"+i,value:"function"==typeof t?"function":t});if(!1!==e.oFeatures.bFilter)for(r.push({name:"sSearch",value:e.oPreviousSearch.sSearch}),r.push({name:"bRegex",value:e.oPreviousSearch.bRegex}),i=0;o>i;i++)r.push({name:"sSearch_"+i,value:e.aoPreSearchCols[i].sSearch}),r.push({name:"bRegex_"+i,value:e.aoPreSearchCols[i].bRegex}),r.push({name:"bSearchable_"+i,value:e.aoColumns[i].bSearchable});if(!1!==e.oFeatures.bSort){var l=0;for(t=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),i=0;i<t.length;i++)for(a=e.aoColumns[t[i][0]].aDataSort,n=0;n<a.length;n++)r.push({name:"iSortCol_"+l,value:a[n]}),r.push({name:"sSortDir_"+l,value:t[i][1]}),l++;for(r.push({name:"iSortingCols",value:l}),i=0;o>i;i++)r.push({name:"bSortable_"+i,value:e.aoColumns[i].bSortable})}return r}function ka(e,t){A(e,"aoServerParams","serverParams",[t])}function Fa(e,t){if(t.sEcho!==n){if(1*t.sEcho<e.iDraw)return;e.iDraw=1*t.sEcho}(!e.oScroll.bInfinite||e.oScroll.bInfinite&&(e.bSorted||e.bFiltered))&&ga(e),e._iRecordsTotal=parseInt(t.iTotalRecords,10),e._iRecordsDisplay=parseInt(t.iTotalDisplayRecords,10);var a,i=M(e),i=t.sColumns!==n&&""!==i&&t.sColumns!=i;i&&(a=u(e,t.sColumns));for(var o=Q(e.sAjaxDataProp)(t),r=0,l=o.length;l>r;r++)if(i){for(var s=[],d=0,c=e.aoColumns.length;c>d;d++)s.push(o[r][a[d]]);H(e,s)}else H(e,o[r]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,x(e),e.bAjaxDataGet=!0,E(e,!1)}function za(e){var t=e.oPreviousSearch,a=e.oLanguage.sSearch,a=-1!==a.indexOf("_INPUT_")?a.replace("_INPUT_",'<input type="text" />'):""===a?'<input type="text" />':a+' <input type="text" />',i=l.createElement("div");return i.className=e.oClasses.sFilter,i.innerHTML="<label>"+a+"</label>",e.aanFeatures.f||(i.id=e.sTableId+"_filter"),a=h('input[type="text"]',i),i._DT_Input=a[0],a.val(t.sSearch.replace('"',"&quot;")),a.bind("keyup.DT",function(){for(var a=e.aanFeatures.f,i=""===this.value?"":this.value,n=0,o=a.length;o>n;n++)a[n]!=h(this).parents("div.dataTables_filter")[0]&&h(a[n]._DT_Input).val(i);i!=t.sSearch&&K(e,{sSearch:i,bRegex:t.bRegex,bSmart:t.bSmart,bCaseInsensitive:t.bCaseInsensitive})}),a.attr("aria-controls",e.sTableId).bind("keypress.DT",function(e){return 13==e.keyCode?!1:void 0}),i}function K(e,t,a){var i=e.oPreviousSearch,n=e.aoPreSearchCols,o=function(e){i.sSearch=e.sSearch,i.bRegex=e.bRegex,i.bSmart=e.bSmart,i.bCaseInsensitive=e.bCaseInsensitive};if(e.oFeatures.bServerSide)o(t);else{for(Ga(e,t.sSearch,a,t.bRegex,t.bSmart,t.bCaseInsensitive),o(t),t=0;t<e.aoPreSearchCols.length;t++)Ha(e,n[t].sSearch,t,n[t].bRegex,n[t].bSmart,n[t].bCaseInsensitive);Ia(e)}e.bFiltered=!0,h(e.oInstance).trigger("filter",e),e._iDisplayStart=0,y(e),x(e),la(e,0)}function Ia(e){for(var t=j.ext.afnFiltering,a=r(e,"bSearchable"),i=0,n=t.length;n>i;i++)for(var o=0,l=0,s=e.aiDisplay.length;s>l;l++){var d=e.aiDisplay[l-o];t[i](e,Y(e,d,"filter",a),d)||(e.aiDisplay.splice(l-o,1),o++)}}function Ha(e,t,a,i,n,o){if(""!==t)for(var r=0,t=ma(t,i,n,o),i=e.aiDisplay.length-1;i>=0;i--)n=Ja(v(e,e.aiDisplay[i],a,"filter"),e.aoColumns[a].sType),t.test(n)||(e.aiDisplay.splice(i,1),r++)}function Ga(e,t,a,i,n,o){if(i=ma(t,i,n,o),n=e.oPreviousSearch,a||(a=0),0!==j.ext.afnFiltering.length&&(a=1),0>=t.length)e.aiDisplay.splice(0,e.aiDisplay.length),e.aiDisplay=e.aiDisplayMaster.slice();else if(e.aiDisplay.length==e.aiDisplayMaster.length||n.sSearch.length>t.length||1==a||0!==t.indexOf(n.sSearch))for(e.aiDisplay.splice(0,e.aiDisplay.length),la(e,1),t=0;t<e.aiDisplayMaster.length;t++)i.test(e.asDataSearch[t])&&e.aiDisplay.push(e.aiDisplayMaster[t]);else for(t=a=0;t<e.asDataSearch.length;t++)i.test(e.asDataSearch[t])||(e.aiDisplay.splice(t-a,1),a++)}function la(e,t){if(!e.oFeatures.bServerSide){e.asDataSearch=[];for(var a=r(e,"bSearchable"),i=1===t?e.aiDisplayMaster:e.aiDisplay,n=0,o=i.length;o>n;n++)e.asDataSearch[n]=na(e,Y(e,i[n],"filter",a))}}function na(e,t){var a=t.join("  ");return-1!==a.indexOf("&")&&(a=h("<div>").html(a).text()),a.replace(/[\n\r]/g," ")}function ma(e,t,a,i){return a?(e=t?e.split(" "):oa(e).split(" "),e="^(?=.*?"+e.join(")(?=.*?")+").*$",RegExp(e,i?"i":"")):(e=t?e:oa(e),RegExp(e,i?"i":""))}function Ja(e,t){return"function"==typeof j.ext.ofnSearch[t]?j.ext.ofnSearch[t](e):null===e?"":"html"==t?e.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):"string"==typeof e?e.replace(/[\r\n]/g," "):e}function oa(e){return e.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),"\\$1")}function Ca(e){var t=l.createElement("div");return t.className=e.oClasses.sInfo,e.aanFeatures.i||(e.aoDrawCallback.push({fn:Ka,sName:"information"}),t.id=e.sTableId+"_info"),e.nTable.setAttribute("aria-describedby",e.sTableId+"_info"),t}function Ka(e){if(e.oFeatures.bInfo&&0!==e.aanFeatures.i.length){var t,a=e.oLanguage,i=e._iDisplayStart+1,n=e.fnDisplayEnd(),o=e.fnRecordsTotal(),r=e.fnRecordsDisplay();for(t=0===r?a.sInfoEmpty:a.sInfo,r!=o&&(t+=" "+a.sInfoFiltered),t+=a.sInfoPostFix,t=ja(e,t),null!==a.fnInfoCallback&&(t=a.fnInfoCallback.call(e.oInstance,e,i,n,o,r,t)),e=e.aanFeatures.i,a=0,i=e.length;i>a;a++)h(e[a]).html(t)}}function ja(e,t){var a=e.fnFormatNumber(e._iDisplayStart+1),i=e.fnDisplayEnd(),i=e.fnFormatNumber(i),n=e.fnRecordsDisplay(),n=e.fnFormatNumber(n),o=e.fnRecordsTotal(),o=e.fnFormatNumber(o);return e.oScroll.bInfinite&&(a=e.fnFormatNumber(1)),t.replace(/_START_/g,a).replace(/_END_/g,i).replace(/_TOTAL_/g,n).replace(/_MAX_/g,o)}function ba(e){var t,a,i=e.iInitDisplayStart;if(!1===e.bInitialised)setTimeout(function(){ba(e)},200);else{for(xa(e),va(e),W(e,e.aoHeader),e.nTFoot&&W(e,e.aoFooter),E(e,!0),e.oFeatures.bAutoWidth&&da(e),t=0,a=e.aoColumns.length;a>t;t++)null!==e.aoColumns[t].sWidth&&(e.aoColumns[t].nTh.style.width=q(e.aoColumns[t].sWidth));e.oFeatures.bSort?O(e):e.oFeatures.bFilter?K(e,e.oPreviousSearch):(e.aiDisplay=e.aiDisplayMaster.slice(),y(e),x(e)),null===e.sAjaxSource||e.oFeatures.bServerSide?e.oFeatures.bServerSide||(E(e,!1),$(e)):(a=[],ka(e,a),e.fnServerData.call(e.oInstance,e.sAjaxSource,a,function(a){var n=""!==e.sAjaxDataProp?Q(e.sAjaxDataProp)(a):a;for(t=0;t<n.length;t++)H(e,n[t]);e.iInitDisplayStart=i,e.oFeatures.bSort?O(e):(e.aiDisplay=e.aiDisplayMaster.slice(),y(e),x(e)),E(e,!1),$(e,a)},e))}}function $(e,t){e._bInitComplete=!0,A(e,"aoInitComplete","init",[e,t])}function pa(e){var t=j.defaults.oLanguage;!e.sEmptyTable&&e.sZeroRecords&&"No data available in table"===t.sEmptyTable&&p(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&e.sZeroRecords&&"Loading..."===t.sLoadingRecords&&p(e,e,"sZeroRecords","sLoadingRecords")}function ya(e){if(e.oScroll.bInfinite)return null;var t,a,i='<select size="1" '+('name="'+e.sTableId+'_length"')+">",n=e.aLengthMenu;if(2==n.length&&"object"==typeof n[0]&&"object"==typeof n[1])for(t=0,a=n[0].length;a>t;t++)i+='<option value="'+n[0][t]+'">'+n[1][t]+"</option>";else for(t=0,a=n.length;a>t;t++)i+='<option value="'+n[t]+'">'+n[t]+"</option>";return i+="</select>",n=l.createElement("div"),e.aanFeatures.l||(n.id=e.sTableId+"_length"),n.className=e.oClasses.sLength,n.innerHTML="<label>"+e.oLanguage.sLengthMenu.replace("_MENU_",i)+"</label>",h('select option[value="'+e._iDisplayLength+'"]',n).attr("selected",!0),h("select",n).bind("change.DT",function(){var i=h(this).val(),n=e.aanFeatures.l;for(t=0,a=n.length;a>t;t++)n[t]!=this.parentNode&&h("select",n[t]).val(i);e._iDisplayLength=parseInt(i,10),y(e),e.fnDisplayEnd()==e.fnRecordsDisplay()&&(e._iDisplayStart=e.fnDisplayEnd()-e._iDisplayLength,e._iDisplayStart<0&&(e._iDisplayStart=0)),-1==e._iDisplayLength&&(e._iDisplayStart=0),x(e)}),h("select",n).attr("aria-controls",e.sTableId),n}function y(e){e._iDisplayEnd=!1===e.oFeatures.bPaginate?e.aiDisplay.length:e._iDisplayStart+e._iDisplayLength>e.aiDisplay.length||-1==e._iDisplayLength?e.aiDisplay.length:e._iDisplayStart+e._iDisplayLength}function Da(e){if(e.oScroll.bInfinite)return null;var t=l.createElement("div");return t.className=e.oClasses.sPaging+e.sPaginationType,j.ext.oPagination[e.sPaginationType].fnInit(e,t,function(e){y(e),x(e)}),e.aanFeatures.p||e.aoDrawCallback.push({fn:function(e){j.ext.oPagination[e.sPaginationType].fnUpdate(e,function(e){y(e),x(e)})},sName:"pagination"}),t}function qa(e,t){var a=e._iDisplayStart;if("number"==typeof t)e._iDisplayStart=t*e._iDisplayLength,e._iDisplayStart>e.fnRecordsDisplay()&&(e._iDisplayStart=0);else if("first"==t)e._iDisplayStart=0;else if("previous"==t)e._iDisplayStart=0<=e._iDisplayLength?e._iDisplayStart-e._iDisplayLength:0,0>e._iDisplayStart&&(e._iDisplayStart=0);else if("next"==t)0<=e._iDisplayLength?e._iDisplayStart+e._iDisplayLength<e.fnRecordsDisplay()&&(e._iDisplayStart+=e._iDisplayLength):e._iDisplayStart=0;else if("last"==t)if(0<=e._iDisplayLength){var i=parseInt((e.fnRecordsDisplay()-1)/e._iDisplayLength,10)+1;e._iDisplayStart=(i-1)*e._iDisplayLength}else e._iDisplayStart=0;else D(e,0,"Unknown paging action: "+t);return h(e.oInstance).trigger("page",e),a!=e._iDisplayStart}function Aa(e){var t=l.createElement("div");return e.aanFeatures.r||(t.id=e.sTableId+"_processing"),t.innerHTML=e.oLanguage.sProcessing,t.className=e.oClasses.sProcessing,e.nTable.parentNode.insertBefore(t,e.nTable),t}function E(e,t){if(e.oFeatures.bProcessing)for(var a=e.aanFeatures.r,i=0,n=a.length;n>i;i++)a[i].style.visibility=t?"visible":"hidden";h(e.oInstance).trigger("processing",[e,t])}function Ba(e){if(""===e.oScroll.sX&&""===e.oScroll.sY)return e.nTable;var t=l.createElement("div"),a=l.createElement("div"),i=l.createElement("div"),n=l.createElement("div"),o=l.createElement("div"),r=l.createElement("div"),s=e.nTable.cloneNode(!1),d=e.nTable.cloneNode(!1),c=e.nTable.getElementsByTagName("thead")[0],u=0===e.nTable.getElementsByTagName("tfoot").length?null:e.nTable.getElementsByTagName("tfoot")[0],p=e.oClasses;return a.appendChild(i),o.appendChild(r),n.appendChild(e.nTable),t.appendChild(a),t.appendChild(n),i.appendChild(s),s.appendChild(c),null!==u&&(t.appendChild(o),r.appendChild(d),d.appendChild(u)),t.className=p.sScrollWrapper,a.className=p.sScrollHead,i.className=p.sScrollHeadInner,n.className=p.sScrollBody,o.className=p.sScrollFoot,r.className=p.sScrollFootInner,e.oScroll.bAutoCss&&(a.style.overflow="hidden",a.style.position="relative",o.style.overflow="hidden",n.style.overflow="auto"),a.style.border="0",a.style.width="100%",o.style.border="0",i.style.width=""!==e.oScroll.sXInner?e.oScroll.sXInner:"100%",s.removeAttribute("id"),s.style.marginLeft="0",e.nTable.style.marginLeft="0",null!==u&&(d.removeAttribute("id"),d.style.marginLeft="0"),i=h(e.nTable).children("caption"),0<i.length&&(i=i[0],"top"===i._captionSide?s.appendChild(i):"bottom"===i._captionSide&&u&&d.appendChild(i)),""!==e.oScroll.sX&&(a.style.width=q(e.oScroll.sX),n.style.width=q(e.oScroll.sX),null!==u&&(o.style.width=q(e.oScroll.sX)),h(n).scroll(function(){a.scrollLeft=this.scrollLeft,null!==u&&(o.scrollLeft=this.scrollLeft)})),""!==e.oScroll.sY&&(n.style.height=q(e.oScroll.sY)),e.aoDrawCallback.push({fn:La,sName:"scrolling"}),e.oScroll.bInfinite&&h(n).scroll(function(){!e.bDrawing&&0!==h(this).scrollTop()&&h(this).scrollTop()+h(this).height()>h(e.nTable).height()-e.oScroll.iLoadGap&&e.fnDisplayEnd()<e.fnRecordsDisplay()&&(qa(e,"next"),y(e),x(e))}),e.nScrollHead=a,e.nScrollFoot=o,t}function La(e){var t,a,i,n,o,r,l,s,d=e.nScrollHead.getElementsByTagName("div")[0],c=d.getElementsByTagName("table")[0],u=e.nTable.parentNode,p=[],m=[],g=null!==e.nTFoot?e.nScrollFoot.getElementsByTagName("div")[0]:null,f=null!==e.nTFoot?g.getElementsByTagName("table")[0]:null,v=e.oBrowser.bScrollOversize,b=function(e){l=e.style,l.paddingTop="0",l.paddingBottom="0",l.borderTopWidth="0",l.borderBottomWidth="0",l.height=0};h(e.nTable).children("thead, tfoot").remove(),t=h(e.nTHead).clone()[0],e.nTable.insertBefore(t,e.nTable.childNodes[0]),i=e.nTHead.getElementsByTagName("tr"),n=t.getElementsByTagName("tr"),null!==e.nTFoot&&(o=h(e.nTFoot).clone()[0],e.nTable.insertBefore(o,e.nTable.childNodes[1]),r=e.nTFoot.getElementsByTagName("tr"),o=o.getElementsByTagName("tr")),""===e.oScroll.sX&&(u.style.width="100%",d.parentNode.style.width="100%");var y=N(e,t);for(t=0,a=y.length;a>t;t++)s=G(e,t),y[t].style.width=e.aoColumns[s].sWidth;null!==e.nTFoot&&C(function(e){e.style.width=""},o),e.oScroll.bCollapse&&""!==e.oScroll.sY&&(u.style.height=u.offsetHeight+e.nTHead.offsetHeight+"px"),t=h(e.nTable).outerWidth(),""===e.oScroll.sX?(e.nTable.style.width="100%",v&&(h("tbody",u).height()>u.offsetHeight||"scroll"==h(u).css("overflow-y"))&&(e.nTable.style.width=q(h(e.nTable).outerWidth()-e.oScroll.iBarWidth))):""!==e.oScroll.sXInner?e.nTable.style.width=q(e.oScroll.sXInner):t==h(u).width()&&h(u).height()<h(e.nTable).height()?(e.nTable.style.width=q(t-e.oScroll.iBarWidth),h(e.nTable).outerWidth()>t-e.oScroll.iBarWidth&&(e.nTable.style.width=q(t))):e.nTable.style.width=q(t),t=h(e.nTable).outerWidth(),C(b,n),C(function(e){p.push(q(h(e).width()))},n),C(function(e,t){e.style.width=p[t]},i),h(n).height(0),null!==e.nTFoot&&(C(b,o),C(function(e){m.push(q(h(e).width()))},o),C(function(e,t){e.style.width=m[t]},r),h(o).height(0)),C(function(e,t){e.innerHTML="",e.style.width=p[t]},n),null!==e.nTFoot&&C(function(e,t){e.innerHTML="",e.style.width=m[t]},o),h(e.nTable).outerWidth()<t?(i=u.scrollHeight>u.offsetHeight||"scroll"==h(u).css("overflow-y")?t+e.oScroll.iBarWidth:t,v&&(u.scrollHeight>u.offsetHeight||"scroll"==h(u).css("overflow-y"))&&(e.nTable.style.width=q(i-e.oScroll.iBarWidth)),u.style.width=q(i),e.nScrollHead.style.width=q(i),null!==e.nTFoot&&(e.nScrollFoot.style.width=q(i)),""===e.oScroll.sX?D(e,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):""!==e.oScroll.sXInner&&D(e,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")):(u.style.width=q("100%"),e.nScrollHead.style.width=q("100%"),null!==e.nTFoot&&(e.nScrollFoot.style.width=q("100%"))),""===e.oScroll.sY&&v&&(u.style.height=q(e.nTable.offsetHeight+e.oScroll.iBarWidth)),""!==e.oScroll.sY&&e.oScroll.bCollapse&&(u.style.height=q(e.oScroll.sY),v=""!==e.oScroll.sX&&e.nTable.offsetWidth>u.offsetWidth?e.oScroll.iBarWidth:0,e.nTable.offsetHeight<u.offsetHeight&&(u.style.height=q(e.nTable.offsetHeight+v))),v=h(e.nTable).outerWidth(),c.style.width=q(v),d.style.width=q(v),c=h(e.nTable).height()>u.clientHeight||"scroll"==h(u).css("overflow-y"),d.style.paddingRight=c?e.oScroll.iBarWidth+"px":"0px",null!==e.nTFoot&&(f.style.width=q(v),g.style.width=q(v),g.style.paddingRight=c?e.oScroll.iBarWidth+"px":"0px"),h(u).scroll(),(e.bSorted||e.bFiltered)&&(u.scrollTop=0)}function C(e,t,a){for(var i,n,o=0,r=0,l=t.length;l>r;){for(i=t[r].firstChild,n=a?a[r].firstChild:null;i;)1===i.nodeType&&(a?e(i,n,o):e(i,o),o++),i=i.nextSibling,n=a?n.nextSibling:null;r++}}function Ma(e,t){if(!e||null===e||""===e)return 0;t||(t=l.body);var a,i=l.createElement("div");return i.style.width=q(e),t.appendChild(i),a=i.offsetWidth,t.removeChild(i),a}function da(e){var t,a,i,n=0,o=0,r=e.aoColumns.length,s=h("th",e.nTHead),d=e.nTable.getAttribute("width");for(i=e.nTable.parentNode,a=0;r>a;a++)e.aoColumns[a].bVisible&&(o++,null!==e.aoColumns[a].sWidth&&(t=Ma(e.aoColumns[a].sWidthOrig,i),null!==t&&(e.aoColumns[a].sWidth=q(t)),n++));if(r==s.length&&0===n&&o==r&&""===e.oScroll.sX&&""===e.oScroll.sY)for(a=0;a<e.aoColumns.length;a++)t=h(s[a]).width(),null!==t&&(e.aoColumns[a].sWidth=q(t));else{for(n=e.nTable.cloneNode(!1),a=e.nTHead.cloneNode(!0),o=l.createElement("tbody"),t=l.createElement("tr"),n.removeAttribute("id"),n.appendChild(a),null!==e.nTFoot&&(n.appendChild(e.nTFoot.cloneNode(!0)),C(function(e){e.style.width=""},n.getElementsByTagName("tr"))),n.appendChild(o),o.appendChild(t),o=h("thead th",n),0===o.length&&(o=h("tbody tr:eq(0)>td",n)),s=N(e,a),a=o=0;r>a;a++){var c=e.aoColumns[a];c.bVisible&&null!==c.sWidthOrig&&""!==c.sWidthOrig?s[a-o].style.width=q(c.sWidthOrig):c.bVisible?s[a-o].style.width="":o++}for(a=0;r>a;a++)e.aoColumns[a].bVisible&&(o=Na(e,a),null!==o&&(o=o.cloneNode(!0),""!==e.aoColumns[a].sContentPadding&&(o.innerHTML+=e.aoColumns[a].sContentPadding),t.appendChild(o)));if(i.appendChild(n),""!==e.oScroll.sX&&""!==e.oScroll.sXInner?n.style.width=q(e.oScroll.sXInner):""!==e.oScroll.sX?(n.style.width="",h(n).width()<i.offsetWidth&&(n.style.width=q(i.offsetWidth))):""!==e.oScroll.sY?n.style.width=q(i.offsetWidth):d&&(n.style.width=q(d)),n.style.visibility="hidden",Oa(e,n),r=h("tbody tr:eq(0)",n).children(),0===r.length&&(r=N(e,h("thead",n)[0])),""!==e.oScroll.sX){for(a=o=i=0;a<e.aoColumns.length;a++)e.aoColumns[a].bVisible&&(i=null===e.aoColumns[a].sWidthOrig?i+h(r[o]).outerWidth():i+(parseInt(e.aoColumns[a].sWidth.replace("px",""),10)+(h(r[o]).outerWidth()-h(r[o]).width())),o++);n.style.width=q(i),e.nTable.style.width=q(i)}for(a=o=0;a<e.aoColumns.length;a++)e.aoColumns[a].bVisible&&(i=h(r[o]).width(),null!==i&&i>0&&(e.aoColumns[a].sWidth=q(i)),o++);r=h(n).css("width"),e.nTable.style.width=-1!==r.indexOf("%")?r:q(h(n).outerWidth()),n.parentNode.removeChild(n)}d&&(e.nTable.style.width=q(d))}function Oa(e,t){""===e.oScroll.sX&&""!==e.oScroll.sY?(h(t).width(),t.style.width=q(h(t).outerWidth()-e.oScroll.iBarWidth)):""!==e.oScroll.sX&&(t.style.width=q(h(t).outerWidth()))}function Na(e,t){var a=Pa(e,t);if(0>a)return null;if(null===e.aoData[a].nTr){var i=l.createElement("td");return i.innerHTML=v(e,a,t,""),i}return J(e,a)[t]}function Pa(e,t){for(var a=-1,i=-1,n=0;n<e.aoData.length;n++){var o=v(e,n,t,"display")+"",o=o.replace(/<.*?>/g,"");o.length>a&&(a=o.length,i=n)}return i}function q(e){if(null===e)return"0px";if("number"==typeof e)return 0>e?"0px":e+"px";var t=e.charCodeAt(e.length-1);return 48>t||t>57?e:e+"px"}function Qa(){var e=l.createElement("p"),t=e.style;t.width="100%",t.height="200px",t.padding="0px";var a=l.createElement("div"),t=a.style;return t.position="absolute",t.top="0px",t.left="0px",t.visibility="hidden",t.width="200px",t.height="150px",t.padding="0px",t.overflow="hidden",a.appendChild(e),l.body.appendChild(a),t=e.offsetWidth,a.style.overflow="scroll",e=e.offsetWidth,t==e&&(e=a.clientWidth),l.body.removeChild(a),t-e
}function O(e,t){var a,i,o,r,l,s,d=[],c=[],u=j.ext.oSort,p=e.aoData,m=e.aoColumns,g=e.oLanguage.oAria;if(!e.oFeatures.bServerSide&&(0!==e.aaSorting.length||null!==e.aaSortingFixed)){for(d=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),a=0;a<d.length;a++)if(i=d[a][0],o=R(e,i),r=e.aoColumns[i].sSortDataType,j.ext.afnSortData[r])if(l=j.ext.afnSortData[r].call(e.oInstance,e,i,o),l.length===p.length)for(o=0,r=p.length;r>o;o++)F(e,o,i,l[o]);else D(e,0,"Returned data sort array (col "+i+") is the wrong length");for(a=0,i=e.aiDisplayMaster.length;i>a;a++)c[e.aiDisplayMaster[a]]=a;var f,b=d.length;for(a=0,i=p.length;i>a;a++)for(o=0;b>o;o++)for(f=m[d[o][0]].aDataSort,l=0,s=f.length;s>l;l++)r=m[f[l]].sType,r=u[(r?r:"string")+"-pre"],p[a]._aSortData[f[l]]=r?r(v(e,a,f[l],"sort")):v(e,a,f[l],"sort");e.aiDisplayMaster.sort(function(e,t){var a,i,n,o,r;for(a=0;b>a;a++)for(r=m[d[a][0]].aDataSort,i=0,n=r.length;n>i;i++)if(o=m[r[i]].sType,o=u[(o?o:"string")+"-"+d[a][1]](p[e]._aSortData[r[i]],p[t]._aSortData[r[i]]),0!==o)return o;return u["numeric-asc"](c[e],c[t])})}for((t===n||t)&&!e.oFeatures.bDeferRender&&P(e),a=0,i=e.aoColumns.length;i>a;a++)r=m[a].sTitle.replace(/<.*?>/g,""),o=m[a].nTh,o.removeAttribute("aria-sort"),o.removeAttribute("aria-label"),m[a].bSortable?0<d.length&&d[0][0]==a?(o.setAttribute("aria-sort","asc"==d[0][1]?"ascending":"descending"),o.setAttribute("aria-label",r+("asc"==(m[a].asSorting[d[0][2]+1]?m[a].asSorting[d[0][2]+1]:m[a].asSorting[0])?g.sSortAscending:g.sSortDescending))):o.setAttribute("aria-label",r+("asc"==m[a].asSorting[0]?g.sSortAscending:g.sSortDescending)):o.setAttribute("aria-label",r);e.bSorted=!0,h(e.oInstance).trigger("sort",e),e.oFeatures.bFilter?K(e,e.oPreviousSearch,1):(e.aiDisplay=e.aiDisplayMaster.slice(),e._iDisplayStart=0,y(e),x(e))}function ia(e,t,a,i){Ra(t,{},function(t){if(!1!==e.aoColumns[a].bSortable){var n=function(){var i,n;if(t.shiftKey){for(var o=!1,r=0;r<e.aaSorting.length;r++)if(e.aaSorting[r][0]==a){o=!0,i=e.aaSorting[r][0],n=e.aaSorting[r][2]+1,e.aoColumns[i].asSorting[n]?(e.aaSorting[r][1]=e.aoColumns[i].asSorting[n],e.aaSorting[r][2]=n):e.aaSorting.splice(r,1);break}!1===o&&e.aaSorting.push([a,e.aoColumns[a].asSorting[0],0])}else 1==e.aaSorting.length&&e.aaSorting[0][0]==a?(i=e.aaSorting[0][0],n=e.aaSorting[0][2]+1,e.aoColumns[i].asSorting[n]||(n=0),e.aaSorting[0][1]=e.aoColumns[i].asSorting[n],e.aaSorting[0][2]=n):(e.aaSorting.splice(0,e.aaSorting.length),e.aaSorting.push([a,e.aoColumns[a].asSorting[0],0]));O(e)};e.oFeatures.bProcessing?(E(e,!0),setTimeout(function(){n(),e.oFeatures.bServerSide||E(e,!1)},0)):n(),"function"==typeof i&&i(e)}})}function P(e){var t,a,i,n,o,r=e.aoColumns.length,l=e.oClasses;for(t=0;r>t;t++)e.aoColumns[t].bSortable&&h(e.aoColumns[t].nTh).removeClass(l.sSortAsc+" "+l.sSortDesc+" "+e.aoColumns[t].sSortingClass);for(a=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),t=0;t<e.aoColumns.length;t++)if(e.aoColumns[t].bSortable){for(o=e.aoColumns[t].sSortingClass,n=-1,i=0;i<a.length;i++)if(a[i][0]==t){o="asc"==a[i][1]?l.sSortAsc:l.sSortDesc,n=i;break}h(e.aoColumns[t].nTh).addClass(o),e.bJUI&&(o=h("span."+l.sSortIcon,e.aoColumns[t].nTh),o.removeClass(l.sSortJUIAsc+" "+l.sSortJUIDesc+" "+l.sSortJUI+" "+l.sSortJUIAscAllowed+" "+l.sSortJUIDescAllowed),o.addClass(-1==n?e.aoColumns[t].sSortingClassJUI:"asc"==a[n][1]?l.sSortJUIAsc:l.sSortJUIDesc))}else h(e.aoColumns[t].nTh).addClass(e.aoColumns[t].sSortingClass);if(o=l.sSortColumn,e.oFeatures.bSort&&e.oFeatures.bSortClasses){for(e=J(e),n=[],t=0;r>t;t++)n.push("");for(t=0,i=1;t<a.length;t++)l=parseInt(a[t][0],10),n[l]=o+i,3>i&&i++;o=RegExp(o+"[123]");var s;for(t=0,a=e.length;a>t;t++)l=t%r,i=e[t].className,s=n[l],l=i.replace(o,s),l!=i?e[t].className=h.trim(l):0<s.length&&-1==i.indexOf(s)&&(e[t].className=i+" "+s)}}function ra(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var t,a;t=e.oScroll.bInfinite;var i={iCreate:(new Date).getTime(),iStart:t?0:e._iDisplayStart,iEnd:t?e._iDisplayLength:e._iDisplayEnd,iLength:e._iDisplayLength,aaSorting:h.extend(!0,[],e.aaSorting),oSearch:h.extend(!0,{},e.oPreviousSearch),aoSearchCols:h.extend(!0,[],e.aoPreSearchCols),abVisCols:[]};for(t=0,a=e.aoColumns.length;a>t;t++)i.abVisCols.push(e.aoColumns[t].bVisible);A(e,"aoStateSaveParams","stateSaveParams",[e,i]),e.fnStateSave.call(e.oInstance,e,i)}}function Sa(e,t){if(e.oFeatures.bStateSave){var a=e.fnStateLoad.call(e.oInstance,e);if(a){var i=A(e,"aoStateLoadParams","stateLoadParams",[e,a]);if(-1===h.inArray(!1,i)){for(e.oLoadedState=h.extend(!0,{},a),e._iDisplayStart=a.iStart,e.iInitDisplayStart=a.iStart,e._iDisplayEnd=a.iEnd,e._iDisplayLength=a.iLength,e.aaSorting=a.aaSorting.slice(),e.saved_aaSorting=a.aaSorting.slice(),h.extend(e.oPreviousSearch,a.oSearch),h.extend(!0,e.aoPreSearchCols,a.aoSearchCols),t.saved_aoColumns=[],i=0;i<a.abVisCols.length;i++)t.saved_aoColumns[i]={},t.saved_aoColumns[i].bVisible=a.abVisCols[i];A(e,"aoStateLoaded","stateLoaded",[e,a])}}}}function s(e){for(var t=0;t<j.settings.length;t++)if(j.settings[t].nTable===e)return j.settings[t];return null}function T(e){for(var t=[],e=e.aoData,a=0,i=e.length;i>a;a++)null!==e[a].nTr&&t.push(e[a].nTr);return t}function J(e,t){var a,i,o,r,l,s,d=[];i=0;var c=e.aoData.length;for(t!==n&&(i=t,c=t+1),o=i;c>o;o++)if(s=e.aoData[o],null!==s.nTr){for(i=[],a=s.nTr.firstChild;a;)r=a.nodeName.toLowerCase(),("td"==r||"th"==r)&&i.push(a),a=a.nextSibling;for(r=a=0,l=e.aoColumns.length;l>r;r++)e.aoColumns[r].bVisible?d.push(i[r-a]):(d.push(s._anHidden[r]),a++)}return d}function D(e,t,a){if(e=null===e?"DataTables warning: "+a:"DataTables warning (table id = '"+e.sTableId+"'): "+a,0===t){if("alert"!=j.ext.sErrMode)throw Error(e);alert(e)}else X.console&&console.log&&console.log(e)}function p(e,t,a,i){i===n&&(i=a),t[a]!==n&&(e[i]=t[a])}function Ta(t,a){var i,n;for(n in a)a.hasOwnProperty(n)&&(i=a[n],"object"==typeof e[n]&&null!==i&&!1===h.isArray(i)?h.extend(!0,t[n],i):t[n]=i);return t}function Ra(e,t,a){h(e).bind("click.DT",t,function(t){e.blur(),a(t)}).bind("keypress.DT",t,function(e){13===e.which&&a(e)}).bind("selectstart.DT",function(){return!1})}function z(e,t,a,i){a&&e[t].push({fn:a,sName:i})}function A(e,t,a,i){for(var t=e[t],n=[],o=t.length-1;o>=0;o--)n.push(t[o].fn.apply(e.oInstance,i));return null!==a&&h(e.oInstance).trigger(a,i),n}function Ua(e){var t=h('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden"><div style="position:absolute; top:1px; left:1px; width:100px; overflow:scroll;"><div id="DT_BrowserTest" style="width:100%; height:10px;"></div></div></div>')[0];l.body.appendChild(t),e.oBrowser.bScrollOversize=100===h("#DT_BrowserTest",t)[0].offsetWidth?!0:!1,l.body.removeChild(t)}function Va(e){return function(){var t=[s(this[j.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return j.ext.oApi[e].apply(this,t)}}var U=/\[.*?\]$/,Wa=X.JSON?JSON.stringify:function(e){var t=typeof e;if("object"!==t||null===e)return"string"===t&&(e='"'+e+'"'),e+"";var a,i,n=[],o=h.isArray(e);for(a in e)i=e[a],t=typeof i,"string"===t?i='"'+i+'"':"object"===t&&null!==i&&(i=Wa(i)),n.push((o?"":'"'+a+'":')+i);return(o?"[":"{")+n+(o?"]":"}")};this.$=function(e,t){var a,i,n,o=[];i=s(this[j.ext.iApiIndex]);var r=i.aoData,l=i.aiDisplay,d=i.aiDisplayMaster;if(t||(t={}),t=h.extend({},{filter:"none",order:"current",page:"all"},t),"current"==t.page)for(a=i._iDisplayStart,i=i.fnDisplayEnd();i>a;a++)(n=r[l[a]].nTr)&&o.push(n);else if("current"==t.order&&"none"==t.filter)for(a=0,i=d.length;i>a;a++)(n=r[d[a]].nTr)&&o.push(n);else if("current"==t.order&&"applied"==t.filter)for(a=0,i=l.length;i>a;a++)(n=r[l[a]].nTr)&&o.push(n);else if("original"==t.order&&"none"==t.filter)for(a=0,i=r.length;i>a;a++)(n=r[a].nTr)&&o.push(n);else if("original"==t.order&&"applied"==t.filter)for(a=0,i=r.length;i>a;a++)n=r[a].nTr,-1!==h.inArray(a,l)&&n&&o.push(n);else D(i,1,"Unknown selection options");return o=h(o),a=o.filter(e),o=o.find(e),h([].concat(h.makeArray(a),h.makeArray(o)))},this._=function(e,t){var a,i,n=[],o=this.$(e,t);for(a=0,i=o.length;i>a;a++)n.push(this.fnGetData(o[a]));return n},this.fnAddData=function(e,t){if(0===e.length)return[];var a,i=[],o=s(this[j.ext.iApiIndex]);if("object"==typeof e[0]&&null!==e[0])for(var r=0;r<e.length;r++){if(a=H(o,e[r]),-1==a)return i;i.push(a)}else{if(a=H(o,e),-1==a)return i;i.push(a)}return o.aiDisplay=o.aiDisplayMaster.slice(),(t===n||t)&&aa(o),i},this.fnAdjustColumnSizing=function(e){var t=s(this[j.ext.iApiIndex]);k(t),e===n||e?this.fnDraw(!1):(""!==t.oScroll.sX||""!==t.oScroll.sY)&&this.oApi._fnScrollDraw(t)},this.fnClearTable=function(e){var t=s(this[j.ext.iApiIndex]);ga(t),(e===n||e)&&x(t)},this.fnClose=function(e){for(var t=s(this[j.ext.iApiIndex]),a=0;a<t.aoOpenRows.length;a++)if(t.aoOpenRows[a].nParent==e)return(e=t.aoOpenRows[a].nTr.parentNode)&&e.removeChild(t.aoOpenRows[a].nTr),t.aoOpenRows.splice(a,1),0;return 1},this.fnDeleteRow=function(e,t,a){var i,o,r=s(this[j.ext.iApiIndex]),e="object"==typeof e?I(r,e):e,l=r.aoData.splice(e,1);for(i=0,o=r.aoData.length;o>i;i++)null!==r.aoData[i].nTr&&(r.aoData[i].nTr._DT_RowIndex=i);return i=h.inArray(e,r.aiDisplay),r.asDataSearch.splice(i,1),ha(r.aiDisplayMaster,e),ha(r.aiDisplay,e),"function"==typeof t&&t.call(this,r,l),r._iDisplayStart>=r.fnRecordsDisplay()&&(r._iDisplayStart-=r._iDisplayLength,0>r._iDisplayStart&&(r._iDisplayStart=0)),(a===n||a)&&(y(r),x(r)),l},this.fnDestroy=function(t){var a,i,o=s(this[j.ext.iApiIndex]),r=o.nTableWrapper.parentNode,l=o.nTBody,t=t===n?!1:t;if(o.bDestroying=!0,A(o,"aoDestroyCallback","destroy",[o]),!t)for(a=0,i=o.aoColumns.length;i>a;a++)!1===o.aoColumns[a].bVisible&&this.fnSetColumnVis(a,!0);for(h(o.nTableWrapper).find("*").andSelf().unbind(".DT"),h("tbody>tr>td."+o.oClasses.sRowEmpty,o.nTable).parent().remove(),o.nTable!=o.nTHead.parentNode&&(h(o.nTable).children("thead").remove(),o.nTable.appendChild(o.nTHead)),o.nTFoot&&o.nTable!=o.nTFoot.parentNode&&(h(o.nTable).children("tfoot").remove(),o.nTable.appendChild(o.nTFoot)),o.nTable.parentNode.removeChild(o.nTable),h(o.nTableWrapper).remove(),o.aaSorting=[],o.aaSortingFixed=[],P(o),h(T(o)).removeClass(o.asStripeClasses.join(" ")),h("th, td",o.nTHead).removeClass([o.oClasses.sSortable,o.oClasses.sSortableAsc,o.oClasses.sSortableDesc,o.oClasses.sSortableNone].join(" ")),o.bJUI&&(h("th span."+o.oClasses.sSortIcon+", td span."+o.oClasses.sSortIcon,o.nTHead).remove(),h("th, td",o.nTHead).each(function(){var e=h("div."+o.oClasses.sSortJUIWrapper,this),t=e.contents();h(this).append(t),e.remove()})),!t&&o.nTableReinsertBefore?r.insertBefore(o.nTable,o.nTableReinsertBefore):t||r.appendChild(o.nTable),a=0,i=o.aoData.length;i>a;a++)null!==o.aoData[a].nTr&&l.appendChild(o.aoData[a].nTr);if(!0===o.oFeatures.bAutoWidth&&(o.nTable.style.width=q(o.sDestroyWidth)),i=o.asDestroyStripes.length)for(t=h(l).children("tr"),a=0;i>a;a++)t.filter(":nth-child("+i+"n + "+a+")").addClass(o.asDestroyStripes[a]);for(a=0,i=j.settings.length;i>a;a++)j.settings[a]==o&&j.settings.splice(a,1);e=o=null},this.fnDraw=function(e){var t=s(this[j.ext.iApiIndex]);!1===e?(y(t),x(t)):aa(t)},this.fnFilter=function(e,t,a,i,o,r){var d=s(this[j.ext.iApiIndex]);if(d.oFeatures.bFilter)if((a===n||null===a)&&(a=!1),(i===n||null===i)&&(i=!0),(o===n||null===o)&&(o=!0),(r===n||null===r)&&(r=!0),t===n||null===t){if(K(d,{sSearch:e+"",bRegex:a,bSmart:i,bCaseInsensitive:r},1),o&&d.aanFeatures.f)for(t=d.aanFeatures.f,a=0,i=t.length;i>a;a++)try{t[a]._DT_Input!=l.activeElement&&h(t[a]._DT_Input).val(e)}catch(c){h(t[a]._DT_Input).val(e)}}else h.extend(d.aoPreSearchCols[t],{sSearch:e+"",bRegex:a,bSmart:i,bCaseInsensitive:r}),K(d,d.oPreviousSearch,1)},this.fnGetData=function(e,t){var a=s(this[j.ext.iApiIndex]);if(e!==n){var i=e;if("object"==typeof e){var o=e.nodeName.toLowerCase();"tr"===o?i=I(a,e):"td"===o&&(i=I(a,e.parentNode),t=fa(a,i,e))}return t!==n?v(a,i,t,""):a.aoData[i]!==n?a.aoData[i]._aData:null}return Z(a)},this.fnGetNodes=function(e){var t=s(this[j.ext.iApiIndex]);return e!==n?t.aoData[e]!==n?t.aoData[e].nTr:null:T(t)},this.fnGetPosition=function(e){var t=s(this[j.ext.iApiIndex]),a=e.nodeName.toUpperCase();return"TR"==a?I(t,e):"TD"==a||"TH"==a?(a=I(t,e.parentNode),e=fa(t,a,e),[a,R(t,e),e]):null},this.fnIsOpen=function(e){for(var t=s(this[j.ext.iApiIndex]),a=0;a<t.aoOpenRows.length;a++)if(t.aoOpenRows[a].nParent==e)return!0;return!1},this.fnOpen=function(e,a,i){var n=s(this[j.ext.iApiIndex]),o=T(n);if(-1!==h.inArray(e,o)){this.fnClose(e);var o=l.createElement("tr"),r=l.createElement("td");return o.appendChild(r),r.className=i,r.colSpan=t(n),"string"==typeof a?r.innerHTML=a:h(r).html(a),a=h("tr",n.nTBody),-1!=h.inArray(e,a)&&h(o).insertAfter(e),n.aoOpenRows.push({nTr:o,nParent:e}),o}},this.fnPageChange=function(e,t){var a=s(this[j.ext.iApiIndex]);qa(a,e),y(a),(t===n||t)&&x(a)},this.fnSetColumnVis=function(e,a,i){var o,r,l,d,c=s(this[j.ext.iApiIndex]),u=c.aoColumns,p=c.aoData;if(u[e].bVisible!=a){if(a){for(o=r=0;e>o;o++)u[o].bVisible&&r++;if(d=r>=t(c),!d)for(o=e;o<u.length;o++)if(u[o].bVisible){l=o;break}for(o=0,r=p.length;r>o;o++)null!==p[o].nTr&&(d?p[o].nTr.appendChild(p[o]._anHidden[e]):p[o].nTr.insertBefore(p[o]._anHidden[e],J(c,o)[l]))}else for(o=0,r=p.length;r>o;o++)null!==p[o].nTr&&(l=J(c,o)[e],p[o]._anHidden[e]=l,l.parentNode.removeChild(l));for(u[e].bVisible=a,W(c,c.aoHeader),c.nTFoot&&W(c,c.aoFooter),o=0,r=c.aoOpenRows.length;r>o;o++)c.aoOpenRows[o].nTr.colSpan=t(c);(i===n||i)&&(k(c),x(c)),ra(c)}},this.fnSettings=function(){return s(this[j.ext.iApiIndex])},this.fnSort=function(e){var t=s(this[j.ext.iApiIndex]);t.aaSorting=e,O(t)},this.fnSortListener=function(e,t,a){ia(s(this[j.ext.iApiIndex]),e,t,a)},this.fnUpdate=function(e,t,a,i,o){var l=s(this[j.ext.iApiIndex]),t="object"==typeof t?I(l,t):t;if(h.isArray(e)&&a===n)for(l.aoData[t]._aData=e.slice(),a=0;a<l.aoColumns.length;a++)this.fnUpdate(v(l,t,a),t,a,!1,!1);else if(h.isPlainObject(e)&&a===n)for(l.aoData[t]._aData=h.extend(!0,{},e),a=0;a<l.aoColumns.length;a++)this.fnUpdate(v(l,t,a),t,a,!1,!1);else{F(l,t,a,e);var e=v(l,t,a,"display"),d=l.aoColumns[a];null!==d.fnRender&&(e=S(l,t,a),d.bUseRendered&&F(l,t,a,e)),null!==l.aoData[t].nTr&&(J(l,t)[a].innerHTML=e)}return a=h.inArray(t,l.aiDisplay),l.asDataSearch[a]=na(l,Y(l,t,"filter",r(l,"bSearchable"))),(o===n||o)&&k(l),(i===n||i)&&aa(l),0},this.fnVersionCheck=j.ext.fnVersionCheck,this.oApi={_fnExternApiFunc:Va,_fnInitialise:ba,_fnInitComplete:$,_fnLanguageCompat:pa,_fnAddColumn:o,_fnColumnOptions:m,_fnAddData:H,_fnCreateTr:ea,_fnGatherData:ua,_fnBuildHead:va,_fnDrawHead:W,_fnDraw:x,_fnReDraw:aa,_fnAjaxUpdate:wa,_fnAjaxParameters:Ea,_fnAjaxUpdateDraw:Fa,_fnServerParams:ka,_fnAddOptionsHtml:xa,_fnFeatureHtmlTable:Ba,_fnScrollDraw:La,_fnAdjustColumnSizing:k,_fnFeatureHtmlFilter:za,_fnFilterComplete:K,_fnFilterCustom:Ia,_fnFilterColumn:Ha,_fnFilter:Ga,_fnBuildSearchArray:la,_fnBuildSearchRow:na,_fnFilterCreateSearch:ma,_fnDataToSearch:Ja,_fnSort:O,_fnSortAttachListener:ia,_fnSortingClasses:P,_fnFeatureHtmlPaginate:Da,_fnPageChange:qa,_fnFeatureHtmlInfo:Ca,_fnUpdateInfo:Ka,_fnFeatureHtmlLength:ya,_fnFeatureHtmlProcessing:Aa,_fnProcessingDisplay:E,_fnVisibleToColumnIndex:G,_fnColumnIndexToVisible:R,_fnNodeToDataIndex:I,_fnVisbleColumns:t,_fnCalculateEnd:y,_fnConvertToWidth:Ma,_fnCalculateColumnWidths:da,_fnScrollingWidthAdjust:Oa,_fnGetWidestNode:Na,_fnGetMaxLenString:Pa,_fnStringToCss:q,_fnDetectType:B,_fnSettingsFromNode:s,_fnGetDataMaster:Z,_fnGetTrNodes:T,_fnGetTdNodes:J,_fnEscapeRegex:oa,_fnDeleteIndex:ha,_fnReOrderIndex:u,_fnColumnOrdering:M,_fnLog:D,_fnClearTable:ga,_fnSaveState:ra,_fnLoadState:Sa,_fnCreateCookie:function(a,b,c,d,e){var f=new Date;f.setTime(f.getTime()+1e3*c);var c=X.location.pathname.split("/"),a=a+"_"+c.pop().replace(/[\/:]/g,"").toLowerCase(),g;if(null!==e?(g="function"==typeof h.parseJSON?h.parseJSON(b):eval("("+b+")"),b=e(a,g,f.toGMTString(),c.join("/")+"/")):b=a+"="+encodeURIComponent(b)+"; expires="+f.toGMTString()+"; path="+c.join("/")+"/",a=l.cookie.split(";"),e=b.split(";")[0].length,f=[],4096<e+l.cookie.length+10){for(var j=0,o=a.length;o>j;j++)if(-1!=a[j].indexOf(d)){var k=a[j].split("=");try{(g=eval("("+decodeURIComponent(k[1])+")"))&&g.iCreate&&f.push({name:k[0],time:g.iCreate})}catch(m){}}for(f.sort(function(e,t){return t.time-e.time});4096<e+l.cookie.length+10;){if(0===f.length)return;d=f.pop(),l.cookie=d.name+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+c.join("/")+"/"}}l.cookie=b},_fnReadCookie:function(e){for(var t=X.location.pathname.split("/"),e=e+"_"+t[t.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",t=l.cookie.split(";"),a=0;a<t.length;a++){for(var i=t[a];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e))return decodeURIComponent(i.substring(e.length,i.length))}return null},_fnDetectHeader:V,_fnGetUniqueThs:N,_fnScrollBarWidth:Qa,_fnApplyToChildren:C,_fnMap:p,_fnGetRowData:Y,_fnGetCellData:v,_fnSetCellData:F,_fnGetObjectDataFn:Q,_fnSetObjectDataFn:L,_fnApplyColumnDefs:ta,_fnBindAction:Ra,_fnExtend:Ta,_fnCallbackReg:z,_fnCallbackFire:A,_fnJsonString:Wa,_fnRender:S,_fnNodeToColumnIndex:fa,_fnInfoMacros:ja,_fnBrowserDetect:Ua,_fnGetColumns:r},h.extend(j.ext.oApi,this.oApi);for(var sa in j.ext.oApi)sa&&(this[sa]=Va(sa));var ca=this;return this.each(function(){var t,a,i,r=0;a=this.getAttribute("id");var s=!1,d=!1;if("table"!=this.nodeName.toLowerCase())D(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);else{for(r=0,t=j.settings.length;t>r;r++){if(j.settings[r].nTable==this){if(e===n||e.bRetrieve)return j.settings[r].oInstance;if(e.bDestroy){j.settings[r].oInstance.fnDestroy();break}return void D(j.settings[r],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy")}if(j.settings[r].sTableId==this.id){j.settings.splice(r,1);break}}(null===a||""===a)&&(this.id=a="DataTables_Table_"+j.ext._oExternConfig.iNextUnique++);var c=h.extend(!0,{},j.models.oSettings,{nTable:this,oApi:ca.oApi,oInit:e,sDestroyWidth:h(this).width(),sInstance:a,sTableId:a});if(j.settings.push(c),c.oInstance=1===ca.length?ca:h(this).dataTable(),e||(e={}),e.oLanguage&&pa(e.oLanguage),e=Ta(h.extend(!0,{},j.defaults),e),p(c.oFeatures,e,"bPaginate"),p(c.oFeatures,e,"bLengthChange"),p(c.oFeatures,e,"bFilter"),p(c.oFeatures,e,"bSort"),p(c.oFeatures,e,"bInfo"),p(c.oFeatures,e,"bProcessing"),p(c.oFeatures,e,"bAutoWidth"),p(c.oFeatures,e,"bSortClasses"),p(c.oFeatures,e,"bServerSide"),p(c.oFeatures,e,"bDeferRender"),p(c.oScroll,e,"sScrollX","sX"),p(c.oScroll,e,"sScrollXInner","sXInner"),p(c.oScroll,e,"sScrollY","sY"),p(c.oScroll,e,"bScrollCollapse","bCollapse"),p(c.oScroll,e,"bScrollInfinite","bInfinite"),p(c.oScroll,e,"iScrollLoadGap","iLoadGap"),p(c.oScroll,e,"bScrollAutoCss","bAutoCss"),p(c,e,"asStripeClasses"),p(c,e,"asStripClasses","asStripeClasses"),p(c,e,"fnServerData"),p(c,e,"fnFormatNumber"),p(c,e,"sServerMethod"),p(c,e,"aaSorting"),p(c,e,"aaSortingFixed"),p(c,e,"aLengthMenu"),p(c,e,"sPaginationType"),p(c,e,"sAjaxSource"),p(c,e,"sAjaxDataProp"),p(c,e,"iCookieDuration"),p(c,e,"sCookiePrefix"),p(c,e,"sDom"),p(c,e,"bSortCellsTop"),p(c,e,"iTabIndex"),p(c,e,"oSearch","oPreviousSearch"),p(c,e,"aoSearchCols","aoPreSearchCols"),p(c,e,"iDisplayLength","_iDisplayLength"),p(c,e,"bJQueryUI","bJUI"),p(c,e,"fnCookieCallback"),p(c,e,"fnStateLoad"),p(c,e,"fnStateSave"),p(c.oLanguage,e,"fnInfoCallback"),z(c,"aoDrawCallback",e.fnDrawCallback,"user"),z(c,"aoServerParams",e.fnServerParams,"user"),z(c,"aoStateSaveParams",e.fnStateSaveParams,"user"),z(c,"aoStateLoadParams",e.fnStateLoadParams,"user"),z(c,"aoStateLoaded",e.fnStateLoaded,"user"),z(c,"aoRowCallback",e.fnRowCallback,"user"),z(c,"aoRowCreatedCallback",e.fnCreatedRow,"user"),z(c,"aoHeaderCallback",e.fnHeaderCallback,"user"),z(c,"aoFooterCallback",e.fnFooterCallback,"user"),z(c,"aoInitComplete",e.fnInitComplete,"user"),z(c,"aoPreDrawCallback",e.fnPreDrawCallback,"user"),c.oFeatures.bServerSide&&c.oFeatures.bSort&&c.oFeatures.bSortClasses?z(c,"aoDrawCallback",P,"server_side_sort_classes"):c.oFeatures.bDeferRender&&z(c,"aoDrawCallback",P,"defer_sort_classes"),e.bJQueryUI?(h.extend(c.oClasses,j.ext.oJUIClasses),e.sDom===j.defaults.sDom&&"lfrtip"===j.defaults.sDom&&(c.sDom='<"H"lfr>t<"F"ip>')):h.extend(c.oClasses,j.ext.oStdClasses),h(this).addClass(c.oClasses.sTable),(""!==c.oScroll.sX||""!==c.oScroll.sY)&&(c.oScroll.iBarWidth=Qa()),c.iInitDisplayStart===n&&(c.iInitDisplayStart=e.iDisplayStart,c._iDisplayStart=e.iDisplayStart),e.bStateSave&&(c.oFeatures.bStateSave=!0,Sa(c,e),z(c,"aoDrawCallback",ra,"state_save")),null!==e.iDeferLoading&&(c.bDeferLoading=!0,r=h.isArray(e.iDeferLoading),c._iRecordsDisplay=r?e.iDeferLoading[0]:e.iDeferLoading,c._iRecordsTotal=r?e.iDeferLoading[1]:e.iDeferLoading),null!==e.aaData&&(d=!0),""!==e.oLanguage.sUrl?(c.oLanguage.sUrl=e.oLanguage.sUrl,h.getJSON(c.oLanguage.sUrl,null,function(t){pa(t),h.extend(!0,c.oLanguage,e.oLanguage,t),ba(c)}),s=!0):h.extend(!0,c.oLanguage,e.oLanguage),null===e.asStripeClasses&&(c.asStripeClasses=[c.oClasses.sStripeOdd,c.oClasses.sStripeEven]),t=c.asStripeClasses.length,c.asDestroyStripes=[],t){for(a=!1,i=h(this).children("tbody").children("tr:lt("+t+")"),r=0;t>r;r++)i.hasClass(c.asStripeClasses[r])&&(a=!0,c.asDestroyStripes.push(c.asStripeClasses[r]));a&&i.removeClass(c.asStripeClasses.join(" "))}if(a=[],r=this.getElementsByTagName("thead"),0!==r.length&&(V(c.aoHeader,r[0]),a=N(c)),null===e.aoColumns)for(i=[],r=0,t=a.length;t>r;r++)i.push(null);else i=e.aoColumns;for(r=0,t=i.length;t>r;r++)e.saved_aoColumns!==n&&e.saved_aoColumns.length==t&&(null===i[r]&&(i[r]={}),i[r].bVisible=e.saved_aoColumns[r].bVisible),o(c,a?a[r]:null);for(ta(c,e.aoColumnDefs,i,function(e,t){m(c,e,t)}),r=0,t=c.aaSorting.length;t>r;r++){c.aaSorting[r][0]>=c.aoColumns.length&&(c.aaSorting[r][0]=0);var u=c.aoColumns[c.aaSorting[r][0]];for(c.aaSorting[r][2]===n&&(c.aaSorting[r][2]=0),e.aaSorting===n&&c.saved_aaSorting===n&&(c.aaSorting[r][1]=u.asSorting[0]),a=0,i=u.asSorting.length;i>a;a++)if(c.aaSorting[r][1]==u.asSorting[a]){c.aaSorting[r][2]=a;break}}if(P(c),Ua(c),r=h(this).children("caption").each(function(){this._captionSide=h(this).css("caption-side")}),t=h(this).children("thead"),0===t.length&&(t=[l.createElement("thead")],this.appendChild(t[0])),c.nTHead=t[0],t=h(this).children("tbody"),0===t.length&&(t=[l.createElement("tbody")],this.appendChild(t[0])),c.nTBody=t[0],c.nTBody.setAttribute("role","alert"),c.nTBody.setAttribute("aria-live","polite"),c.nTBody.setAttribute("aria-relevant","all"),t=h(this).children("tfoot"),0===t.length&&0<r.length&&(""!==c.oScroll.sX||""!==c.oScroll.sY)&&(t=[l.createElement("tfoot")],this.appendChild(t[0])),0<t.length&&(c.nTFoot=t[0],V(c.aoFooter,c.nTFoot)),d)for(r=0;r<e.aaData.length;r++)H(c,e.aaData[r]);else ua(c);c.aiDisplay=c.aiDisplayMaster.slice(),c.bInitialised=!0,!1===s&&ba(c)}}),ca=null,this};j.fnVersionCheck=function(e){for(var t=function(e,t){for(;e.length<t;)e+="0";return e},a=j.ext.sVersion.split("."),e=e.split("."),i="",n="",o=0,r=e.length;r>o;o++)i+=t(a[o],3),n+=t(e[o],3);return parseInt(i,10)>=parseInt(n,10)},j.fnIsDataTable=function(e){for(var t=j.settings,a=0;a<t.length;a++)if(t[a].nTable===e||t[a].nScrollHead===e||t[a].nScrollFoot===e)return!0;return!1},j.fnTables=function(e){var t=[];return jQuery.each(j.settings,function(a,i){(!e||!0===e&&h(i.nTable).is(":visible"))&&t.push(i.nTable)}),t},j.version="1.9.4",j.settings=[],j.models={},j.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:j.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:j.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}},j.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},j.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""},j.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},j.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){if(1e3>e)return e;for(var t=e+"",e=t.split(""),a="",t=t.length,i=0;t>i;i++)0===i%3&&0!==i&&(a=this.oLanguage.sInfoThousands+a),a=e[t-i-1]+a;return a},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(e,t,a,i){i.jqXHR=h.ajax({url:e,data:t,success:function(e){e.sError&&i.oApi._fnLog(i,0,e.sError),h(i.oInstance).trigger("xhr",[i,e]),a(e)},dataType:"json",cache:!1,type:i.sServerMethod,error:function(e,t){"parsererror"==t&&i.oApi._fnLog(i,0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(e){var e=this.oApi._fnReadCookie(e.sCookiePrefix+e.sInstance),j;try{j="function"==typeof h.parseJSON?h.parseJSON(e):eval("("+e+")")}catch(m){j=null}return j},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(e,t){this.oApi._fnCreateCookie(e.sCookiePrefix+e.sInstance,this.oApi._fnJsonString(t),e.iCookieDuration,e.sCookiePrefix,e.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:h.extend({},j.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"},j.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},j.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?!1===this.oFeatures.bPaginate||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null},j.ext=h.extend(!0,{},j.models.ext),h.extend(j.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"",sJUIHeader:"",sJUIFooter:""}),h.extend(j.ext.oJUIClasses,j.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}),h.extend(j.ext.oPagination,{two_button:{fnInit:function(e,t,a){var i=e.oLanguage.oPaginate,n=function(t){e.oApi._fnPageChange(e,t.data.action)&&a(e)},i=e.bJUI?'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUIPrev+'"></span></a><a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUINext+'"></span></a>':'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+i.sPrevious+'</a><a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+i.sNext+"</a>";
h(t).append(i);var o=h("a",t),i=o[0],o=o[1];e.oApi._fnBindAction(i,{action:"previous"},n),e.oApi._fnBindAction(o,{action:"next"},n),e.aanFeatures.p||(t.id=e.sTableId+"_paginate",i.id=e.sTableId+"_previous",o.id=e.sTableId+"_next",i.setAttribute("aria-controls",e.sTableId),o.setAttribute("aria-controls",e.sTableId))},fnUpdate:function(e){if(e.aanFeatures.p)for(var t,a=e.oClasses,i=e.aanFeatures.p,n=0,o=i.length;o>n;n++)(t=i[n].firstChild)&&(t.className=0===e._iDisplayStart?a.sPagePrevDisabled:a.sPagePrevEnabled,t=t.nextSibling,t.className=e.fnDisplayEnd()==e.fnRecordsDisplay()?a.sPageNextDisabled:a.sPageNextEnabled)}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(e,t,a){var i=e.oLanguage.oPaginate,n=e.oClasses,o=function(t){e.oApi._fnPageChange(e,t.data.action)&&a(e)};h(t).append('<a  tabindex="'+e.iTabIndex+'" class="'+n.sPageButton+" "+n.sPageFirst+'">'+i.sFirst+'</a><a  tabindex="'+e.iTabIndex+'" class="'+n.sPageButton+" "+n.sPagePrevious+'">'+i.sPrevious+'</a><span></span><a tabindex="'+e.iTabIndex+'" class="'+n.sPageButton+" "+n.sPageNext+'">'+i.sNext+'</a><a tabindex="'+e.iTabIndex+'" class="'+n.sPageButton+" "+n.sPageLast+'">'+i.sLast+"</a>");var r=h("a",t),i=r[0],n=r[1],l=r[2],r=r[3];e.oApi._fnBindAction(i,{action:"first"},o),e.oApi._fnBindAction(n,{action:"previous"},o),e.oApi._fnBindAction(l,{action:"next"},o),e.oApi._fnBindAction(r,{action:"last"},o),e.aanFeatures.p||(t.id=e.sTableId+"_paginate",i.id=e.sTableId+"_first",n.id=e.sTableId+"_previous",l.id=e.sTableId+"_next",r.id=e.sTableId+"_last")},fnUpdate:function(e,t){if(e.aanFeatures.p){var a,i,n=j.ext.oPagination.iFullNumbersShowPages,o=Math.floor(n/2),r=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength),l=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1,s="",d=e.oClasses,c=e.aanFeatures.p,u=function(i){e.oApi._fnBindAction(this,{page:i+a-1},function(a){e.oApi._fnPageChange(e,a.data.page),t(e),a.preventDefault()})};for(-1===e._iDisplayLength?l=o=a=1:n>r?(a=1,o=r):o>=l?(a=1,o=n):l>=r-o?(a=r-n+1,o=r):(a=l-Math.ceil(n/2)+1,o=a+n-1),n=a;o>=n;n++)s+=l!==n?'<a tabindex="'+e.iTabIndex+'" class="'+d.sPageButton+'">'+e.fnFormatNumber(n)+"</a>":'<a tabindex="'+e.iTabIndex+'" class="'+d.sPageButtonActive+'">'+e.fnFormatNumber(n)+"</a>";for(n=0,o=c.length;o>n;n++)i=c[n],i.hasChildNodes()&&(h("span:eq(0)",i).html(s).children("a").each(u),i=i.getElementsByTagName("a"),i=[i[0],i[1],i[i.length-2],i[i.length-1]],h(i).removeClass(d.sPageButton+" "+d.sPageButtonActive+" "+d.sPageButtonStaticDisabled),h([i[0],i[1]]).addClass(1==l?d.sPageButtonStaticDisabled:d.sPageButton),h([i[2],i[3]]).addClass(0===r||l===r||-1===e._iDisplayLength?d.sPageButtonStaticDisabled:d.sPageButton))}}}}),h.extend(j.ext.oSort,{"string-pre":function(e){return"string"!=typeof e&&(e=null!==e&&e.toString?e.toString():""),e.toLowerCase()},"string-asc":function(e,t){return t>e?-1:e>t?1:0},"string-desc":function(e,t){return t>e?1:e>t?-1:0},"html-pre":function(e){return e.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(e,t){return t>e?-1:e>t?1:0},"html-desc":function(e,t){return t>e?1:e>t?-1:0},"date-pre":function(e){return e=Date.parse(e),(isNaN(e)||""===e)&&(e=Date.parse("01/01/1970 00:00:00")),e},"date-asc":function(e,t){return e-t},"date-desc":function(e,t){return t-e},"numeric-pre":function(e){return"-"==e||""===e?0:1*e},"numeric-asc":function(e,t){return e-t},"numeric-desc":function(e,t){return t-e}}),h.extend(j.ext.aTypes,[function(e){if("number"==typeof e)return"numeric";if("string"!=typeof e)return null;var t,a=!1;if(t=e.charAt(0),-1=="0123456789-".indexOf(t))return null;for(var i=1;i<e.length;i++){if(t=e.charAt(i),-1=="0123456789.".indexOf(t))return null;if("."==t){if(a)return null;a=!0}}return"numeric"},function(e){var t=Date.parse(e);return null!==t&&!isNaN(t)||"string"==typeof e&&0===e.length?"date":null},function(e){return"string"==typeof e&&-1!=e.indexOf("<")&&-1!=e.indexOf(">")?"html":null}]),h.fn.DataTable=j,h.fn.dataTable=j,h.fn.dataTableSettings=j.settings,h.fn.dataTableExt=j.ext};"function"==typeof define&&define.amd?define(["jquery"],L):jQuery&&!jQuery.fn.dataTable&&L(jQuery)}(window,document),jQuery.fn.dataTableExt.oApi.fnPagingInfo=function(e){return{iStart:e._iDisplayStart,iEnd:e.fnDisplayEnd(),iLength:e._iDisplayLength,iTotal:e.fnRecordsTotal(),iFilteredTotal:e.fnRecordsDisplay(),iPage:Math.ceil(e._iDisplayStart/e._iDisplayLength),iTotalPages:Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength)}},jQuery.extend(jQuery.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(e,t,a){var i=e.oLanguage.oPaginate,n=function(t){t.preventDefault(),e.oApi._fnPageChange(e,t.data.action)&&a(e)};jQuery(t).append('<ul class="pagination pagination-sm remove-margin"><li class="prev disabled"><a href="javascript:void(0)"><i class="fa fa-chevron-left"></i> '+i.sPrevious+'</a></li><li class="next disabled"><a href="javascript:void(0)">'+i.sNext+' <i class="fa fa-chevron-right"></i></a></li></ul>');var o=jQuery("a",t);jQuery(o[0]).bind("click.DT",{action:"previous"},n),jQuery(o[1]).bind("click.DT",{action:"next"},n)},fnUpdate:function(e,t){var a,i,n,o,r,l=5,s=e.oInstance.fnPagingInfo(),d=e.aanFeatures.p,c=Math.floor(l/2);for(s.iTotalPages<l?(o=1,r=s.iTotalPages):s.iPage<=c?(o=1,r=l):s.iPage>=s.iTotalPages-c?(o=s.iTotalPages-l+1,r=s.iTotalPages):(o=s.iPage-c+1,r=o+l-1),a=0,iLen=d.length;iLen>a;a++){for(jQuery("li:gt(0)",d[a]).filter(":not(:last)").remove(),i=o;r>=i;i++)n=i===s.iPage+1?'class="active"':"",jQuery("<li "+n+'><a href="javascript:void(0)">'+i+"</a></li>").insertBefore(jQuery("li:last",d[a])[0]).bind("click",function(a){a.preventDefault(),e._iDisplayStart=(parseInt(jQuery("a",this).text(),10)-1)*s.iLength,t(e)});0===s.iPage?jQuery("li:first",d[a]).addClass("disabled"):jQuery("li:first",d[a]).removeClass("disabled"),s.iPage===s.iTotalPages-1||0===s.iTotalPages?jQuery("li:last",d[a]).addClass("disabled"):jQuery("li:last",d[a]).removeClass("disabled")}}}}),/*!
 * FullCalendar v1.6.4 & Google Calendar Extension
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2013 Adam Shaw
 */
function(e,t){function a(t){e.extend(!0,Ct,t)}function i(a,i,d){function c(e){nt?f()&&(S(),w(e)):u()}function u(){ot=i.theme?"ui":"fc",a.addClass("fc"),a.addClass(i.isRTL?"fc-rtl":"fc-ltr"),i.theme&&a.addClass("ui-widget"),nt=e("<div class='fc-content' style='position:relative'/>").prependTo(a),at=new n(tt,i),it=at.render(),it&&a.prepend(it),b(i.defaultView),i.handleWindowResize&&e(window).resize(R),v()||h()}function h(){setTimeout(function(){!rt.start&&v()&&C()},0)}function m(){rt&&(et("viewDestroy",rt,rt,rt.element),rt.triggerEventDestroy()),e(window).unbind("resize",R),at.destroy(),nt.remove(),a.removeClass("fc fc-rtl ui-widget")}function f(){return a.is(":visible")}function v(){return e("body").is(":visible")}function b(e){rt&&e==rt.name||T(e)}function T(t){mt++,rt&&(et("viewDestroy",rt,rt,rt.element),j(),rt.triggerEventDestroy(),Z(),rt.element.remove(),at.deactivateButton(rt.name)),at.activateButton(t),rt=new St[t](e("<div class='fc-view fc-view-"+t+"' style='position:relative'/>").appendTo(nt),tt),C(),X(),mt--}function C(e){(!rt.start||e||rt.start>gt||gt>=rt.end)&&f()&&w(e)}function w(e){mt++,rt.start&&(et("viewDestroy",rt,rt,rt.element),j(),_()),Z(),rt.render(gt,e||0),D(),X(),(rt.afterRender||N)(),B(),M(),et("viewRender",rt,rt,rt.element),rt.trigger("viewDisplay",pt),mt--,F()}function E(){f()&&(j(),_(),S(),D(),x())}function S(){st=i.contentHeight?i.contentHeight:i.height?i.height-(it?it.height():0)-L(nt):Math.round(nt.width()/Math.max(i.aspectRatio,.5))}function D(){st===t&&S(),mt++,rt.setHeight(st),rt.setWidth(nt.width()),mt--,lt=a.outerWidth()}function R(){if(!mt)if(rt.start){var e=++ht;setTimeout(function(){e==ht&&!mt&&f()&&lt!=(lt=a.outerWidth())&&(mt++,E(),rt.trigger("windowResize",pt),mt--)},200)}else h()}function A(){_(),O()}function I(e){_(),x(e)}function x(e){f()&&(rt.setEventData(ft),rt.renderEvents(ft,e),rt.trigger("eventAfterAllRender"))}function _(){rt.triggerEventDestroy(),rt.clearEvents(),rt.clearEventData()}function F(){!i.lazyFetching||ct(rt.visStart,rt.visEnd)?O():x()}function O(){ut(rt.visStart,rt.visEnd)}function P(e){ft=e,x()}function z(e){I(e)}function B(){at.updateTitle(rt.title)}function M(){var e=new Date;e>=rt.start&&rt.end>e?at.disableButton("today"):at.enableButton("today")}function K(e,a,i){rt.select(e,a,i===t?!0:i)}function j(){rt&&rt.unselect()}function H(){C(-1)}function W(){C(1)}function V(){r(gt,-1),C()}function U(){r(gt,1),C()}function q(){gt=new Date,C()}function $(e,t,a){e instanceof Date?gt=p(e):g(gt,e,t,a),C()}function G(e,a,i){e!==t&&r(gt,e),a!==t&&l(gt,a),i!==t&&s(gt,i),C()}function Y(){return p(gt)}function Z(){nt.css({width:"100%",height:nt.height(),overflow:"hidden"})}function X(){nt.css({width:"",height:"",overflow:""})}function J(){return rt}function Q(e,a){return a===t?i[e]:(("height"==e||"contentHeight"==e||"aspectRatio"==e)&&(i[e]=a,E()),t)}function et(e,a){return i[e]?i[e].apply(a||pt,Array.prototype.slice.call(arguments,2)):t}var tt=this;tt.options=i,tt.render=c,tt.destroy=m,tt.refetchEvents=A,tt.reportEvents=P,tt.reportEventChange=z,tt.rerenderEvents=I,tt.changeView=b,tt.select=K,tt.unselect=j,tt.prev=H,tt.next=W,tt.prevYear=V,tt.nextYear=U,tt.today=q,tt.gotoDate=$,tt.incrementDate=G,tt.formatDate=function(e,t){return y(e,t,i)},tt.formatDates=function(e,t,a){return k(e,t,a,i)},tt.getDate=Y,tt.getView=J,tt.option=Q,tt.trigger=et,o.call(tt,i,d);var at,it,nt,ot,rt,lt,st,dt,ct=tt.isFetchNeeded,ut=tt.fetchEvents,pt=a[0],ht=0,mt=0,gt=new Date,ft=[];g(gt,i.year,i.month,i.date),i.droppable&&e(document).bind("dragstart",function(t,a){var n=t.target,o=e(n);if(!o.parents(".fc").length){var r=i.dropAccept;(e.isFunction(r)?r.call(n,o):o.is(r))&&(dt=n,rt.dragStart(dt,t,a))}}).bind("dragstop",function(e,t){dt&&(rt.dragStop(dt,e,t),dt=null)})}function n(a,i){function n(){h=i.theme?"ui":"fc";var a=i.header;return a?m=e("<table class='fc-header' style='width:100%'/>").append(e("<tr/>").append(r("left")).append(r("center")).append(r("right"))):t}function o(){m.remove()}function r(t){var n=e("<td class='fc-header-"+t+"'/>"),o=i.header[t];return o&&e.each(o.split(" "),function(t){t>0&&n.append("<span class='fc-header-space'/>");var o;e.each(this.split(","),function(t,r){if("title"==r)n.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),o&&o.addClass(h+"-corner-right"),o=null;else{var l;if(a[r]?l=a[r]:St[r]&&(l=function(){c.removeClass(h+"-state-hover"),a.changeView(r)}),l){var s=i.theme?M(i.buttonIcons,r):null,d=M(i.buttonText,r),c=e("<span class='fc-button fc-button-"+r+" "+h+"-state-default'>"+(s?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+s+"'/></span>":d)+"</span>").click(function(){c.hasClass(h+"-state-disabled")||l()}).mousedown(function(){c.not("."+h+"-state-active").not("."+h+"-state-disabled").addClass(h+"-state-down")}).mouseup(function(){c.removeClass(h+"-state-down")}).hover(function(){c.not("."+h+"-state-active").not("."+h+"-state-disabled").addClass(h+"-state-hover")},function(){c.removeClass(h+"-state-hover").removeClass(h+"-state-down")}).appendTo(n);j(c),o||c.addClass(h+"-corner-left"),o=c}}}),o&&o.addClass(h+"-corner-right")}),n}function l(e){m.find("h2").html(e)}function s(e){m.find("span.fc-button-"+e).addClass(h+"-state-active")}function d(e){m.find("span.fc-button-"+e).removeClass(h+"-state-active")}function c(e){m.find("span.fc-button-"+e).addClass(h+"-state-disabled")}function u(e){m.find("span.fc-button-"+e).removeClass(h+"-state-disabled")}var p=this;p.render=n,p.destroy=o,p.updateTitle=l,p.activateButton=s,p.deactivateButton=d,p.disableButton=c,p.enableButton=u;var h,m=e([])}function o(a,i){function n(e,t){return!E||E>e||t>S}function o(e,t){E=e,S=t,O=[];var a=++L,i=x.length;_=i;for(var n=0;i>n;n++)r(x[n],a)}function r(t,i){l(t,function(n){if(i==L){if(n){a.eventDataTransform&&(n=e.map(n,a.eventDataTransform)),t.eventDataTransform&&(n=e.map(n,t.eventDataTransform));for(var o=0;n.length>o;o++)n[o].source=t,y(n[o]);O=O.concat(n)}_--,_||A(O)}})}function l(i,n){var o,r,s=Et.sourceFetchers;for(o=0;s.length>o;o++){if(r=s[o](i,E,S,n),r===!0)return;if("object"==typeof r)return l(r,n),t}var d=i.events;if(d)e.isFunction(d)?(v(),d(p(E),p(S),function(e){n(e),b()})):e.isArray(d)?n(d):n();else{var c=i.url;if(c){var u,h=i.success,m=i.error,g=i.complete;u=e.isFunction(i.data)?i.data():i.data;var f=e.extend({},u||{}),y=U(i.startParam,a.startParam),k=U(i.endParam,a.endParam);y&&(f[y]=Math.round(+E/1e3)),k&&(f[k]=Math.round(+S/1e3)),v(),e.ajax(e.extend({},Dt,i,{data:f,success:function(t){t=t||[];var a=V(h,this,arguments);e.isArray(a)&&(t=a),n(t)},error:function(){V(m,this,arguments),n()},complete:function(){V(g,this,arguments),b()}}))}else n()}}function s(e){e=d(e),e&&(_++,r(e,L))}function d(a){return e.isFunction(a)||e.isArray(a)?a={events:a}:"string"==typeof a&&(a={url:a}),"object"==typeof a?(k(a),x.push(a),a):t}function c(t){x=e.grep(x,function(e){return!T(e,t)}),O=e.grep(O,function(e){return!T(e.source,t)}),A(O)}function u(e){var t,a,i=O.length,n=R().defaultEventEnd,o=e.start-e._start,r=e.end?e.end-(e._end||n(e)):0;for(t=0;i>t;t++)a=O[t],a._id==e._id&&a!=e&&(a.start=new Date(+a.start+o),a.end=e.end?new Date(a.end?+a.end+r:+n(a)+r):null,a.title=e.title,a.url=e.url,a.allDay=e.allDay,a.className=e.className,a.editable=e.editable,a.color=e.color,a.backgroundColor=e.backgroundColor,a.borderColor=e.borderColor,a.textColor=e.textColor,y(a));y(e),A(O)}function h(e,t){y(e),e.source||(t&&(I.events.push(e),e.source=I),O.push(e)),A(O)}function m(t){if(t){if(!e.isFunction(t)){var a=t+"";t=function(e){return e._id==a}}O=e.grep(O,t,!0);for(var i=0;x.length>i;i++)e.isArray(x[i].events)&&(x[i].events=e.grep(x[i].events,t,!0))}else{O=[];for(var i=0;x.length>i;i++)e.isArray(x[i].events)&&(x[i].events=[])}A(O)}function g(t){return e.isFunction(t)?e.grep(O,t):t?(t+="",e.grep(O,function(e){return e._id==t})):O}function v(){F++||D("loading",null,!0,R())}function b(){--F||D("loading",null,!1,R())}function y(e){var i=e.source||{},n=U(i.ignoreTimezone,a.ignoreTimezone);e._id=e._id||(e.id===t?"_fc"+Rt++:e.id+""),e.date&&(e.start||(e.start=e.date),delete e.date),e._start=p(e.start=f(e.start,n)),e.end=f(e.end,n),e.end&&e.end<=e.start&&(e.end=null),e._end=e.end?p(e.end):null,e.allDay===t&&(e.allDay=U(i.allDayDefault,a.allDayDefault)),e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[]}function k(e){e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[];for(var t=Et.sourceNormalizers,a=0;t.length>a;a++)t[a](e)}function T(e,t){return e&&t&&C(e)==C(t)}function C(e){return("object"==typeof e?e.events||e.url:"")||e}var w=this;w.isFetchNeeded=n,w.fetchEvents=o,w.addEventSource=s,w.removeEventSource=c,w.updateEvent=u,w.renderEvent=h,w.removeEvents=m,w.clientEvents=g,w.normalizeEvent=y;for(var E,S,D=w.trigger,R=w.getView,A=w.reportEvents,I={events:[]},x=[I],L=0,_=0,F=0,O=[],N=0;i.length>N;N++)d(i[N])}function r(e,t,a){return e.setFullYear(e.getFullYear()+t),a||u(e),e}function l(e,t,a){if(+e){var i=e.getMonth()+t,n=p(e);for(n.setDate(1),n.setMonth(i),e.setMonth(i),a||u(e);e.getMonth()!=n.getMonth();)e.setDate(e.getDate()+(n>e?1:-1))}return e}function s(e,t,a){if(+e){var i=e.getDate()+t,n=p(e);n.setHours(9),n.setDate(i),e.setDate(i),a||u(e),d(e,n)}return e}function d(e,t){if(+e)for(;e.getDate()!=t.getDate();)e.setTime(+e+(t>e?1:-1)*xt)}function c(e,t){return e.setMinutes(e.getMinutes()+t),e}function u(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function p(e,t){return t?u(new Date(+e)):new Date(+e)}function h(){var e,t=0;do e=new Date(1970,t++,1);while(e.getHours());return e}function m(e,t){return Math.round((p(e,!0)-p(t,!0))/It)}function g(e,a,i,n){a!==t&&a!=e.getFullYear()&&(e.setDate(1),e.setMonth(0),e.setFullYear(a)),i!==t&&i!=e.getMonth()&&(e.setDate(1),e.setMonth(i)),n!==t&&e.setDate(n)}function f(e,a){return"object"==typeof e?e:"number"==typeof e?new Date(1e3*e):"string"==typeof e?e.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(e)):(a===t&&(a=!0),v(e,a)||(e?new Date(e):null)):null}function v(e,t){var a=e.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return null;var i=new Date(a[1],0,1);if(t||!a[13]){var n=new Date(a[1],0,1,9,0);a[3]&&(i.setMonth(a[3]-1),n.setMonth(a[3]-1)),a[5]&&(i.setDate(a[5]),n.setDate(a[5])),d(i,n),a[7]&&i.setHours(a[7]),a[8]&&i.setMinutes(a[8]),a[10]&&i.setSeconds(a[10]),a[12]&&i.setMilliseconds(1e3*Number("0."+a[12])),d(i,n)}else if(i.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1),i.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?1e3*Number("0."+a[12]):0),a[14]){var o=60*Number(a[16])+(a[18]?Number(a[18]):0);o*="-"==a[15]?1:-1,i=new Date(+i+6e4*o)}return i}function b(e){if("number"==typeof e)return 60*e;if("object"==typeof e)return 60*e.getHours()+e.getMinutes();var t=e.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(t){var a=parseInt(t[1],10);return t[3]&&(a%=12,"p"==t[3].toLowerCase().charAt(0)&&(a+=12)),60*a+(t[2]?parseInt(t[2],10):0)}}function y(e,t,a){return k(e,null,t,a)}function k(e,t,a,i){i=i||Ct;var n,o,r,l,s=e,d=t,c=a.length,u="";for(n=0;c>n;n++)if(o=a.charAt(n),"'"==o){for(r=n+1;c>r;r++)if("'"==a.charAt(r)){s&&(u+=r==n+1?"'":a.substring(n+1,r),n=r);break}}else if("("==o){for(r=n+1;c>r;r++)if(")"==a.charAt(r)){var p=y(s,a.substring(n+1,r),i);parseInt(p.replace(/\D/,""),10)&&(u+=p),n=r;break}}else if("["==o){for(r=n+1;c>r;r++)if("]"==a.charAt(r)){var h=a.substring(n+1,r),p=y(s,h,i);p!=y(d,h,i)&&(u+=p),n=r;break}}else if("{"==o)s=t,d=e;else if("}"==o)s=e,d=t;else{for(r=c;r>n;r--)if(l=_t[a.substring(n,r)]){s&&(u+=l(s,i)),n=r-1;break}r==n&&s&&(u+=o)}return u}function T(e){var t,a=new Date(e.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),t=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((t-a)/864e5)/7)+1}function C(e){return e.end?w(e.end,e.allDay):s(p(e.start),1)}function w(e,t){return e=p(e),t||e.getHours()||e.getMinutes()?s(e,1):u(e)}function E(a,i,n){a.unbind("mouseover").mouseover(function(a){for(var o,r,l,s=a.target;s!=this;)o=s,s=s.parentNode;(r=o._fci)!==t&&(o._fci=t,l=i[r],n(l.event,l.element,l),e(a.target).trigger(a)),a.stopPropagation()})}function S(t,a,i){for(var n,o=0;t.length>o;o++)n=e(t[o]),n.width(Math.max(0,a-R(n,i)))}function D(t,a,i){for(var n,o=0;t.length>o;o++)n=e(t[o]),n.height(Math.max(0,a-L(n,i)))}function R(e,t){return A(e)+x(e)+(t?I(e):0)}function A(t){return(parseFloat(e.css(t[0],"paddingLeft",!0))||0)+(parseFloat(e.css(t[0],"paddingRight",!0))||0)}function I(t){return(parseFloat(e.css(t[0],"marginLeft",!0))||0)+(parseFloat(e.css(t[0],"marginRight",!0))||0)}function x(t){return(parseFloat(e.css(t[0],"borderLeftWidth",!0))||0)+(parseFloat(e.css(t[0],"borderRightWidth",!0))||0)}function L(e,t){return _(e)+O(e)+(t?F(e):0)}function _(t){return(parseFloat(e.css(t[0],"paddingTop",!0))||0)+(parseFloat(e.css(t[0],"paddingBottom",!0))||0)}function F(t){return(parseFloat(e.css(t[0],"marginTop",!0))||0)+(parseFloat(e.css(t[0],"marginBottom",!0))||0)}function O(t){return(parseFloat(e.css(t[0],"borderTopWidth",!0))||0)+(parseFloat(e.css(t[0],"borderBottomWidth",!0))||0)}function N(){}function P(e,t){return e-t}function z(e){return Math.max.apply(Math,e)}function B(e){return(10>e?"0":"")+e}function M(e,a){if(e[a]!==t)return e[a];for(var i,n=a.split(/(?=[A-Z])/),o=n.length-1;o>=0;o--)if(i=e[n[o].toLowerCase()],i!==t)return i;return e[""]}function K(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function j(e){e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function H(e){e.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function W(e,t){var a=e.source||{},i=e.color,n=a.color,o=t("eventColor"),r=e.backgroundColor||i||a.backgroundColor||n||t("eventBackgroundColor")||o,l=e.borderColor||i||a.borderColor||n||t("eventBorderColor")||o,s=e.textColor||a.textColor||t("eventTextColor"),d=[];return r&&d.push("background-color:"+r),l&&d.push("border-color:"+l),s&&d.push("color:"+s),d.join(";")}function V(t,a,i){if(e.isFunction(t)&&(t=[t]),t){var n,o;for(n=0;t.length>n;n++)o=t[n].apply(a,i)||o;return o}}function U(){for(var e=0;arguments.length>e;e++)if(arguments[e]!==t)return arguments[e]}function q(e,t){function a(e,t){t&&(l(e,t),e.setDate(1));var a=n("firstDay"),u=p(e,!0);u.setDate(1);var h=l(p(u),1),g=p(u);s(g,-((g.getDay()-a+7)%7)),r(g);var f=p(h);s(f,(7-f.getDay()+a)%7),r(f,-1,!0);var v=d(),b=Math.round(m(f,g)/7);"fixed"==n("weekMode")&&(s(f,7*(6-b)),b=6),i.title=c(u,n("titleFormat")),i.start=u,i.end=h,i.visStart=g,i.visEnd=f,o(b,v,!0)}var i=this;i.render=a,Y.call(i,e,t,"month");var n=i.opt,o=i.renderBasic,r=i.skipHiddenDays,d=i.getCellsPerWeek,c=t.formatDate}function $(e,t){function a(e,t){t&&s(e,7*t);var a=s(p(e),-((e.getDay()-n("firstDay")+7)%7)),c=s(p(a),7),u=p(a);r(u);var h=p(c);r(h,-1,!0);var m=l();i.start=a,i.end=c,i.visStart=u,i.visEnd=h,i.title=d(u,s(p(h),-1),n("titleFormat")),o(1,m,!1)}var i=this;i.render=a,Y.call(i,e,t,"basicWeek");var n=i.opt,o=i.renderBasic,r=i.skipHiddenDays,l=i.getCellsPerWeek,d=t.formatDates}function G(e,t){function a(e,t){t&&s(e,t),r(e,0>t?-1:1);var a=p(e,!0),d=s(p(a),1);i.title=l(e,n("titleFormat")),i.start=i.visStart=a,i.end=i.visEnd=d,o(1,1,!1)}var i=this;i.render=a,Y.call(i,e,t,"basicDay");var n=i.opt,o=i.renderBasic,r=i.skipHiddenDays,l=t.formatDate}function Y(t,a,i){function n(e,t,a){tt=e,at=t,it=a,o(),W||r(),l()}function o(){st=mt("theme")?"ui":"fc",dt=mt("columnFormat"),ct=mt("weekNumbers"),pt=mt("weekNumberTitle"),ht="iso"!=mt("weekNumberCalculation")?"w":"W"}function r(){Y=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function l(){var a=d();z&&z.remove(),z=e(a).appendTo(t),B=z.find("thead"),M=B.find(".fc-day-header"),W=z.find("tbody"),V=W.find("tr"),U=W.find(".fc-day"),q=V.find("td:first-child"),$=V.eq(0).find(".fc-day > div"),G=V.eq(0).find(".fc-day-content > div"),H(B.add(B.find("tr"))),H(V),V.eq(0).addClass("fc-first"),V.filter(":last").addClass("fc-last"),U.each(function(t,a){var i=Et(Math.floor(t/at),t%at);gt("dayRender",P,i,e(a))}),b(U)}function d(){var e="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+c()+h()+"</table>";return e}function c(){var e,t,a=st+"-widget-header",i="";for(i+="<thead><tr>",ct&&(i+="<th class='fc-week-number "+a+"'>"+K(pt)+"</th>"),e=0;at>e;e++)t=Et(0,e),i+="<th class='fc-day-header fc-"+At[t.getDay()]+" "+a+"'>"+K(Rt(t,dt))+"</th>";return i+="</tr></thead>"}function h(){var e,t,a,i=st+"-widget-content",n="";for(n+="<tbody>",e=0;tt>e;e++){for(n+="<tr class='fc-week'>",ct&&(a=Et(e,0),n+="<td class='fc-week-number "+i+"'><div>"+K(Rt(a,ht))+"</div></td>"),t=0;at>t;t++)a=Et(e,t),n+=m(a);n+="</tr>"}return n+="</tbody>"}function m(e){var t=st+"-widget-content",a=P.start.getMonth(),i=u(new Date),n="",o=["fc-day","fc-"+At[e.getDay()],t];return e.getMonth()!=a&&o.push("fc-other-month"),+e==+i?o.push("fc-today",st+"-state-highlight"):o.push(i>e?"fc-past":"fc-future"),n+="<td class='"+o.join(" ")+"' data-date='"+Rt(e,"yyyy-MM-dd")+"'><div>",it&&(n+="<div class='fc-day-number'>"+e.getDate()+"</div>"),n+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function g(t){J=t;var a,i,n,o=J-B.height();"variable"==mt("weekMode")?a=i=Math.floor(o/(1==tt?2:6)):(a=Math.floor(o/tt),i=o-a*(tt-1)),q.each(function(t,o){tt>t&&(n=e(o),n.find("> div").css("min-height",(t==tt-1?i:a)-L(n)))})}function f(e){X=e,rt.clear(),lt.clear(),et=0,ct&&(et=B.find("th.fc-week-number").outerWidth()),Q=Math.floor((X-et)/at),S(M.slice(0,-1),Q)}function b(e){e.click(y).mousedown(wt)}function y(t){if(!mt("selectable")){var a=v(e(this).data("date"));gt("dayClick",this,a,!0,t)}}function k(e,t,a){a&&nt.build();for(var i=Dt(e,t),n=0;i.length>n;n++){var o=i[n];b(T(o.row,o.leftCol,o.row,o.rightCol))}}function T(e,a,i,n){var o=nt.rect(e,a,i,n,t);return kt(o,t)}function C(e){return p(e)}function w(e,t){k(e,s(p(t),1),!0)}function E(){Ct()}function D(e,t,a){var i=St(e),n=U[i.row*at+i.col];gt("dayClick",n,e,t,a)}function R(e,t){ot.start(function(e){Ct(),e&&T(e.row,e.col,e.row,e.col)},t)}function A(e,t,a){var i=ot.stop();if(Ct(),i){var n=Et(i);gt("drop",e,n,!0,t,a)}}function I(e){return p(e.start)}function x(e){return rt.left(e)}function _(e){return rt.right(e)}function F(e){return lt.left(e)}function O(e){return lt.right(e)}function N(e){return V.eq(e)}var P=this;P.renderBasic=n,P.setHeight=g,P.setWidth=f,P.renderDayOverlay=k,P.defaultSelectionEnd=C,P.renderSelection=w,P.clearSelection=E,P.reportDayClick=D,P.dragStart=R,P.dragStop=A,P.defaultEventEnd=I,P.getHoverListener=function(){return ot},P.colLeft=x,P.colRight=_,P.colContentLeft=F,P.colContentRight=O,P.getIsCellAllDay=function(){return!0},P.allDayRow=N,P.getRowCnt=function(){return tt},P.getColCnt=function(){return at},P.getColWidth=function(){return Q},P.getDaySegmentContainer=function(){return Y},ut.call(P,t,a,i),vt.call(P),ft.call(P),Z.call(P);var z,B,M,W,V,U,q,$,G,Y,X,J,Q,et,tt,at,it,nt,ot,rt,lt,st,dt,ct,pt,ht,mt=P.opt,gt=P.trigger,kt=P.renderOverlay,Ct=P.clearOverlays,wt=P.daySelectionMousedown,Et=P.cellToDate,St=P.dateToCell,Dt=P.rangeToSegments,Rt=a.formatDate;j(t.addClass("fc-grid")),nt=new bt(function(t,a){var i,n,o;M.each(function(t,r){i=e(r),n=i.offset().left,t&&(o[1]=n),o=[n],a[t]=o}),o[1]=n+i.outerWidth(),V.each(function(a,r){tt>a&&(i=e(r),n=i.offset().top,a&&(o[1]=n),o=[n],t[a]=o)}),o[1]=n+i.outerHeight()}),ot=new yt(nt),rt=new Tt(function(e){return $.eq(e)}),lt=new Tt(function(e){return G.eq(e)})}function Z(){function e(e,t){a.renderDayEvents(e,t)}function t(){a.getDaySegmentContainer().empty()}var a=this;a.renderEvents=e,a.clearEvents=t,pt.call(a)}function X(e,t){function a(e,t){t&&s(e,7*t);var a=s(p(e),-((e.getDay()-n("firstDay")+7)%7)),c=s(p(a),7),u=p(a);r(u);var h=p(c);r(h,-1,!0);var m=l();i.title=d(u,s(p(h),-1),n("titleFormat")),i.start=a,i.end=c,i.visStart=u,i.visEnd=h,o(m)}var i=this;i.render=a,Q.call(i,e,t,"agendaWeek");var n=i.opt,o=i.renderAgenda,r=i.skipHiddenDays,l=i.getCellsPerWeek,d=t.formatDates}function J(e,t){function a(e,t){t&&s(e,t),r(e,0>t?-1:1);var a=p(e,!0),d=s(p(a),1);i.title=l(e,n("titleFormat")),i.start=i.visStart=a,i.end=i.visEnd=d,o(1)}var i=this;i.render=a,Q.call(i,e,t,"agendaDay");var n=i.opt,o=i.renderAgenda,r=i.skipHiddenDays,l=t.formatDate}function Q(a,i,n){function o(e){Ot=e,r(),Q?d():l()}function r(){Kt=Gt("theme")?"ui":"fc",jt=Gt("isRTL"),Ht=b(Gt("minTime")),Wt=b(Gt("maxTime")),Vt=Gt("columnFormat"),Ut=Gt("weekNumbers"),qt=Gt("weekNumberTitle"),$t="iso"!=Gt("weekNumberCalculation")?"w":"W",Lt=Gt("snapMinutes")||Gt("slotMinutes")}function l(){var t,i,n,o,r,l=Kt+"-widget-header",s=Kt+"-widget-content",u=0==Gt("slotMinutes")%15;for(d(),dt=e("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a),Gt("allDaySlot")?(ct=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(dt),t="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+l+" fc-agenda-axis'>"+Gt("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+l+" fc-agenda-gutter'>&nbsp;</th></tr></table>",pt=e(t).appendTo(dt),ht=pt.find("tr"),C(ht.find("td")),dt.append("<div class='fc-agenda-divider "+l+"'><div class='fc-agenda-divider-inner'/></div>")):ct=e([]),mt=e("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(dt),gt=e("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(mt),kt=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(gt),t="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",i=h(),o=c(p(i),Wt),c(i,Ht),Nt=0,n=0;o>i;n++)r=i.getMinutes(),t+="<tr class='fc-slot"+n+" "+(r?"fc-minor":"")+"'><th class='fc-agenda-axis "+l+"'>"+(u&&r?"&nbsp;":oa(i,Gt("axisFormat")))+"</th><td class='"+s+"'><div style='position:relative'>&nbsp;</div></td></tr>",c(i,Gt("slotMinutes")),Nt++;t+="</tbody></table>",Ct=e(t).appendTo(gt),w(Ct.find("td"))}function d(){var t=m();Q&&Q.remove(),Q=e(t).appendTo(a),tt=Q.find("thead"),at=tt.find("th").slice(1,-1),it=Q.find("tbody"),nt=it.find("td").slice(0,-1),ot=nt.find("> div"),rt=nt.find(".fc-day-content > div"),lt=nt.eq(0),st=ot.eq(0),H(tt.add(tt.find("tr"))),H(it.add(it.find("tr")))}function m(){var e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+g()+f()+"</table>";return e}function g(){var e,t,a,i=Kt+"-widget-header",n="";for(n+="<thead><tr>",Ut?(e=aa(0,0),t=oa(e,$t),jt?t+=qt:t=qt+t,n+="<th class='fc-agenda-axis fc-week-number "+i+"'>"+K(t)+"</th>"):n+="<th class='fc-agenda-axis "+i+"'>&nbsp;</th>",a=0;Ot>a;a++)e=aa(0,a),n+="<th class='fc-"+At[e.getDay()]+" fc-col"+a+" "+i+"'>"+K(oa(e,Vt))+"</th>";return n+="<th class='fc-agenda-gutter "+i+"'>&nbsp;</th></tr></thead>"}function f(){var e,t,a,i,n,o=Kt+"-widget-header",r=Kt+"-widget-content",l=u(new Date),s="";for(s+="<tbody><tr><th class='fc-agenda-axis "+o+"'>&nbsp;</th>",a="",t=0;Ot>t;t++)e=aa(0,t),n=["fc-col"+t,"fc-"+At[e.getDay()],r],+e==+l?n.push(Kt+"-state-highlight","fc-today"):n.push(l>e?"fc-past":"fc-future"),i="<td class='"+n.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>",a+=i;return s+=a,s+="<td class='fc-agenda-gutter "+r+"'>&nbsp;</td></tr></tbody>"}function v(e){e===t&&(e=St),St=e,ra={};var a=it.position().top,i=mt.position().top,n=Math.min(e-a,Ct.height()+i+1);st.height(n-L(lt)),dt.css("top",a),mt.height(n-i-1),xt=Ct.find("tr:first").height()+1,_t=Gt("slotMinutes")/Lt,Ft=xt/_t}function y(t){Et=t,Bt.clear(),Mt.clear();var a=tt.find("th:first");pt&&(a=a.add(pt.find("th:first"))),a=a.add(Ct.find("th:first")),Dt=0,S(a.width("").each(function(t,a){Dt=Math.max(Dt,e(a).outerWidth())}),Dt);var i=Q.find(".fc-agenda-gutter");pt&&(i=i.add(pt.find("th.fc-agenda-gutter")));var n=mt[0].clientWidth;It=mt.width()-n,It?(S(i,It),i.show().prev().removeClass("fc-last")):i.hide().prev().addClass("fc-last"),Rt=Math.floor((n-Dt)/Ot),S(at.slice(0,-1),Rt)}function k(){function e(){mt.scrollTop(i)}var t=h(),a=p(t);a.setHours(Gt("firstHour"));var i=B(t,a)+1;e(),setTimeout(e,0)}function T(){k()}function C(e){e.click(E).mousedown(ea)}function w(e){e.click(E).mousedown(G)}function E(e){if(!Gt("selectable")){var t=Math.min(Ot-1,Math.floor((e.pageX-Q.offset().left-Dt)/Rt)),a=aa(0,t),i=this.parentNode.className.match(/fc-slot(\d+)/);if(i){var n=parseInt(i[1])*Gt("slotMinutes"),o=Math.floor(n/60);a.setHours(o),a.setMinutes(n%60+Ht),Yt("dayClick",nt[t],a,!1,e)}else Yt("dayClick",nt[t],a,!0,e)}}function R(e,t,a){a&&Pt.build();for(var i=na(e,t),n=0;i.length>n;n++){var o=i[n];C(A(o.row,o.leftCol,o.row,o.rightCol))}}function A(e,t,a,i){var n=Pt.rect(e,t,a,i,dt);return Zt(n,dt)}function I(e,t){for(var a=0;Ot>a;a++){var i=aa(0,a),n=s(p(i),1),o=new Date(Math.max(i,e)),r=new Date(Math.min(n,t));if(r>o){var l=Pt.rect(0,a,0,a,gt),d=B(i,o),c=B(i,r);l.top=d,l.height=c-d,w(Zt(l,gt))}}}function x(e){return Bt.left(e)}function _(e){return Mt.left(e)}function F(e){return Bt.right(e)}function O(e){return Mt.right(e)}function N(e){return Gt("allDaySlot")&&!e.row}function z(e){var t=aa(0,e.col),a=e.row;return Gt("allDaySlot")&&a--,a>=0&&c(t,Ht+a*Lt),t}function B(e,a){if(e=p(e,!0),c(p(e),Ht)>a)return 0;if(a>=c(p(e),Wt))return Ct.height();var i=Gt("slotMinutes"),n=60*a.getHours()+a.getMinutes()-Ht,o=Math.floor(n/i),r=ra[o];return r===t&&(r=ra[o]=Ct.find("tr").eq(o).find("td div")[0].offsetTop),Math.max(0,Math.round(r-1+xt*(n%i/i)))}function M(){return ht}function W(e){var t=p(e.start);return e.allDay?t:c(t,Gt("defaultEventMinutes"))}function V(e,t){return t?p(e):c(p(e),Gt("slotMinutes"))}function U(e,t,a){a?Gt("allDaySlot")&&R(e,s(p(t),1),!0):q(e,t)}function q(t,a){var i=Gt("selectHelper");if(Pt.build(),i){var n=ia(t).col;if(n>=0&&Ot>n){var o=Pt.rect(0,n,0,n,gt),r=B(t,t),l=B(t,a);if(l>r){if(o.top=r,o.height=l-r,o.left+=2,o.width-=5,e.isFunction(i)){var s=i(t,a);s&&(o.position="absolute",wt=e(s).css(o).appendTo(gt))}else o.isStart=!0,o.isEnd=!0,wt=e(ta({title:"",start:t,end:a,className:["fc-select-helper"],editable:!1},o)),wt.css("opacity",Gt("dragOpacity"));wt&&(w(wt),gt.append(wt),S(wt,o.width,!0),D(wt,o.height,!0))}}}else I(t,a)}function $(){Xt(),wt&&(wt.remove(),wt=null)}function G(t){if(1==t.which&&Gt("selectable")){Qt(t);var a;zt.start(function(e,t){if($(),e&&e.col==t.col&&!N(e)){var i=z(t),n=z(e);a=[i,c(p(i),Lt),n,c(p(n),Lt)].sort(P),q(a[0],a[3])}else a=null},t),e(document).one("mouseup",function(e){zt.stop(),a&&(+a[0]==+a[1]&&Y(a[0],!1,e),Jt(a[0],a[3],!1,e))})}}function Y(e,t,a){Yt("dayClick",nt[ia(e).col],e,t,a)}function Z(e,t){zt.start(function(e){if(Xt(),e)if(N(e))A(e.row,e.col,e.row,e.col);else{var t=z(e),a=c(p(t),Gt("defaultEventMinutes"));I(t,a)}},t)}function X(e,t,a){var i=zt.stop();Xt(),i&&Yt("drop",e,z(i),N(i),t,a)}var J=this;J.renderAgenda=o,J.setWidth=y,J.setHeight=v,J.afterRender=T,J.defaultEventEnd=W,J.timePosition=B,J.getIsCellAllDay=N,J.allDayRow=M,J.getCoordinateGrid=function(){return Pt},J.getHoverListener=function(){return zt},J.colLeft=x,J.colRight=F,J.colContentLeft=_,J.colContentRight=O,J.getDaySegmentContainer=function(){return ct},J.getSlotSegmentContainer=function(){return kt},J.getMinMinute=function(){return Ht},J.getMaxMinute=function(){return Wt},J.getSlotContainer=function(){return gt},J.getRowCnt=function(){return 1},J.getColCnt=function(){return Ot},J.getColWidth=function(){return Rt},J.getSnapHeight=function(){return Ft},J.getSnapMinutes=function(){return Lt},J.defaultSelectionEnd=V,J.renderDayOverlay=R,J.renderSelection=U,J.clearSelection=$,J.reportDayClick=Y,J.dragStart=Z,J.dragStop=X,ut.call(J,a,i,n),vt.call(J),ft.call(J),et.call(J);var Q,tt,at,it,nt,ot,rt,lt,st,dt,ct,pt,ht,mt,gt,kt,Ct,wt,Et,St,Dt,Rt,It,xt,Lt,_t,Ft,Ot,Nt,Pt,zt,Bt,Mt,Kt,jt,Ht,Wt,Vt,Ut,qt,$t,Gt=J.opt,Yt=J.trigger,Zt=J.renderOverlay,Xt=J.clearOverlays,Jt=J.reportSelection,Qt=J.unselect,ea=J.daySelectionMousedown,ta=J.slotSegHtml,aa=J.cellToDate,ia=J.dateToCell,na=J.rangeToSegments,oa=i.formatDate,ra={};j(a.addClass("fc-agenda")),Pt=new bt(function(t,a){function i(e){return Math.max(s,Math.min(d,e))}var n,o,r;at.each(function(t,i){n=e(i),o=n.offset().left,t&&(r[1]=o),r=[o],a[t]=r}),r[1]=o+n.outerWidth(),Gt("allDaySlot")&&(n=ht,o=n.offset().top,t[0]=[o,o+n.outerHeight()]);for(var l=gt.offset().top,s=mt.offset().top,d=s+mt.outerHeight(),c=0;Nt*_t>c;c++)t.push([i(l+Ft*c),i(l+Ft*(c+1))])}),zt=new yt(Pt),Bt=new Tt(function(e){return ot.eq(e)}),Mt=new Tt(function(e){return rt.eq(e)})}function et(){function a(e,t){var a,i=e.length,o=[],r=[];for(a=0;i>a;a++)e[a].allDay?o.push(e[a]):r.push(e[a]);b("allDaySlot")&&(et(o,t),A()),l(n(r),t)}function i(){I().empty(),x().empty()}function n(t){var a,i,n,l,s,d=j(),u=O(),h=F(),m=e.map(t,r),g=[];for(i=0;d>i;i++)for(a=M(0,i),c(a,u),s=o(t,m,a,c(p(a),h-u)),s=tt(s),n=0;s.length>n;n++)l=s[n],l.col=i,g.push(l);return g}function o(e,t,a,i){var n,o,r,l,s,d,c,u,h=[],m=e.length;for(n=0;m>n;n++)o=e[n],r=o.start,l=t[n],l>a&&i>r&&(a>r?(s=p(a),c=!1):(s=r,c=!0),l>i?(d=p(i),u=!1):(d=l,u=!0),h.push({event:o,start:s,end:d,isStart:c,isEnd:u}));return h.sort(ct)}function r(e){return e.end?p(e.end):c(p(e.start),b("defaultEventMinutes"))}function l(a,i){var n,o,r,l,s,c,p,h,m,g,f,v,k,T,C,w,S=a.length,D="",A=x(),I=b("isRTL");for(n=0;S>n;n++)o=a[n],r=o.event,l=N(o.start,o.start),s=N(o.start,o.end),c=z(o.col),p=B(o.col),h=p-c,p-=.025*h,h=p-c,m=h*(o.forwardCoord-o.backwardCoord),b("slotEventOverlap")&&(m=Math.max(2*(m-10),m)),I?(f=p-o.backwardCoord*h,g=f-m):(g=c+o.backwardCoord*h,f=g+m),g=Math.max(g,c),f=Math.min(f,p),m=f-g,o.top=l,o.left=g,o.outerWidth=m,o.outerHeight=s-l,D+=d(r,o);for(A[0].innerHTML=D,v=A.children(),n=0;S>n;n++)o=a[n],r=o.event,k=e(v[n]),T=y("eventRender",r,r,k),T===!1?k.remove():(T&&T!==!0&&(k.remove(),k=e(T).css({position:"absolute",top:o.top,left:o.left}).appendTo(A)),o.element=k,r._id===i?u(r,k,o):k[0]._fci=n,$(r,k));for(E(A,a,u),n=0;S>n;n++)o=a[n],(k=o.element)&&(o.vsides=L(k,!0),o.hsides=R(k,!0),C=k.find(".fc-event-title"),C.length&&(o.contentTop=C[0].offsetTop));for(n=0;S>n;n++)o=a[n],(k=o.element)&&(k[0].style.width=Math.max(0,o.outerWidth-o.hsides)+"px",w=Math.max(0,o.outerHeight-o.vsides),k[0].style.height=w+"px",r=o.event,o.contentTop!==t&&10>w-o.contentTop&&(k.find("div.fc-event-time").text(it(r.start,b("timeFormat"))+" - "+r.title),k.find("div.fc-event-title").remove()),y("eventAfterRender",r,r,k))}function d(e,t){var a="<",i=e.url,n=W(e,b),o=["fc-event","fc-event-vert"];return k(e)&&o.push("fc-event-draggable"),t.isStart&&o.push("fc-event-start"),t.isEnd&&o.push("fc-event-end"),o=o.concat(e.className),e.source&&(o=o.concat(e.source.className||[])),a+=i?"a href='"+K(e.url)+"'":"div",a+=" class='"+o.join(" ")+"' style='position:absolute;top:"+t.top+"px;left:"+t.left+"px;"+n+"'><div class='fc-event-inner'><div class='fc-event-time'>"+K(nt(e.start,e.end,b("timeFormat")))+"</div><div class='fc-event-title'>"+K(e.title||"")+"</div></div><div class='fc-event-bg'></div>",t.isEnd&&T(e)&&(a+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),a+="</"+(i?"a":"div")+">"}function u(e,t,a){var i=t.find("div.fc-event-time");k(e)&&g(e,t,i),a.isEnd&&T(e)&&f(e,t,i),S(e,t)}function h(e,t,a){function i(){d||(t.width(n).height("").draggable("option","grid",null),d=!0)}var n,o,r,l=a.isStart,d=!0,c=_(),u=H(),h=V(),g=U(),f=O();t.draggable({opacity:b("dragOpacity","month"),revertDuration:b("dragRevertDuration"),start:function(a,f){y("eventDragStart",t,e,a,f),Y(e,t),n=t.width(),c.start(function(a,n){if(Q(),a){o=!1;var c=M(0,n.col),f=M(0,a.col);r=m(f,c),a.row?l?d&&(t.width(u-10),D(t,h*Math.round((e.end?(e.end-e.start)/Lt:b("defaultEventMinutes"))/g)),t.draggable("option","grid",[u,1]),d=!1):o=!0:(J(s(p(e.start),r),s(C(e),r)),i()),o=o||d&&!r}else i(),o=!0;t.draggable("option","revert",o)},a,"drag")},stop:function(a,n){if(c.stop(),Q(),y("eventDragStop",t,e,a,n),o)i(),t.css("filter",""),G(e,t);else{var l=0;d||(l=Math.round((t.offset().top-q().offset().top)/h)*g+f-(60*e.start.getHours()+e.start.getMinutes())),Z(this,e,r,l,d,a,n)}}})}function g(e,t,a){function i(){Q(),l&&(u?(a.hide(),t.draggable("option","grid",null),J(s(p(e.start),k),s(C(e),k))):(n(T),a.css("display",""),t.draggable("option","grid",[D,R])))}function n(t){var i,n=c(p(e.start),t);e.end&&(i=c(p(e.end),t)),a.text(nt(n,i,b("timeFormat")))}var o,r,l,d,u,h,g,f,k,T,w,E=v.getCoordinateGrid(),S=j(),D=H(),R=V(),A=U();t.draggable({scroll:!1,grid:[D,R],axis:1==S?"y":!1,opacity:b("dragOpacity"),revertDuration:b("dragRevertDuration"),start:function(a,i){y("eventDragStart",t,e,a,i),Y(e,t),E.build(),o=t.position(),r=E.cell(a.pageX,a.pageY),l=d=!0,u=h=P(r),g=f=0,k=0,T=w=0
},drag:function(e,a){var n=E.cell(e.pageX,e.pageY);if(l=!!n){if(u=P(n),g=Math.round((a.position.left-o.left)/D),g!=f){var s=M(0,r.col),c=r.col+g;c=Math.max(0,c),c=Math.min(S-1,c);var p=M(0,c);k=m(p,s)}u||(T=Math.round((a.position.top-o.top)/R)*A)}(l!=d||u!=h||g!=f||T!=w)&&(i(),d=l,h=u,f=g,w=T),t.draggable("option","revert",!l)},stop:function(a,n){Q(),y("eventDragStop",t,e,a,n),l&&(u||k||T)?Z(this,e,k,u?0:T,u,a,n):(l=!0,u=!1,g=0,k=0,T=0,i(),t.css("filter",""),t.css(o),G(e,t))}})}function f(e,t,a){var i,n,o=V(),r=U();t.resizable({handles:{s:".ui-resizable-handle"},grid:o,start:function(a,o){i=n=0,Y(e,t),y("eventResizeStart",this,e,a,o)},resize:function(l,s){i=Math.round((Math.max(o,t.height())-s.originalSize.height)/o),i!=n&&(a.text(nt(e.start,i||e.end?c(w(e),r*i):null,b("timeFormat"))),n=i)},stop:function(a,n){y("eventResizeStop",this,e,a,n),i?X(this,e,0,r*i,a,n):G(e,t)}})}var v=this;v.renderEvents=a,v.clearEvents=i,v.slotSegHtml=d,pt.call(v);var b=v.opt,y=v.trigger,k=v.isEventDraggable,T=v.isEventResizable,w=v.eventEnd,S=v.eventElementHandlers,A=v.setHeight,I=v.getDaySegmentContainer,x=v.getSlotSegmentContainer,_=v.getHoverListener,F=v.getMaxMinute,O=v.getMinMinute,N=v.timePosition,P=v.getIsCellAllDay,z=v.colContentLeft,B=v.colContentRight,M=v.cellToDate,j=v.getColCnt,H=v.getColWidth,V=v.getSnapHeight,U=v.getSnapMinutes,q=v.getSlotContainer,$=v.reportEventElement,G=v.showEvents,Y=v.hideEvents,Z=v.eventDrop,X=v.eventResize,J=v.renderDayOverlay,Q=v.clearOverlays,et=v.renderDayEvents,at=v.calendar,it=at.formatDate,nt=at.formatDates;v.draggableDayEvent=h}function tt(e){var t,a=at(e),i=a[0];if(it(a),i){for(t=0;i.length>t;t++)nt(i[t]);for(t=0;i.length>t;t++)ot(i[t],0,0)}return rt(a)}function at(e){var t,a,i,n=[];for(t=0;e.length>t;t++){for(a=e[t],i=0;n.length>i&&lt(a,n[i]).length;i++);(n[i]||(n[i]=[])).push(a)}return n}function it(e){var t,a,i,n,o;for(t=0;e.length>t;t++)for(a=e[t],i=0;a.length>i;i++)for(n=a[i],n.forwardSegs=[],o=t+1;e.length>o;o++)lt(n,e[o],n.forwardSegs)}function nt(e){var a,i,n=e.forwardSegs,o=0;if(e.forwardPressure===t){for(a=0;n.length>a;a++)i=n[a],nt(i),o=Math.max(o,1+i.forwardPressure);e.forwardPressure=o}}function ot(e,a,i){var n,o=e.forwardSegs;if(e.forwardCoord===t)for(o.length?(o.sort(dt),ot(o[0],a+1,i),e.forwardCoord=o[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-i)/(a+1),n=0;o.length>n;n++)ot(o[n],0,e.forwardCoord)}function rt(e){var t,a,i,n=[];for(t=0;e.length>t;t++)for(a=e[t],i=0;a.length>i;i++)n.push(a[i]);return n}function lt(e,t,a){a=a||[];for(var i=0;t.length>i;i++)st(e,t[i])&&a.push(t[i]);return a}function st(e,t){return e.end>t.start&&e.start<t.end}function dt(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||ct(e,t)}function ct(e,t){return e.start-t.start||t.end-t.start-(e.end-e.start)||(e.event.title||"").localeCompare(t.event.title)}function ut(a,i,n){function o(t,a){var i=$[t];return e.isPlainObject(i)?M(i,a||n):i}function r(e,t){return i.trigger.apply(i,[e,t||B].concat(Array.prototype.slice.call(arguments,2),[B]))}function l(e){var t=e.source||{};return U(e.startEditable,t.startEditable,o("eventStartEditable"),e.editable,t.editable,o("editable"))&&!o("disableDragging")}function d(e){var t=e.source||{};return U(e.durationEditable,t.durationEditable,o("eventDurationEditable"),e.editable,t.editable,o("editable"))&&!o("disableResizing")}function u(e){W={};var t,a,i=e.length;for(t=0;i>t;t++)a=e[t],W[a._id]?W[a._id].push(a):W[a._id]=[a]}function h(){W={},V={},q=[]}function g(e){return e.end?p(e.end):K(e)}function f(e,t){q.push({event:e,element:t}),V[e._id]?V[e._id].push(t):V[e._id]=[t]}function v(){e.each(q,function(e,t){B.trigger("eventDestroy",t.event,t.event,t.element)})}function b(e,a){a.click(function(i){return a.hasClass("ui-draggable-dragging")||a.hasClass("ui-resizable-resizing")?t:r("eventClick",this,e,i)}).hover(function(t){r("eventMouseover",this,e,t)},function(t){r("eventMouseout",this,e,t)})}function y(e,t){T(e,t,"show")}function k(e,t){T(e,t,"hide")}function T(e,t,a){var i,n=V[e._id],o=n.length;for(i=0;o>i;i++)t&&n[i][0]==t[0]||n[i][a]()}function C(e,t,a,i,n,o,l){var s=t.allDay,d=t._id;E(W[d],a,i,n),r("eventDrop",e,t,a,i,n,function(){E(W[d],-a,-i,s),H(d)},o,l),H(d)}function w(e,t,a,i,n,o){var l=t._id;S(W[l],a,i),r("eventResize",e,t,a,i,function(){S(W[l],-a,-i),H(l)},n,o),H(l)}function E(e,a,i,n){i=i||0;for(var o,r=e.length,l=0;r>l;l++)o=e[l],n!==t&&(o.allDay=n),c(s(o.start,a,!0),i),o.end&&(o.end=c(s(o.end,a,!0),i)),j(o,$)}function S(e,t,a){a=a||0;for(var i,n=e.length,o=0;n>o;o++)i=e[o],i.end=c(s(g(i),t,!0),a),j(i,$)}function D(e){return"object"==typeof e&&(e=e.getDay()),Z[e]}function R(){return G}function A(e,t,a){for(t=t||1;Z[(e.getDay()+(a?t:0)+7)%7];)s(e,t)}function I(){var e=x.apply(null,arguments),t=L(e),a=_(t);return a}function x(e,t){var a=B.getColCnt(),i=Q?-1:1,n=Q?a-1:0;"object"==typeof e&&(t=e.col,e=e.row);var o=e*a+(t*i+n);return o}function L(e){var t=B.visStart.getDay();return e+=X[t],7*Math.floor(e/G)+J[(e%G+G)%G]-t}function _(e){var t=p(B.visStart);return s(t,e),t}function F(e){var t=O(e),a=N(t),i=P(a);return i}function O(e){return m(e,B.visStart)}function N(e){var t=B.visStart.getDay();return e+=t,Math.floor(e/7)*G+X[(e%7+7)%7]-X[t]}function P(e){var t=B.getColCnt(),a=Q?-1:1,i=Q?t-1:0,n=Math.floor(e/t),o=(e%t+t)%t*a+i;return{row:n,col:o}}function z(e,t){for(var a=B.getRowCnt(),i=B.getColCnt(),n=[],o=O(e),r=O(t),l=N(o),s=N(r)-1,d=0;a>d;d++){var c=d*i,u=c+i-1,p=Math.max(l,c),h=Math.min(s,u);if(h>=p){var m=P(p),g=P(h),f=[m.col,g.col].sort(),v=L(p)==o,b=L(h)+1==r;n.push({row:d,leftCol:f[0],rightCol:f[1],isStart:v,isEnd:b})}}return n}var B=this;B.element=a,B.calendar=i,B.name=n,B.opt=o,B.trigger=r,B.isEventDraggable=l,B.isEventResizable=d,B.setEventData=u,B.clearEventData=h,B.eventEnd=g,B.reportEventElement=f,B.triggerEventDestroy=v,B.eventElementHandlers=b,B.showEvents=y,B.hideEvents=k,B.eventDrop=C,B.eventResize=w;var K=B.defaultEventEnd,j=i.normalizeEvent,H=i.reportEventChange,W={},V={},q=[],$=i.options;B.isHiddenDay=D,B.skipHiddenDays=A,B.getCellsPerWeek=R,B.dateToCell=F,B.dateToDayOffset=O,B.dayOffsetToCellOffset=N,B.cellOffsetToCell=P,B.cellToDate=I,B.cellToCellOffset=x,B.cellOffsetToDayOffset=L,B.dayOffsetToDate=_,B.rangeToSegments=z;var G,Y=o("hiddenDays")||[],Z=[],X=[],J=[],Q=o("isRTL");!function(){o("weekends")===!1&&Y.push(0,6);for(var t=0,a=0;7>t;t++)X[t]=a,Z[t]=-1!=e.inArray(t,Y),Z[t]||(J[a]=t,a++);if(G=a,!G)throw"invalid hiddenDays"}()}function pt(){function t(e,t){var a=i(e,!1,!0);mt(a,function(e,t){_(e.event,t)}),y(a,t),mt(a,function(e,t){A("eventAfterRender",e.event,e.event,t)})}function a(e,t,a){var n=i([e],!0,!1),o=[];return mt(n,function(e,i){e.row===t&&i.css("top",a),o.push(i[0])}),o}function i(t,a,i){var o,s,d=Y(),p=a?e("<div/>"):d,h=n(t);return r(h),o=l(h),p[0].innerHTML=o,s=p.children(),a&&d.append(s),c(h,s),mt(h,function(e,t){e.hsides=R(t,!0)}),mt(h,function(e,t){t.width(Math.max(0,e.outerWidth-e.hsides))}),mt(h,function(e,t){e.outerHeight=t.outerHeight(!0)}),u(h,i),h}function n(e){for(var t=[],a=0;e.length>a;a++){var i=o(e[a]);t.push.apply(t,i)}return t}function o(e){for(var t=e.start,a=C(e),i=tt(t,a),n=0;i.length>n;n++)i[n].event=e;return i}function r(e){for(var t=D("isRTL"),a=0;e.length>a;a++){var i=e[a],n=(t?i.isEnd:i.isStart)?$:U,o=(t?i.isStart:i.isEnd)?G:q,r=n(i.leftCol),l=o(i.rightCol);i.left=r,i.outerWidth=l-r}}function l(e){for(var t="",a=0;e.length>a;a++)t+=d(e[a]);return t}function d(e){var t="",a=D("isRTL"),i=e.event,n=i.url,o=["fc-event","fc-event-hori"];I(i)&&o.push("fc-event-draggable"),e.isStart&&o.push("fc-event-start"),e.isEnd&&o.push("fc-event-end"),o=o.concat(i.className),i.source&&(o=o.concat(i.source.className||[]));var r=W(i,D);return t+=n?"<a href='"+K(n)+"'":"<div",t+=" class='"+o.join(" ")+"' style='position:absolute;left:"+e.left+"px;"+r+"'><div class='fc-event-inner'>",!i.allDay&&e.isStart&&(t+="<span class='fc-event-time'>"+K(Z(i.start,i.end,D("timeFormat")))+"</span>"),t+="<span class='fc-event-title'>"+K(i.title||"")+"</span></div>",e.isEnd&&x(i)&&(t+="<div class='ui-resizable-handle ui-resizable-"+(a?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),t+="</"+(n?"a":"div")+">"}function c(t,a){for(var i=0;t.length>i;i++){var n=t[i],o=n.event,r=a.eq(i),l=A("eventRender",o,o,r);l===!1?r.remove():(l&&l!==!0&&(l=e(l).css({position:"absolute",left:n.left}),r.replaceWith(l),r=l),n.element=r)}}function u(e,t){var a=h(e),i=b(),n=[];if(t)for(var o=0;i.length>o;o++)i[o].height(a[o]);for(var o=0;i.length>o;o++)n.push(i[o].position().top);mt(e,function(e,t){t.css("top",n[e.row]+e.top)})}function h(e){for(var t=M(),a=H(),i=[],n=g(e),o=0;t>o;o++){for(var r=n[o],l=[],s=0;a>s;s++)l.push(0);for(var d=0;r.length>d;d++){var c=r[d];c.top=z(l.slice(c.leftCol,c.rightCol+1));for(var s=c.leftCol;c.rightCol>=s;s++)l[s]=c.top+c.outerHeight}i.push(z(l))}return i}function g(e){var t,a,i,n=M(),o=[];for(t=0;e.length>t;t++)a=e[t],i=a.row,a.element&&(o[i]?o[i].push(a):o[i]=[a]);for(i=0;n>i;i++)o[i]=f(o[i]||[]);return o}function f(e){for(var t=[],a=v(e),i=0;a.length>i;i++)t.push.apply(t,a[i]);return t}function v(e){e.sort(gt);for(var t=[],a=0;e.length>a;a++){for(var i=e[a],n=0;t.length>n&&ht(i,t[n]);n++);t[n]?t[n].push(i):t[n]=[i]}return t}function b(){var e,t=M(),a=[];for(e=0;t>e;e++)a[e]=V(e).find("div.fc-day-content > div");return a}function y(e,t){var a=Y();mt(e,function(e,a,i){var n=e.event;n._id===t?k(n,a,e):a[0]._fci=i}),E(a,e,k)}function k(e,t,a){I(e)&&S.draggableDayEvent(e,t,a),a.isEnd&&x(e)&&S.resizableDayEvent(e,t,a),F(e,t)}function T(e,t){var a,i=et();t.draggable({delay:50,opacity:D("dragOpacity"),revertDuration:D("dragRevertDuration"),start:function(n,o){A("eventDragStart",t,e,n,o),N(e,t),i.start(function(i,n,o,r){if(t.draggable("option","revert",!i||!o&&!r),J(),i){var l=at(n),d=at(i);a=m(d,l),X(s(p(e.start),a),s(C(e),a))}else a=0},n,"drag")},stop:function(n,o){i.stop(),J(),A("eventDragStop",t,e,n,o),a?P(this,e,a,0,e.allDay,n,o):(t.css("filter",""),O(e,t))}})}function w(t,i,n){var o=D("isRTL"),r=o?"w":"e",l=i.find(".ui-resizable-"+r),d=!1;j(i),i.mousedown(function(e){e.preventDefault()}).click(function(e){d&&(e.preventDefault(),e.stopImmediatePropagation())}),l.mousedown(function(o){function l(a){A("eventResizeStop",this,t,a),e("body").css("cursor",""),c.stop(),J(),u&&B(this,t,u,0,a),setTimeout(function(){d=!1},0)}if(1==o.which){d=!0;var c=et();M(),H();var u,p,h=i.css("top"),m=e.extend({},t),g=rt(ot(t.start));Q(),e("body").css("cursor",r+"-resize").one("mouseup",l),A("eventResizeStart",this,t,o),c.start(function(i,o){if(i){var l=it(o),d=it(i);if(d=Math.max(d,g),u=nt(d)-nt(l)){m.end=s(L(t),u,!0);var c=p;p=a(m,n.row,h),p=e(p),p.find("*").css("cursor",r+"-resize"),c&&c.remove(),N(t)}else p&&(O(t),p.remove(),p=null);J(),X(t.start,s(C(t),u))}},o)}})}var S=this;S.renderDayEvents=t,S.draggableDayEvent=T,S.resizableDayEvent=w;var D=S.opt,A=S.trigger,I=S.isEventDraggable,x=S.isEventResizable,L=S.eventEnd,_=S.reportEventElement,F=S.eventElementHandlers,O=S.showEvents,N=S.hideEvents,P=S.eventDrop,B=S.eventResize,M=S.getRowCnt,H=S.getColCnt;S.getColWidth;var V=S.allDayRow,U=S.colLeft,q=S.colRight,$=S.colContentLeft,G=S.colContentRight;S.dateToCell;var Y=S.getDaySegmentContainer,Z=S.calendar.formatDates,X=S.renderDayOverlay,J=S.clearOverlays,Q=S.clearSelection,et=S.getHoverListener,tt=S.rangeToSegments,at=S.cellToDate,it=S.cellToCellOffset,nt=S.cellOffsetToDayOffset,ot=S.dateToDayOffset,rt=S.dayOffsetToCellOffset}function ht(e,t){for(var a=0;t.length>a;a++){var i=t[a];if(i.leftCol<=e.rightCol&&i.rightCol>=e.leftCol)return!0}return!1}function mt(e,t){for(var a=0;e.length>a;a++){var i=e[a],n=i.element;n&&t(i,n,a)}}function gt(e,t){return t.rightCol-t.leftCol-(e.rightCol-e.leftCol)||t.event.allDay-e.event.allDay||e.event.start-t.event.start||(e.event.title||"").localeCompare(t.event.title)}function ft(){function t(e,t,n){a(),t||(t=s(e,n)),d(e,t,n),i(e,t,n)}function a(e){u&&(u=!1,c(),l("unselect",null,e))}function i(e,t,a,i){u=!0,l("select",null,e,t,a,i)}function n(t){var n=o.cellToDate,l=o.getIsCellAllDay,s=o.getHoverListener(),u=o.reportDayClick;if(1==t.which&&r("selectable")){a(t);var p;s.start(function(e,t){c(),e&&l(e)?(p=[n(t),n(e)].sort(P),d(p[0],p[1],!0)):p=null},t),e(document).one("mouseup",function(e){s.stop(),p&&(+p[0]==+p[1]&&u(p[0],!0,e),i(p[0],p[1],!0,e))})}}var o=this;o.select=t,o.unselect=a,o.reportSelection=i,o.daySelectionMousedown=n;var r=o.opt,l=o.trigger,s=o.defaultSelectionEnd,d=o.renderSelection,c=o.clearSelection,u=!1;r("selectable")&&r("unselectAuto")&&e(document).mousedown(function(t){var i=r("unselectCancel");i&&e(t.target).parents(i).length||a(t)})}function vt(){function t(t,a){var i=o.shift();return i||(i=e("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),i[0].parentNode!=a[0]&&i.appendTo(a),n.push(i.css(t).show()),i}function a(){for(var e;e=n.shift();)o.push(e.hide().unbind())}var i=this;i.renderOverlay=t,i.clearOverlays=a;var n=[],o=[]}function bt(e){var t,a,i=this;i.build=function(){t=[],a=[],e(t,a)},i.cell=function(e,i){var n,o=t.length,r=a.length,l=-1,s=-1;for(n=0;o>n;n++)if(i>=t[n][0]&&t[n][1]>i){l=n;break}for(n=0;r>n;n++)if(e>=a[n][0]&&a[n][1]>e){s=n;break}return l>=0&&s>=0?{row:l,col:s}:null},i.rect=function(e,i,n,o,r){var l=r.offset();return{top:t[e][0]-l.top,left:a[i][0]-l.left,width:a[o][1]-a[i][0],height:t[n][1]-t[e][0]}}}function yt(t){function a(e){kt(e);var a=t.cell(e.pageX,e.pageY);(!a!=!r||a&&(a.row!=r.row||a.col!=r.col))&&(a?(o||(o=a),n(a,o,a.row-o.row,a.col-o.col)):n(a,o),r=a)}var i,n,o,r,l=this;l.start=function(l,s,d){n=l,o=r=null,t.build(),a(s),i=d||"mousemove",e(document).bind(i,a)},l.stop=function(){return e(document).unbind(i,a),r}}function kt(e){e.pageX===t&&(e.pageX=e.originalEvent.pageX,e.pageY=e.originalEvent.pageY)}function Tt(e){function a(t){return n[t]=n[t]||e(t)}var i=this,n={},o={},r={};i.left=function(e){return o[e]=o[e]===t?a(e).position().left:o[e]},i.right=function(e){return r[e]=r[e]===t?i.left(e)+a(e).width():r[e]},i.clear=function(){n={},o={},r={}}}var Ct={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},wt={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Et=e.fullCalendar={version:"1.6.4"},St=Et.views={};e.fn.fullCalendar=function(a){if("string"==typeof a){var n,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=e.data(this,"fullCalendar");if(i&&e.isFunction(i[a])){var r=i[a].apply(i,o);n===t&&(n=r),"destroy"==a&&e.removeData(this,"fullCalendar")}}),n!==t?n:this}a=a||{};var r=a.eventSources||[];return delete a.eventSources,a.events&&(r.push(a.events),delete a.events),a=e.extend(!0,{},Ct,a.isRTL||a.isRTL===t&&Ct.isRTL?wt:{},a),this.each(function(t,n){var o=e(n),l=new i(o,a,r);o.data("fullCalendar",l),l.render()}),this},Et.sourceNormalizers=[],Et.sourceFetchers=[];var Dt={dataType:"json",cache:!1},Rt=1;Et.addDays=s,Et.cloneDate=p,Et.parseDate=f,Et.parseISO8601=v,Et.parseTime=b,Et.formatDate=y,Et.formatDates=k;var At=["sun","mon","tue","wed","thu","fri","sat"],It=864e5,xt=36e5,Lt=6e4,_t={s:function(e){return e.getSeconds()},ss:function(e){return B(e.getSeconds())},m:function(e){return e.getMinutes()},mm:function(e){return B(e.getMinutes())},h:function(e){return e.getHours()%12||12},hh:function(e){return B(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return B(e.getHours())},d:function(e){return e.getDate()},dd:function(e){return B(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return B(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return(e.getFullYear()+"").substring(2)},yyyy:function(e){return e.getFullYear()},t:function(e){return 12>e.getHours()?"a":"p"},tt:function(e){return 12>e.getHours()?"am":"pm"},T:function(e){return 12>e.getHours()?"A":"P"},TT:function(e){return 12>e.getHours()?"AM":"PM"},u:function(e){return y(e,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(e){var t=e.getDate();return t>10&&20>t?"th":["st","nd","rd"][t%10-1]||"th"},w:function(e,t){return t.weekNumberCalculation(e)},W:function(e){return T(e)}};Et.dateFormatters=_t,Et.applyAll=V,St.month=q,St.basicWeek=$,St.basicDay=G,a({weekMode:"fixed"}),St.agendaWeek=X,St.agendaDay=J,a({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24,slotEventOverlap:!0})}(jQuery),!function(e){function t(t,a,l){var s=t.success,d=e.extend({},t.data||{},{"start-min":i(a,"u"),"start-max":i(l,"u"),singleevents:!0,"max-results":9999}),c=t.currentTimezone;return c&&(d.ctz=c=c.replace(" ","_")),e.extend({},t,{url:t.url.replace(/\/basic$/,"/full")+"?alt=json-in-script&callback=?",dataType:"jsonp",data:d,startParam:!1,endParam:!1,success:function(t){var a=[];t.feed.entry&&e.each(t.feed.entry,function(t,i){var r,l=i.gd$when[0].startTime,s=n(l,!0),d=n(i.gd$when[0].endTime,!0),u=-1==l.indexOf("T");e.each(i.link,function(e,t){"text/html"==t.type&&(r=t.href,c&&(r+=(-1==r.indexOf("?")?"?":"&")+"ctz="+c))}),u&&o(d,-1),a.push({id:i.gCal$uid.value,title:i.title.$t,url:r,start:s,end:d,allDay:u,location:i.gd$where[0].valueString,description:i.content.$t})});var i=[a].concat(Array.prototype.slice.call(arguments,1)),l=r(s,this,i);return e.isArray(l)?l:a}})}var a=e.fullCalendar,i=a.formatDate,n=a.parseISO8601,o=a.addDays,r=a.applyAll;a.sourceNormalizers.push(function(e){("gcal"==e.dataType||void 0===e.dataType&&(e.url||"").match(/^(http|https):\/\/www.google.com\/calendar\/feeds\//))&&(e.dataType="gcal",void 0===e.editable&&(e.editable=!1))}),a.sourceFetchers.push(function(e,a,i){return"gcal"==e.dataType?t(e,a,i):void 0}),a.gcalFeed=function(t,a){return e.extend({},a,{url:t,dataType:"gcal"})}}(jQuery),/*!
 * Easy pie chart is a jquery plugin to display simple animated pie charts for only one value
 *
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Built on top of the jQuery library (http://jquery.com)
 *
 * @source: http://github.com/rendro/easy-pie-chart/
 * @autor: Robert Fleischmann
 * @version: 1.2.5
 *
 * Inspired by: http://dribbble.com/shots/631074-Simple-Pie-Charts-II?list=popular&offset=210
 * Thanks to Philip Thrasher for the jquery plugin boilerplate for coffee script
 */
!function(e){return e.easyPieChart=function(t,a){var i,n,o,r,l,s,d,c,u=this;return this.el=t,this.$el=e(t),this.$el.data("easyPieChart",this),this.init=function(){var t,i;return u.options=e.extend({},e.easyPieChart.defaultOptions,a),t=parseInt(u.$el.data("percent"),10),u.percentage=0,u.canvas=e("<canvas width='"+u.options.size+"' height='"+u.options.size+"'></canvas>").get(0),u.$el.append(u.canvas),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(u.canvas),u.ctx=u.canvas.getContext("2d"),window.devicePixelRatio>1&&(i=window.devicePixelRatio,e(u.canvas).css({width:u.options.size,height:u.options.size}),u.canvas.width*=i,u.canvas.height*=i,u.ctx.scale(i,i)),u.ctx.translate(u.options.size/2,u.options.size/2),u.ctx.rotate(u.options.rotate*Math.PI/180),u.$el.addClass("easyPieChart"),u.$el.css({width:u.options.size,height:u.options.size,lineHeight:""+u.options.size+"px"}),u.update(t),u},this.update=function(e){return e=parseFloat(e)||0,u.options.animate===!1?o(e):u.options.delay?(n(u.percentage,0),setTimeout(function(){return n(u.percentage,e)},u.options.delay)):n(u.percentage,e),u},d=function(){var e,t,a;for(u.ctx.fillStyle=u.options.scaleColor,u.ctx.lineWidth=1,a=[],e=t=0;24>=t;e=++t)a.push(i(e));return a},i=function(e){var t;t=0===e%6?0:.017*u.options.size,u.ctx.save(),u.ctx.rotate(e*Math.PI/12),u.ctx.fillRect(u.options.size/2-t,0,.05*-u.options.size+t,1),u.ctx.restore()},c=function(){var e;e=u.options.size/2-u.options.lineWidth/2,u.options.scaleColor!==!1&&(e-=.08*u.options.size),u.ctx.beginPath(),u.ctx.arc(0,0,e,0,2*Math.PI,!0),u.ctx.closePath(),u.ctx.strokeStyle=u.options.trackColor,u.ctx.lineWidth=u.options.lineWidth,u.ctx.stroke()},s=function(){u.options.scaleColor!==!1&&d(),u.options.trackColor!==!1&&c()},o=function(t){var a;s(),u.ctx.strokeStyle=e.isFunction(u.options.barColor)?u.options.barColor(t):u.options.barColor,u.ctx.lineCap=u.options.lineCap,u.ctx.lineWidth=u.options.lineWidth,a=u.options.size/2-u.options.lineWidth/2,u.options.scaleColor!==!1&&(a-=.08*u.options.size),u.ctx.save(),u.ctx.rotate(-Math.PI/2),u.ctx.beginPath(),u.ctx.arc(0,0,a,0,2*Math.PI*t/100,!1),u.ctx.stroke(),u.ctx.restore()},l=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),n=function(e,t){var a,i;u.options.onStart.call(u),u.percentage=t,Date.now||(Date.now=function(){return+new Date}),i=Date.now(),a=function(){var n,d;return d=Math.min(Date.now()-i,u.options.animate),u.ctx.clearRect(-u.options.size/2,-u.options.size/2,u.options.size,u.options.size),s.call(u),n=[r(d,e,t-e,u.options.animate)],u.options.onStep.call(u,n),o.call(u,n),d>=u.options.animate?u.options.onStop.call(u,n,t):l(a)},l(a)},r=function(e,t,a,i){var n,o;return n=function(e){return Math.pow(e,2)},o=function(e){return 1>e?n(e):2-n(-2*(e/2)+2)},e/=i/2,a/2*o(e)+t},this.init()},e.easyPieChart.defaultOptions={barColor:"#ef1e25",trackColor:"#f2f2f2",scaleColor:"#dfe0e0",lineCap:"round",rotate:0,size:110,lineWidth:3,animate:!1,delay:!1,onStart:e.noop,onStop:e.noop,onStep:e.noop},void(e.fn.easyPieChart=function(t){return e.each(this,function(a,i){var n,o;return n=e(i),n.data("easyPieChart")?void 0:(o=e.extend({},t,n.data()),n.data("easyPieChart",new e.easyPieChart(i,o)))})})}(jQuery),/*!
 * Javascript plotting library for jQuery, version 0.8.2.
 * Copyright (c) 2007-2013 IOLA and Ole Laursen.
 * Licensed under the MIT license.
 *
 * Plugin for jQuery for working with colors. Version 1.1.
 * Inspiration from jQuery color animation plugin by John Resig.
 * Released under the MIT license by Ole Laursen, October 2009.
 */
function(e){e.color={},e.color.make=function(t,a,i,n){var o={};return o.r=t||0,o.g=a||0,o.b=i||0,o.a=null!=n?n:1,o.add=function(e,t){for(var a=0;a<e.length;++a)o[e.charAt(a)]+=t;return o.normalize()},o.scale=function(e,t){for(var a=0;a<e.length;++a)o[e.charAt(a)]*=t;return o.normalize()},o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function e(e,t,a){return e>t?e:t>a?a:t}return o.r=e(0,parseInt(o.r),255),o.g=e(0,parseInt(o.g),255),o.b=e(0,parseInt(o.b),255),o.a=e(0,o.a,1),o},o.clone=function(){return e.color.make(o.r,o.b,o.g,o.a)},o.normalize()},e.color.extract=function(t,a){var i;do{if(i=t.css(a).toLowerCase(),""!=i&&"transparent"!=i)break;t=t.parent()}while(t.length&&!e.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"==i&&(i="transparent"),e.color.parse(i)},e.color.parse=function(a){var i,n=e.color.make;if(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))return n(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10));if(i=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(a))return n(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),parseFloat(i[4]));if(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a))return n(2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3]));if(i=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(a))return n(2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3]),parseFloat(i[4]));if(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a))return n(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16));if(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a))return n(parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16));var o=e.trim(a).toLowerCase();return"transparent"==o?n(255,255,255,0):(i=t[o]||[0,0,0],n(i[0],i[1],i[2]))};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(e){function t(t,a){var i=a.children("."+t)[0];if(null==i&&(i=document.createElement("canvas"),i.className=t,e(i).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(a),!i.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");i=window.G_vmlCanvasManager.initElement(i)}this.element=i;var n=this.context=i.getContext("2d"),o=window.devicePixelRatio||1,r=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1;this.pixelRatio=o/r,this.resize(a.width(),a.height()),this.textContainer=null,this.text={},this._textCache={}}function a(a,n,o,r){function l(e,t){t=[ft].concat(t);for(var a=0;a<e.length;++a)e[a].apply(this,t)}function s(){for(var a={Canvas:t},i=0;i<r.length;++i){var n=r[i];n.init(ft,a),n.options&&e.extend(!0,nt,n.options)}}function d(t){e.extend(!0,nt,t),t&&t.colors&&(nt.colors=t.colors),null==nt.xaxis.color&&(nt.xaxis.color=e.color.parse(nt.grid.color).scale("a",.22).toString()),null==nt.yaxis.color&&(nt.yaxis.color=e.color.parse(nt.grid.color).scale("a",.22).toString()),null==nt.xaxis.tickColor&&(nt.xaxis.tickColor=nt.grid.tickColor||nt.xaxis.color),null==nt.yaxis.tickColor&&(nt.yaxis.tickColor=nt.grid.tickColor||nt.yaxis.color),null==nt.grid.borderColor&&(nt.grid.borderColor=nt.grid.color),null==nt.grid.tickColor&&(nt.grid.tickColor=e.color.parse(nt.grid.color).scale("a",.22).toString());var i,n,o,r=a.css("font-size"),s=r?+r.replace("px",""):13,d={style:a.css("font-style"),size:Math.round(.8*s),variant:a.css("font-variant"),weight:a.css("font-weight"),family:a.css("font-family")};for(o=nt.xaxes.length||1,i=0;o>i;++i)n=nt.xaxes[i],n&&!n.tickColor&&(n.tickColor=n.color),n=e.extend(!0,{},nt.xaxis,n),nt.xaxes[i]=n,n.font&&(n.font=e.extend({},d,n.font),n.font.color||(n.font.color=n.color),n.font.lineHeight||(n.font.lineHeight=Math.round(1.15*n.font.size)));for(o=nt.yaxes.length||1,i=0;o>i;++i)n=nt.yaxes[i],n&&!n.tickColor&&(n.tickColor=n.color),n=e.extend(!0,{},nt.yaxis,n),nt.yaxes[i]=n,n.font&&(n.font=e.extend({},d,n.font),n.font.color||(n.font.color=n.color),n.font.lineHeight||(n.font.lineHeight=Math.round(1.15*n.font.size)));for(nt.xaxis.noTicks&&null==nt.xaxis.ticks&&(nt.xaxis.ticks=nt.xaxis.noTicks),nt.yaxis.noTicks&&null==nt.yaxis.ticks&&(nt.yaxis.ticks=nt.yaxis.noTicks),nt.x2axis&&(nt.xaxes[1]=e.extend(!0,{},nt.xaxis,nt.x2axis),nt.xaxes[1].position="top"),nt.y2axis&&(nt.yaxes[1]=e.extend(!0,{},nt.yaxis,nt.y2axis),nt.yaxes[1].position="right"),nt.grid.coloredAreas&&(nt.grid.markings=nt.grid.coloredAreas),nt.grid.coloredAreasColor&&(nt.grid.markingsColor=nt.grid.coloredAreasColor),nt.lines&&e.extend(!0,nt.series.lines,nt.lines),nt.points&&e.extend(!0,nt.series.points,nt.points),nt.bars&&e.extend(!0,nt.series.bars,nt.bars),null!=nt.shadowSize&&(nt.series.shadowSize=nt.shadowSize),null!=nt.highlightColor&&(nt.series.highlightColor=nt.highlightColor),i=0;i<nt.xaxes.length;++i)f(ct,i+1).options=nt.xaxes[i];for(i=0;i<nt.yaxes.length;++i)f(ut,i+1).options=nt.yaxes[i];for(var c in gt)nt.hooks[c]&&nt.hooks[c].length&&(gt[c]=gt[c].concat(nt.hooks[c]));l(gt.processOptions,[nt])}function c(e){it=u(e),v(),b()}function u(t){for(var a=[],i=0;i<t.length;++i){var n=e.extend(!0,{},nt.series);null!=t[i].data?(n.data=t[i].data,delete t[i].data,e.extend(!0,n,t[i]),t[i].data=n.data):n.data=t[i],a.push(n)}return a}function p(e,t){var a=e[t+"axis"];return"object"==typeof a&&(a=a.n),"number"!=typeof a&&(a=1),a}function h(){return e.grep(ct.concat(ut),function(e){return e})}function m(e){var t,a,i={};for(t=0;t<ct.length;++t)a=ct[t],a&&a.used&&(i["x"+a.n]=a.c2p(e.left));for(t=0;t<ut.length;++t)a=ut[t],a&&a.used&&(i["y"+a.n]=a.c2p(e.top));return void 0!==i.x1&&(i.x=i.x1),void 0!==i.y1&&(i.y=i.y1),i}function g(e){var t,a,i,n={};for(t=0;t<ct.length;++t)if(a=ct[t],a&&a.used&&(i="x"+a.n,null==e[i]&&1==a.n&&(i="x"),null!=e[i])){n.left=a.p2c(e[i]);break}for(t=0;t<ut.length;++t)if(a=ut[t],a&&a.used&&(i="y"+a.n,null==e[i]&&1==a.n&&(i="y"),null!=e[i])){n.top=a.p2c(e[i]);break}return n}function f(t,a){return t[a-1]||(t[a-1]={n:a,direction:t==ct?"x":"y",options:e.extend(!0,{},t==ct?nt.xaxis:nt.yaxis)}),t[a-1]}function v(){var t,a=it.length,i=-1;for(t=0;t<it.length;++t){var n=it[t].color;null!=n&&(a--,"number"==typeof n&&n>i&&(i=n))}i>=a&&(a=i+1);var o,r=[],l=nt.colors,s=l.length,d=0;for(t=0;a>t;t++)o=e.color.parse(l[t%s]||"#666"),t%s==0&&t&&(d=d>=0?.5>d?-d-.2:0:-d),r[t]=o.scale("rgb",1+d);var c,u=0;for(t=0;t<it.length;++t){if(c=it[t],null==c.color?(c.color=r[u].toString(),++u):"number"==typeof c.color&&(c.color=r[c.color].toString()),null==c.lines.show){var h,m=!0;for(h in c)if(c[h]&&c[h].show){m=!1;break}m&&(c.lines.show=!0)}null==c.lines.zero&&(c.lines.zero=!!c.lines.fill),c.xaxis=f(ct,p(c,"x")),c.yaxis=f(ut,p(c,"y"))}}function b(){function t(e,t,a){t<e.datamin&&t!=-b&&(e.datamin=t),a>e.datamax&&a!=b&&(e.datamax=a)}var a,i,n,o,r,s,d,c,u,p,m,g,f=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,b=Number.MAX_VALUE;for(e.each(h(),function(e,t){t.datamin=f,t.datamax=v,t.used=!1}),a=0;a<it.length;++a)r=it[a],r.datapoints={points:[]},l(gt.processRawData,[r,r.data,r.datapoints]);for(a=0;a<it.length;++a){if(r=it[a],m=r.data,g=r.datapoints.format,!g){if(g=[],g.push({x:!0,number:!0,required:!0}),g.push({y:!0,number:!0,required:!0}),r.bars.show||r.lines.show&&r.lines.fill){var y=!!(r.bars.show&&r.bars.zero||r.lines.show&&r.lines.zero);g.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:y}),r.bars.horizontal&&(delete g[g.length-1].y,g[g.length-1].x=!0)}r.datapoints.format=g}if(null==r.datapoints.pointsize){r.datapoints.pointsize=g.length,d=r.datapoints.pointsize,s=r.datapoints.points;var k=r.lines.show&&r.lines.steps;for(r.xaxis.used=r.yaxis.used=!0,i=n=0;i<m.length;++i,n+=d){p=m[i];var T=null==p;if(!T)for(o=0;d>o;++o)c=p[o],u=g[o],u&&(u.number&&null!=c&&(c=+c,isNaN(c)?c=null:1/0==c?c=b:c==-1/0&&(c=-b)),null==c&&(u.required&&(T=!0),null!=u.defaultValue&&(c=u.defaultValue))),s[n+o]=c;if(T)for(o=0;d>o;++o)c=s[n+o],null!=c&&(u=g[o],u.autoscale!==!1&&(u.x&&t(r.xaxis,c,c),u.y&&t(r.yaxis,c,c))),s[n+o]=null;else if(k&&n>0&&null!=s[n-d]&&s[n-d]!=s[n]&&s[n-d+1]!=s[n+1]){for(o=0;d>o;++o)s[n+d+o]=s[n+o];s[n+1]=s[n-d+1],n+=d}}}}for(a=0;a<it.length;++a)r=it[a],l(gt.processDatapoints,[r,r.datapoints]);for(a=0;a<it.length;++a){r=it[a],s=r.datapoints.points,d=r.datapoints.pointsize,g=r.datapoints.format;var C=f,w=f,E=v,S=v;for(i=0;i<s.length;i+=d)if(null!=s[i])for(o=0;d>o;++o)c=s[i+o],u=g[o],u&&u.autoscale!==!1&&c!=b&&c!=-b&&(u.x&&(C>c&&(C=c),c>E&&(E=c)),u.y&&(w>c&&(w=c),c>S&&(S=c)));if(r.bars.show){var D;switch(r.bars.align){case"left":D=0;break;case"right":D=-r.bars.barWidth;break;default:D=-r.bars.barWidth/2}r.bars.horizontal?(w+=D,S+=D+r.bars.barWidth):(C+=D,E+=D+r.bars.barWidth)}t(r.xaxis,C,E),t(r.yaxis,w,S)}e.each(h(),function(e,t){t.datamin==f&&(t.datamin=null),t.datamax==v&&(t.datamax=null)})}function y(){a.css("padding",0).children().filter(function(){return!e(this).hasClass("flot-overlay")&&!e(this).hasClass("flot-base")}).remove(),"static"==a.css("position")&&a.css("position","relative"),ot=new t("flot-base",a),rt=new t("flot-overlay",a),st=ot.context,dt=rt.context,lt=e(rt.element).unbind();var i=a.data("plot");i&&(i.shutdown(),rt.clear()),a.data("plot",ft)}function k(){nt.grid.hoverable&&(lt.mousemove(U),lt.bind("mouseleave",q)),nt.grid.clickable&&lt.click($),l(gt.bindEvents,[lt])}function T(){bt&&clearTimeout(bt),lt.unbind("mousemove",U),lt.unbind("mouseleave",q),lt.unbind("click",$),l(gt.shutdown,[lt])}function C(e){function t(e){return e}var a,i,n=e.options.transform||t,o=e.options.inverseTransform;"x"==e.direction?(a=e.scale=ht/Math.abs(n(e.max)-n(e.min)),i=Math.min(n(e.max),n(e.min))):(a=e.scale=mt/Math.abs(n(e.max)-n(e.min)),a=-a,i=Math.max(n(e.max),n(e.min))),e.p2c=n==t?function(e){return(e-i)*a}:function(e){return(n(e)-i)*a},e.c2p=o?function(e){return o(i+e/a)}:function(e){return i+e/a}}function w(e){for(var t=e.options,a=e.ticks||[],i=t.labelWidth||0,n=t.labelHeight||0,o=i||("x"==e.direction?Math.floor(ot.width/(a.length||1)):null),r=e.direction+"Axis "+e.direction+e.n+"Axis",l="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+r,s=t.font||"flot-tick-label tickLabel",d=0;d<a.length;++d){var c=a[d];if(c.label){var u=ot.getTextInfo(l,c.label,s,null,o);i=Math.max(i,u.width),n=Math.max(n,u.height)}}e.labelWidth=t.labelWidth||i,e.labelHeight=t.labelHeight||n}function E(t){var a=t.labelWidth,i=t.labelHeight,n=t.options.position,o="x"===t.direction,r=t.options.tickLength,l=nt.grid.axisMargin,s=nt.grid.labelMargin,d=!0,c=!0,u=!0,p=!1;e.each(o?ct:ut,function(e,a){a&&a.reserveSpace&&(a===t?p=!0:a.options.position===n&&(p?c=!1:d=!1),p||(u=!1))}),c&&(l=0),null==r&&(r=u?"full":5),isNaN(+r)||(s+=+r),o?(i+=s,"bottom"==n?(pt.bottom+=i+l,t.box={top:ot.height-pt.bottom,height:i}):(t.box={top:pt.top+l,height:i},pt.top+=i+l)):(a+=s,"left"==n?(t.box={left:pt.left+l,width:a},pt.left+=a+l):(pt.right+=a+l,t.box={left:ot.width-pt.right,width:a})),t.position=n,t.tickLength=r,t.box.padding=s,t.innermost=d}function S(e){"x"==e.direction?(e.box.left=pt.left-e.labelWidth/2,e.box.width=ot.width-pt.left-pt.right+e.labelWidth):(e.box.top=pt.top-e.labelHeight/2,e.box.height=ot.height-pt.bottom-pt.top+e.labelHeight)}function D(){var t,a=nt.grid.minBorderMargin;if(null==a)for(a=0,t=0;t<it.length;++t)a=Math.max(a,2*(it[t].points.radius+it[t].points.lineWidth/2));var i={left:a,right:a,top:a,bottom:a};e.each(h(),function(e,t){if(t.reserveSpace&&t.ticks&&t.ticks.length){var a=t.ticks[t.ticks.length-1];"x"===t.direction?(i.left=Math.max(i.left,t.labelWidth/2),a.v<=t.max&&(i.right=Math.max(i.right,t.labelWidth/2))):(i.bottom=Math.max(i.bottom,t.labelHeight/2),a.v<=t.max&&(i.top=Math.max(i.top,t.labelHeight/2)))}}),pt.left=Math.ceil(Math.max(i.left,pt.left)),pt.right=Math.ceil(Math.max(i.right,pt.right)),pt.top=Math.ceil(Math.max(i.top,pt.top)),pt.bottom=Math.ceil(Math.max(i.bottom,pt.bottom))}function R(){var t,a=h(),i=nt.grid.show;for(var n in pt){var o=nt.grid.margin||0;pt[n]="number"==typeof o?o:o[n]||0}l(gt.processOffset,[pt]);for(var n in pt)pt[n]+="object"==typeof nt.grid.borderWidth?i?nt.grid.borderWidth[n]:0:i?nt.grid.borderWidth:0;if(e.each(a,function(e,t){t.show=t.options.show,null==t.show&&(t.show=t.used),t.reserveSpace=t.show||t.options.reserveSpace,A(t)}),i){var r=e.grep(a,function(e){return e.reserveSpace});for(e.each(r,function(e,t){I(t),x(t),L(t,t.ticks),w(t)}),t=r.length-1;t>=0;--t)E(r[t]);D(),e.each(r,function(e,t){S(t)})}ht=ot.width-pt.left-pt.right,mt=ot.height-pt.bottom-pt.top,e.each(a,function(e,t){C(t)}),i&&P(),W()}function A(e){var t=e.options,a=+(null!=t.min?t.min:e.datamin),i=+(null!=t.max?t.max:e.datamax),n=i-a;if(0==n){var o=0==i?1:.01;null==t.min&&(a-=o),(null==t.max||null!=t.min)&&(i+=o)}else{var r=t.autoscaleMargin;null!=r&&(null==t.min&&(a-=n*r,0>a&&null!=e.datamin&&e.datamin>=0&&(a=0)),null==t.max&&(i+=n*r,i>0&&null!=e.datamax&&e.datamax<=0&&(i=0)))}e.min=a,e.max=i}function I(t){var a,n=t.options;a="number"==typeof n.ticks&&n.ticks>0?n.ticks:.3*Math.sqrt("x"==t.direction?ot.width:ot.height);var o=(t.max-t.min)/a,r=-Math.floor(Math.log(o)/Math.LN10),l=n.tickDecimals;null!=l&&r>l&&(r=l);var s,d=Math.pow(10,-r),c=o/d;if(1.5>c?s=1:3>c?(s=2,c>2.25&&(null==l||l>=r+1)&&(s=2.5,++r)):s=7.5>c?5:10,s*=d,null!=n.minTickSize&&s<n.minTickSize&&(s=n.minTickSize),t.delta=o,t.tickDecimals=Math.max(0,null!=l?l:r),t.tickSize=n.tickSize||s,"time"==n.mode&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(t.tickGenerator||(t.tickGenerator=function(e){var t,a=[],n=i(e.min,e.tickSize),o=0,r=Number.NaN;do t=r,r=n+o*e.tickSize,a.push(r),++o;while(r<e.max&&r!=t);return a},t.tickFormatter=function(e,t){var a=t.tickDecimals?Math.pow(10,t.tickDecimals):1,i=""+Math.round(e*a)/a;if(null!=t.tickDecimals){var n=i.indexOf("."),o=-1==n?0:i.length-n-1;if(o<t.tickDecimals)return(o?i:i+".")+(""+a).substr(1,t.tickDecimals-o)}return i}),e.isFunction(n.tickFormatter)&&(t.tickFormatter=function(e,t){return""+n.tickFormatter(e,t)}),null!=n.alignTicksWithAxis){var u=("x"==t.direction?ct:ut)[n.alignTicksWithAxis-1];if(u&&u.used&&u!=t){var p=t.tickGenerator(t);if(p.length>0&&(null==n.min&&(t.min=Math.min(t.min,p[0])),null==n.max&&p.length>1&&(t.max=Math.max(t.max,p[p.length-1]))),t.tickGenerator=function(e){var t,a,i=[];for(a=0;a<u.ticks.length;++a)t=(u.ticks[a].v-u.min)/(u.max-u.min),t=e.min+t*(e.max-e.min),i.push(t);return i},!t.mode&&null==n.tickDecimals){var h=Math.max(0,-Math.floor(Math.log(t.delta)/Math.LN10)+1),m=t.tickGenerator(t);m.length>1&&/\..*0$/.test((m[1]-m[0]).toFixed(h))||(t.tickDecimals=h)}}}}function x(t){var a=t.options.ticks,i=[];null==a||"number"==typeof a&&a>0?i=t.tickGenerator(t):a&&(i=e.isFunction(a)?a(t):a);var n,o;for(t.ticks=[],n=0;n<i.length;++n){var r=null,l=i[n];"object"==typeof l?(o=+l[0],l.length>1&&(r=l[1])):o=+l,null==r&&(r=t.tickFormatter(o,t)),isNaN(o)||t.ticks.push({v:o,label:r})}}function L(e,t){e.options.autoscaleMargin&&t.length>0&&(null==e.options.min&&(e.min=Math.min(e.min,t[0].v)),null==e.options.max&&t.length>1&&(e.max=Math.max(e.max,t[t.length-1].v)))}function _(){ot.clear(),l(gt.drawBackground,[st]);var e=nt.grid;e.show&&e.backgroundColor&&O(),e.show&&!e.aboveData&&N();for(var t=0;t<it.length;++t)l(gt.drawSeries,[st,it[t]]),z(it[t]);l(gt.draw,[st]),e.show&&e.aboveData&&N(),ot.render(),Y()}function F(e,t){for(var a,i,n,o,r=h(),l=0;l<r.length;++l)if(a=r[l],a.direction==t&&(o=t+a.n+"axis",e[o]||1!=a.n||(o=t+"axis"),e[o])){i=e[o].from,n=e[o].to;break}if(e[o]||(a="x"==t?ct[0]:ut[0],i=e[t+"1"],n=e[t+"2"]),null!=i&&null!=n&&i>n){var s=i;i=n,n=s}return{from:i,to:n,axis:a}}function O(){st.save(),st.translate(pt.left,pt.top),st.fillStyle=at(nt.grid.backgroundColor,mt,0,"rgba(255, 255, 255, 0)"),st.fillRect(0,0,ht,mt),st.restore()}function N(){var t,a,i,n;st.save(),st.translate(pt.left,pt.top);var o=nt.grid.markings;if(o)for(e.isFunction(o)&&(a=ft.getAxes(),a.xmin=a.xaxis.min,a.xmax=a.xaxis.max,a.ymin=a.yaxis.min,a.ymax=a.yaxis.max,o=o(a)),t=0;t<o.length;++t){var r=o[t],l=F(r,"x"),s=F(r,"y");null==l.from&&(l.from=l.axis.min),null==l.to&&(l.to=l.axis.max),null==s.from&&(s.from=s.axis.min),null==s.to&&(s.to=s.axis.max),l.to<l.axis.min||l.from>l.axis.max||s.to<s.axis.min||s.from>s.axis.max||(l.from=Math.max(l.from,l.axis.min),l.to=Math.min(l.to,l.axis.max),s.from=Math.max(s.from,s.axis.min),s.to=Math.min(s.to,s.axis.max),(l.from!=l.to||s.from!=s.to)&&(l.from=l.axis.p2c(l.from),l.to=l.axis.p2c(l.to),s.from=s.axis.p2c(s.from),s.to=s.axis.p2c(s.to),l.from==l.to||s.from==s.to?(st.beginPath(),st.strokeStyle=r.color||nt.grid.markingsColor,st.lineWidth=r.lineWidth||nt.grid.markingsLineWidth,st.moveTo(l.from,s.from),st.lineTo(l.to,s.to),st.stroke()):(st.fillStyle=r.color||nt.grid.markingsColor,st.fillRect(l.from,s.to,l.to-l.from,s.from-s.to))))}a=h(),i=nt.grid.borderWidth;for(var d=0;d<a.length;++d){var c,u,p,m,g=a[d],f=g.box,v=g.tickLength;if(g.show&&0!=g.ticks.length){for(st.lineWidth=1,"x"==g.direction?(c=0,u="full"==v?"top"==g.position?0:mt:f.top-pt.top+("top"==g.position?f.height:0)):(u=0,c="full"==v?"left"==g.position?0:ht:f.left-pt.left+("left"==g.position?f.width:0)),g.innermost||(st.strokeStyle=g.options.color,st.beginPath(),p=m=0,"x"==g.direction?p=ht+1:m=mt+1,1==st.lineWidth&&("x"==g.direction?u=Math.floor(u)+.5:c=Math.floor(c)+.5),st.moveTo(c,u),st.lineTo(c+p,u+m),st.stroke()),st.strokeStyle=g.options.tickColor,st.beginPath(),t=0;t<g.ticks.length;++t){var b=g.ticks[t].v;p=m=0,isNaN(b)||b<g.min||b>g.max||"full"==v&&("object"==typeof i&&i[g.position]>0||i>0)&&(b==g.min||b==g.max)||("x"==g.direction?(c=g.p2c(b),m="full"==v?-mt:v,"top"==g.position&&(m=-m)):(u=g.p2c(b),p="full"==v?-ht:v,"left"==g.position&&(p=-p)),1==st.lineWidth&&("x"==g.direction?c=Math.floor(c)+.5:u=Math.floor(u)+.5),st.moveTo(c,u),st.lineTo(c+p,u+m))}st.stroke()}}i&&(n=nt.grid.borderColor,"object"==typeof i||"object"==typeof n?("object"!=typeof i&&(i={top:i,right:i,bottom:i,left:i}),"object"!=typeof n&&(n={top:n,right:n,bottom:n,left:n}),i.top>0&&(st.strokeStyle=n.top,st.lineWidth=i.top,st.beginPath(),st.moveTo(0-i.left,0-i.top/2),st.lineTo(ht,0-i.top/2),st.stroke()),i.right>0&&(st.strokeStyle=n.right,st.lineWidth=i.right,st.beginPath(),st.moveTo(ht+i.right/2,0-i.top),st.lineTo(ht+i.right/2,mt),st.stroke()),i.bottom>0&&(st.strokeStyle=n.bottom,st.lineWidth=i.bottom,st.beginPath(),st.moveTo(ht+i.right,mt+i.bottom/2),st.lineTo(0,mt+i.bottom/2),st.stroke()),i.left>0&&(st.strokeStyle=n.left,st.lineWidth=i.left,st.beginPath(),st.moveTo(0-i.left/2,mt+i.bottom),st.lineTo(0-i.left/2,0),st.stroke())):(st.lineWidth=i,st.strokeStyle=nt.grid.borderColor,st.strokeRect(-i/2,-i/2,ht+i,mt+i))),st.restore()}function P(){e.each(h(),function(e,t){var a,i,n,o,r,l=t.box,s=t.direction+"Axis "+t.direction+t.n+"Axis",d="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+s,c=t.options.font||"flot-tick-label tickLabel";if(ot.removeText(d),t.show&&0!=t.ticks.length)for(var u=0;u<t.ticks.length;++u)a=t.ticks[u],!a.label||a.v<t.min||a.v>t.max||("x"==t.direction?(o="center",i=pt.left+t.p2c(a.v),"bottom"==t.position?n=l.top+l.padding:(n=l.top+l.height-l.padding,r="bottom")):(r="middle",n=pt.top+t.p2c(a.v),"left"==t.position?(i=l.left+l.width-l.padding,o="right"):i=l.left+l.padding),ot.addText(d,i,n,a.label,c,null,null,o,r))})}function z(e){e.lines.show&&B(e),e.bars.show&&j(e),e.points.show&&M(e)}function B(e){function t(e,t,a,i,n){var o=e.points,r=e.pointsize,l=null,s=null;st.beginPath();for(var d=r;d<o.length;d+=r){var c=o[d-r],u=o[d-r+1],p=o[d],h=o[d+1];if(null!=c&&null!=p){if(h>=u&&u<n.min){if(h<n.min)continue;c=(n.min-u)/(h-u)*(p-c)+c,u=n.min}else if(u>=h&&h<n.min){if(u<n.min)continue;p=(n.min-u)/(h-u)*(p-c)+c,h=n.min}if(u>=h&&u>n.max){if(h>n.max)continue;c=(n.max-u)/(h-u)*(p-c)+c,u=n.max}else if(h>=u&&h>n.max){if(u>n.max)continue;p=(n.max-u)/(h-u)*(p-c)+c,h=n.max}if(p>=c&&c<i.min){if(p<i.min)continue;u=(i.min-c)/(p-c)*(h-u)+u,c=i.min}else if(c>=p&&p<i.min){if(c<i.min)continue;h=(i.min-c)/(p-c)*(h-u)+u,p=i.min}if(c>=p&&c>i.max){if(p>i.max)continue;u=(i.max-c)/(p-c)*(h-u)+u,c=i.max}else if(p>=c&&p>i.max){if(c>i.max)continue;h=(i.max-c)/(p-c)*(h-u)+u,p=i.max}(c!=l||u!=s)&&st.moveTo(i.p2c(c)+t,n.p2c(u)+a),l=p,s=h,st.lineTo(i.p2c(p)+t,n.p2c(h)+a)}}st.stroke()}function a(e,t,a){for(var i=e.points,n=e.pointsize,o=Math.min(Math.max(0,a.min),a.max),r=0,l=!1,s=1,d=0,c=0;;){if(n>0&&r>i.length+n)break;r+=n;var u=i[r-n],p=i[r-n+s],h=i[r],m=i[r+s];if(l){if(n>0&&null!=u&&null==h){c=r,n=-n,s=2;continue}if(0>n&&r==d+n){st.fill(),l=!1,n=-n,s=1,r=d=c+n;continue}}if(null!=u&&null!=h){if(h>=u&&u<t.min){if(h<t.min)continue;p=(t.min-u)/(h-u)*(m-p)+p,u=t.min}else if(u>=h&&h<t.min){if(u<t.min)continue;m=(t.min-u)/(h-u)*(m-p)+p,h=t.min}if(u>=h&&u>t.max){if(h>t.max)continue;p=(t.max-u)/(h-u)*(m-p)+p,u=t.max}else if(h>=u&&h>t.max){if(u>t.max)continue;m=(t.max-u)/(h-u)*(m-p)+p,h=t.max}if(l||(st.beginPath(),st.moveTo(t.p2c(u),a.p2c(o)),l=!0),p>=a.max&&m>=a.max)st.lineTo(t.p2c(u),a.p2c(a.max)),st.lineTo(t.p2c(h),a.p2c(a.max));else if(p<=a.min&&m<=a.min)st.lineTo(t.p2c(u),a.p2c(a.min)),st.lineTo(t.p2c(h),a.p2c(a.min));else{var g=u,f=h;m>=p&&p<a.min&&m>=a.min?(u=(a.min-p)/(m-p)*(h-u)+u,p=a.min):p>=m&&m<a.min&&p>=a.min&&(h=(a.min-p)/(m-p)*(h-u)+u,m=a.min),p>=m&&p>a.max&&m<=a.max?(u=(a.max-p)/(m-p)*(h-u)+u,p=a.max):m>=p&&m>a.max&&p<=a.max&&(h=(a.max-p)/(m-p)*(h-u)+u,m=a.max),u!=g&&st.lineTo(t.p2c(g),a.p2c(p)),st.lineTo(t.p2c(u),a.p2c(p)),st.lineTo(t.p2c(h),a.p2c(m)),h!=f&&(st.lineTo(t.p2c(h),a.p2c(m)),st.lineTo(t.p2c(f),a.p2c(m)))}}}}st.save(),st.translate(pt.left,pt.top),st.lineJoin="round";var i=e.lines.lineWidth,n=e.shadowSize;if(i>0&&n>0){st.lineWidth=n,st.strokeStyle="rgba(0,0,0,0.1)";var o=Math.PI/18;t(e.datapoints,Math.sin(o)*(i/2+n/2),Math.cos(o)*(i/2+n/2),e.xaxis,e.yaxis),st.lineWidth=n/2,t(e.datapoints,Math.sin(o)*(i/2+n/4),Math.cos(o)*(i/2+n/4),e.xaxis,e.yaxis)}st.lineWidth=i,st.strokeStyle=e.color;var r=H(e.lines,e.color,0,mt);r&&(st.fillStyle=r,a(e.datapoints,e.xaxis,e.yaxis)),i>0&&t(e.datapoints,0,0,e.xaxis,e.yaxis),st.restore()}function M(e){function t(e,t,a,i,n,o,r,l){for(var s=e.points,d=e.pointsize,c=0;c<s.length;c+=d){var u=s[c],p=s[c+1];null==u||u<o.min||u>o.max||p<r.min||p>r.max||(st.beginPath(),u=o.p2c(u),p=r.p2c(p)+i,"circle"==l?st.arc(u,p,t,0,n?Math.PI:2*Math.PI,!1):l(st,u,p,t,n),st.closePath(),a&&(st.fillStyle=a,st.fill()),st.stroke())}}st.save(),st.translate(pt.left,pt.top);var a=e.points.lineWidth,i=e.shadowSize,n=e.points.radius,o=e.points.symbol;if(0==a&&(a=1e-4),a>0&&i>0){var r=i/2;st.lineWidth=r,st.strokeStyle="rgba(0,0,0,0.1)",t(e.datapoints,n,null,r+r/2,!0,e.xaxis,e.yaxis,o),st.strokeStyle="rgba(0,0,0,0.2)",t(e.datapoints,n,null,r/2,!0,e.xaxis,e.yaxis,o)}st.lineWidth=a,st.strokeStyle=e.color,t(e.datapoints,n,H(e.points,e.color),0,!1,e.xaxis,e.yaxis,o),st.restore()}function K(e,t,a,i,n,o,r,l,s,d,c){var u,p,h,m,g,f,v,b,y;d?(b=f=v=!0,g=!1,u=a,p=e,m=t+i,h=t+n,u>p&&(y=p,p=u,u=y,g=!0,f=!1)):(g=f=v=!0,b=!1,u=e+i,p=e+n,h=a,m=t,h>m&&(y=m,m=h,h=y,b=!0,v=!1)),p<r.min||u>r.max||m<l.min||h>l.max||(u<r.min&&(u=r.min,g=!1),p>r.max&&(p=r.max,f=!1),h<l.min&&(h=l.min,b=!1),m>l.max&&(m=l.max,v=!1),u=r.p2c(u),h=l.p2c(h),p=r.p2c(p),m=l.p2c(m),o&&(s.fillStyle=o(h,m),s.fillRect(u,m,p-u,h-m)),c>0&&(g||f||v||b)&&(s.beginPath(),s.moveTo(u,h),g?s.lineTo(u,m):s.moveTo(u,m),v?s.lineTo(p,m):s.moveTo(p,m),f?s.lineTo(p,h):s.moveTo(p,h),b?s.lineTo(u,h):s.moveTo(u,h),s.stroke()))}function j(e){function t(t,a,i,n,o,r){for(var l=t.points,s=t.pointsize,d=0;d<l.length;d+=s)null!=l[d]&&K(l[d],l[d+1],l[d+2],a,i,n,o,r,st,e.bars.horizontal,e.bars.lineWidth)}st.save(),st.translate(pt.left,pt.top),st.lineWidth=e.bars.lineWidth,st.strokeStyle=e.color;var a;switch(e.bars.align){case"left":a=0;break;case"right":a=-e.bars.barWidth;break;default:a=-e.bars.barWidth/2}var i=e.bars.fill?function(t,a){return H(e.bars,e.color,t,a)}:null;t(e.datapoints,a,a+e.bars.barWidth,i,e.xaxis,e.yaxis),st.restore()}function H(t,a,i,n){var o=t.fill;if(!o)return null;if(t.fillColor)return at(t.fillColor,i,n,a);var r=e.color.parse(a);return r.a="number"==typeof o?o:.4,r.normalize(),r.toString()}function W(){if(null!=nt.legend.container?e(nt.legend.container).html(""):a.find(".legend").remove(),nt.legend.show){for(var t,i,n=[],o=[],r=!1,l=nt.legend.labelFormatter,s=0;s<it.length;++s)t=it[s],t.label&&(i=l?l(t.label,t):t.label,i&&o.push({label:i,color:t.color}));if(nt.legend.sorted)if(e.isFunction(nt.legend.sorted))o.sort(nt.legend.sorted);else if("reverse"==nt.legend.sorted)o.reverse();else{var d="descending"!=nt.legend.sorted;o.sort(function(e,t){return e.label==t.label?0:e.label<t.label!=d?1:-1})}for(var s=0;s<o.length;++s){var c=o[s];s%nt.legend.noColumns==0&&(r&&n.push("</tr>"),n.push("<tr>"),r=!0),n.push('<td class="legendColorBox"><div style="border:1px solid '+nt.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+c.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+c.label+"</td>")}if(r&&n.push("</tr>"),0!=n.length){var u='<table style="font-size:smaller;color:'+nt.grid.color+'">'+n.join("")+"</table>";if(null!=nt.legend.container)e(nt.legend.container).html(u);else{var p="",h=nt.legend.position,m=nt.legend.margin;null==m[0]&&(m=[m,m]),"n"==h.charAt(0)?p+="top:"+(m[1]+pt.top)+"px;":"s"==h.charAt(0)&&(p+="bottom:"+(m[1]+pt.bottom)+"px;"),"e"==h.charAt(1)?p+="right:"+(m[0]+pt.right)+"px;":"w"==h.charAt(1)&&(p+="left:"+(m[0]+pt.left)+"px;");var g=e('<div class="legend">'+u.replace('style="','style="position:absolute;'+p+";")+"</div>").appendTo(a);if(0!=nt.legend.backgroundOpacity){var f=nt.legend.backgroundColor;null==f&&(f=nt.grid.backgroundColor,f=f&&"string"==typeof f?e.color.parse(f):e.color.extract(g,"background-color"),f.a=1,f=f.toString());var v=g.children();e('<div style="position:absolute;width:'+v.width()+"px;height:"+v.height()+"px;"+p+"background-color:"+f+';"> </div>').prependTo(g).css("opacity",nt.legend.backgroundOpacity)}}}}}function V(e,t,a){var i,n,o,r=nt.grid.mouseActiveRadius,l=r*r+1,s=null;for(i=it.length-1;i>=0;--i)if(a(it[i])){var d=it[i],c=d.xaxis,u=d.yaxis,p=d.datapoints.points,h=c.c2p(e),m=u.c2p(t),g=r/c.scale,f=r/u.scale;if(o=d.datapoints.pointsize,c.options.inverseTransform&&(g=Number.MAX_VALUE),u.options.inverseTransform&&(f=Number.MAX_VALUE),d.lines.show||d.points.show)for(n=0;n<p.length;n+=o){var v=p[n],b=p[n+1];if(null!=v&&!(v-h>g||-g>v-h||b-m>f||-f>b-m)){var y=Math.abs(c.p2c(v)-e),k=Math.abs(u.p2c(b)-t),T=y*y+k*k;l>T&&(l=T,s=[i,n/o])}}if(d.bars.show&&!s){var C,w;switch(d.bars.align){case"left":C=0;break;case"right":C=-d.bars.barWidth;break;default:C=-d.bars.barWidth/2}for(w=C+d.bars.barWidth,n=0;n<p.length;n+=o){var v=p[n],b=p[n+1],E=p[n+2];null!=v&&(it[i].bars.horizontal?h<=Math.max(E,v)&&h>=Math.min(E,v)&&m>=b+C&&b+w>=m:h>=v+C&&v+w>=h&&m>=Math.min(E,b)&&m<=Math.max(E,b))&&(s=[i,n/o])}}}return s?(i=s[0],n=s[1],o=it[i].datapoints.pointsize,{datapoint:it[i].datapoints.points.slice(n*o,(n+1)*o),dataIndex:n,series:it[i],seriesIndex:i}):null}function U(e){nt.grid.hoverable&&G("plothover",e,function(e){return 0!=e.hoverable})}function q(e){nt.grid.hoverable&&G("plothover",e,function(){return!1})}function $(e){G("plotclick",e,function(e){return 0!=e.clickable})}function G(e,t,i){var n=lt.offset(),o=t.pageX-n.left-pt.left,r=t.pageY-n.top-pt.top,l=m({left:o,top:r});l.pageX=t.pageX,l.pageY=t.pageY;var s=V(o,r,i);if(s&&(s.pageX=parseInt(s.series.xaxis.p2c(s.datapoint[0])+n.left+pt.left,10),s.pageY=parseInt(s.series.yaxis.p2c(s.datapoint[1])+n.top+pt.top,10)),nt.grid.autoHighlight){for(var d=0;d<vt.length;++d){var c=vt[d];c.auto!=e||s&&c.series==s.series&&c.point[0]==s.datapoint[0]&&c.point[1]==s.datapoint[1]||J(c.series,c.point)}s&&X(s.series,s.datapoint,e)}a.trigger(e,[l,s])}function Y(){var e=nt.interaction.redrawOverlayInterval;return-1==e?void Z():void(bt||(bt=setTimeout(Z,e)))}function Z(){bt=null,dt.save(),rt.clear(),dt.translate(pt.left,pt.top);var e,t;for(e=0;e<vt.length;++e)t=vt[e],t.series.bars.show?tt(t.series,t.point):et(t.series,t.point);dt.restore(),l(gt.drawOverlay,[dt])}function X(e,t,a){if("number"==typeof e&&(e=it[e]),"number"==typeof t){var i=e.datapoints.pointsize;t=e.datapoints.points.slice(i*t,i*(t+1))}var n=Q(e,t);-1==n?(vt.push({series:e,point:t,auto:a}),Y()):a||(vt[n].auto=!1)}function J(e,t){if(null==e&&null==t)return vt=[],void Y();if("number"==typeof e&&(e=it[e]),"number"==typeof t){var a=e.datapoints.pointsize;t=e.datapoints.points.slice(a*t,a*(t+1))}var i=Q(e,t);-1!=i&&(vt.splice(i,1),Y())}function Q(e,t){for(var a=0;a<vt.length;++a){var i=vt[a];if(i.series==e&&i.point[0]==t[0]&&i.point[1]==t[1])return a}return-1}function et(t,a){var i=a[0],n=a[1],o=t.xaxis,r=t.yaxis,l="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString();if(!(i<o.min||i>o.max||n<r.min||n>r.max)){var s=t.points.radius+t.points.lineWidth/2;dt.lineWidth=s,dt.strokeStyle=l;var d=1.5*s;i=o.p2c(i),n=r.p2c(n),dt.beginPath(),"circle"==t.points.symbol?dt.arc(i,n,d,0,2*Math.PI,!1):t.points.symbol(dt,i,n,d,!1),dt.closePath(),dt.stroke()}}function tt(t,a){var i,n="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString(),o=n;switch(t.bars.align){case"left":i=0;break;case"right":i=-t.bars.barWidth;break;default:i=-t.bars.barWidth/2}dt.lineWidth=t.bars.lineWidth,dt.strokeStyle=n,K(a[0],a[1],a[2]||0,i,i+t.bars.barWidth,function(){return o},t.xaxis,t.yaxis,dt,t.bars.horizontal,t.bars.lineWidth)}function at(t,a,i,n){if("string"==typeof t)return t;for(var o=st.createLinearGradient(0,i,0,a),r=0,l=t.colors.length;l>r;++r){var s=t.colors[r];if("string"!=typeof s){var d=e.color.parse(n);null!=s.brightness&&(d=d.scale("rgb",s.brightness)),null!=s.opacity&&(d.a*=s.opacity),s=d.toString()}o.addColorStop(r/(l-1),s)}return o}var it=[],nt={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},ot=null,rt=null,lt=null,st=null,dt=null,ct=[],ut=[],pt={left:0,right:0,top:0,bottom:0},ht=0,mt=0,gt={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},ft=this;ft.setData=c,ft.setupGrid=R,ft.draw=_,ft.getPlaceholder=function(){return a},ft.getCanvas=function(){return ot.element},ft.getPlotOffset=function(){return pt},ft.width=function(){return ht},ft.height=function(){return mt},ft.offset=function(){var e=lt.offset();return e.left+=pt.left,e.top+=pt.top,e},ft.getData=function(){return it},ft.getAxes=function(){var t={};
return e.each(ct.concat(ut),function(e,a){a&&(t[a.direction+(1!=a.n?a.n:"")+"axis"]=a)}),t},ft.getXAxes=function(){return ct},ft.getYAxes=function(){return ut},ft.c2p=m,ft.p2c=g,ft.getOptions=function(){return nt},ft.highlight=X,ft.unhighlight=J,ft.triggerRedrawOverlay=Y,ft.pointOffset=function(e){return{left:parseInt(ct[p(e,"x")-1].p2c(+e.x)+pt.left,10),top:parseInt(ut[p(e,"y")-1].p2c(+e.y)+pt.top,10)}},ft.shutdown=T,ft.destroy=function(){T(),a.removeData("plot").empty(),it=[],nt=null,ot=null,rt=null,lt=null,st=null,dt=null,ct=[],ut=[],gt=null,vt=[],ft=null},ft.resize=function(){var e=a.width(),t=a.height();ot.resize(e,t),rt.resize(e,t)},ft.hooks=gt,s(ft),d(o),y(),c(n),R(),_(),k();var vt=[],bt=null}function i(e,t){return t*Math.floor(e/t)}var n=Object.prototype.hasOwnProperty;t.prototype.resize=function(e,t){if(0>=e||0>=t)throw new Error("Invalid dimensions for plot, width = "+e+", height = "+t);var a=this.element,i=this.context,n=this.pixelRatio;this.width!=e&&(a.width=e*n,a.style.width=e+"px",this.width=e),this.height!=t&&(a.height=t*n,a.style.height=t+"px",this.height=t),i.restore(),i.save(),i.scale(n,n)},t.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},t.prototype.render=function(){var e=this._textCache;for(var t in e)if(n.call(e,t)){var a=this.getTextLayer(t),i=e[t];a.hide();for(var o in i)if(n.call(i,o)){var r=i[o];for(var l in r)if(n.call(r,l)){for(var s,d=r[l].positions,c=0;s=d[c];c++)s.active?s.rendered||(a.append(s.element),s.rendered=!0):(d.splice(c--,1),s.rendered&&s.element.detach());0==d.length&&delete r[l]}}a.show()}},t.prototype.getTextLayer=function(t){var a=this.text[t];return null==a&&(null==this.textContainer&&(this.textContainer=e("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),a=this.text[t]=e("<div></div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),a},t.prototype.getTextInfo=function(t,a,i,n,o){var r,l,s,d;if(a=""+a,r="object"==typeof i?i.style+" "+i.variant+" "+i.weight+" "+i.size+"px/"+i.lineHeight+"px "+i.family:i,l=this._textCache[t],null==l&&(l=this._textCache[t]={}),s=l[r],null==s&&(s=l[r]={}),d=s[a],null==d){var c=e("<div></div>").html(a).css({position:"absolute","max-width":o,top:-9999}).appendTo(this.getTextLayer(t));"object"==typeof i?c.css({font:r,color:i.color}):"string"==typeof i&&c.addClass(i),d=s[a]={width:c.outerWidth(!0),height:c.outerHeight(!0),element:c,positions:[]},c.detach()}return d},t.prototype.addText=function(e,t,a,i,n,o,r,l,s){var d=this.getTextInfo(e,i,n,o,r),c=d.positions;"center"==l?t-=d.width/2:"right"==l&&(t-=d.width),"middle"==s?a-=d.height/2:"bottom"==s&&(a-=d.height);for(var u,p=0;u=c[p];p++)if(u.x==t&&u.y==a)return void(u.active=!0);u={active:!0,rendered:!1,element:c.length?d.element.clone():d.element,x:t,y:a},c.push(u),u.element.css({top:Math.round(a),left:Math.round(t),"text-align":l})},t.prototype.removeText=function(e,t,a,i,o,r){if(null==i){var l=this._textCache[e];if(null!=l)for(var s in l)if(n.call(l,s)){var d=l[s];for(var c in d)if(n.call(d,c))for(var u,p=d[c].positions,h=0;u=p[h];h++)u.active=!1}}else for(var u,p=this.getTextInfo(e,i,o,r).positions,h=0;u=p[h];h++)u.x==t&&u.y==a&&(u.active=!1)},e.plot=function(t,i,n){var o=new a(e(t),i,n,e.plot.plugins);return o},e.plot.version="0.8.2",e.plot.plugins=[],e.fn.plot=function(t,a){return this.each(function(){e.plot(this,t,a)})}}(jQuery),/*!
 * Flot plugin for rendering pie charts.
 * Copyright (c) 2007-2013 IOLA and Ole Laursen.
 * Licensed under the MIT license.
 * Created by Brian Medendorp
 * Updated with contributions from btburnett3, Anthony Aragues and Xavi Ivars
 */
function(e){function t(t){function n(t){w||(w=!0,v=t.getCanvas(),b=e(v).parent(),y=t.getOptions(),t.setData(o(t.getData())))}function o(t){for(var a=0,i=0,n=0,o=y.series.pie.combine.color,r=[],l=0;l<t.length;++l){var s=t[l].data;e.isArray(s)&&1==s.length&&(s=s[0]),e.isArray(s)?s[1]=!isNaN(parseFloat(s[1]))&&isFinite(s[1])?+s[1]:0:s=!isNaN(parseFloat(s))&&isFinite(s)?[1,+s]:[1,0],t[l].data=[s]}for(var l=0;l<t.length;++l)a+=t[l].data[0][1];for(var l=0;l<t.length;++l){var s=t[l].data[0][1];s/a<=y.series.pie.combine.threshold&&(i+=s,n++,o||(o=t[l].color))}for(var l=0;l<t.length;++l){var s=t[l].data[0][1];(2>n||s/a>y.series.pie.combine.threshold)&&r.push({data:[[1,s]],color:t[l].color,label:t[l].label,angle:s*Math.PI*2/a,percent:s/(a/100)})}return n>1&&r.push({data:[[1,i]],color:o,label:y.series.pie.combine.label,angle:i*Math.PI*2/a,percent:i/(a/100)}),r}function r(t,n){function o(){E.clearRect(0,0,d,c),b.children().filter(".pieLabel, .pieLabelBackground").remove()}function r(){var e=y.series.pie.shadow.left,t=y.series.pie.shadow.top,a=10,i=y.series.pie.shadow.alpha,n=y.series.pie.radius>1?y.series.pie.radius:k*y.series.pie.radius;if(!(n>=d/2-e||n*y.series.pie.tilt>=c/2-t||a>=n)){E.save(),E.translate(e,t),E.globalAlpha=i,E.fillStyle="#000",E.translate(T,C),E.scale(1,y.series.pie.tilt);for(var o=1;a>=o;o++)E.beginPath(),E.arc(0,0,n,0,2*Math.PI,!1),E.fill(),n-=o;E.restore()}}function s(){function t(e,t,a){0>=e||isNaN(e)||(a?E.fillStyle=t:(E.strokeStyle=t,E.lineJoin="round"),E.beginPath(),Math.abs(e-2*Math.PI)>1e-9&&E.moveTo(0,0),E.arc(0,0,n,o,o+e/2,!1),E.arc(0,0,n,o+e/2,o+e,!1),E.closePath(),o+=e,a?E.fill():E.stroke())}function a(){function t(t,a,i){if(0==t.data[0][1])return!0;var o,r=y.legend.labelFormatter,l=y.series.pie.label.formatter;o=r?r(t.label,t):t.label,l&&(o=l(o,t));var s=(a+t.angle+a)/2,u=T+Math.round(Math.cos(s)*n),p=C+Math.round(Math.sin(s)*n)*y.series.pie.tilt,h="<span class='pieLabel' id='pieLabel"+i+"' style='position:absolute;top:"+p+"px;left:"+u+"px;'>"+o+"</span>";b.append(h);var m=b.children("#pieLabel"+i),g=p-m.height()/2,f=u-m.width()/2;if(m.css("top",g),m.css("left",f),0-g>0||0-f>0||c-(g+m.height())<0||d-(f+m.width())<0)return!1;if(0!=y.series.pie.label.background.opacity){var v=y.series.pie.label.background.color;null==v&&(v=t.color);var k="top:"+g+"px;left:"+f+"px;";e("<div class='pieLabelBackground' style='position:absolute;width:"+m.width()+"px;height:"+m.height()+"px;"+k+"background-color:"+v+";'></div>").css("opacity",y.series.pie.label.background.opacity).insertBefore(m)}return!0}for(var a=i,n=y.series.pie.label.radius>1?y.series.pie.label.radius:k*y.series.pie.label.radius,o=0;o<p.length;++o){if(p[o].percent>=100*y.series.pie.label.threshold&&!t(p[o],a,o))return!1;a+=p[o].angle}return!0}var i=Math.PI*y.series.pie.startAngle,n=y.series.pie.radius>1?y.series.pie.radius:k*y.series.pie.radius;E.save(),E.translate(T,C),E.scale(1,y.series.pie.tilt),E.save();for(var o=i,r=0;r<p.length;++r)p[r].startAngle=o,t(p[r].angle,p[r].color,!0);if(E.restore(),y.series.pie.stroke.width>0){E.save(),E.lineWidth=y.series.pie.stroke.width,o=i;for(var r=0;r<p.length;++r)t(p[r].angle,y.series.pie.stroke.color,!1);E.restore()}return l(E),E.restore(),y.series.pie.label.show?a():!0}if(b){var d=t.getPlaceholder().width(),c=t.getPlaceholder().height(),u=b.children().filter(".legend").children().width()||0;E=n,w=!1,k=Math.min(d,c/y.series.pie.tilt)/2,C=c/2+y.series.pie.offset.top,T=d/2,"auto"==y.series.pie.offset.left?(y.legend.position.match("w")?T+=u/2:T-=u/2,k>T?T=k:T>d-k&&(T=d-k)):T+=y.series.pie.offset.left;var p=t.getData(),h=0;do h>0&&(k*=i),h+=1,o(),y.series.pie.tilt<=.8&&r();while(!s()&&a>h);h>=a&&(o(),b.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")),t.setSeries&&t.insertLegend&&(t.setSeries(p),t.insertLegend())}}function l(e){if(y.series.pie.innerRadius>0){e.save();var t=y.series.pie.innerRadius>1?y.series.pie.innerRadius:k*y.series.pie.innerRadius;e.globalCompositeOperation="destination-out",e.beginPath(),e.fillStyle=y.series.pie.stroke.color,e.arc(0,0,t,0,2*Math.PI,!1),e.fill(),e.closePath(),e.restore(),e.save(),e.beginPath(),e.strokeStyle=y.series.pie.stroke.color,e.arc(0,0,t,0,2*Math.PI,!1),e.stroke(),e.closePath(),e.restore()}}function s(e,t){for(var a=!1,i=-1,n=e.length,o=n-1;++i<n;o=i)(e[i][1]<=t[1]&&t[1]<e[o][1]||e[o][1]<=t[1]&&t[1]<e[i][1])&&t[0]<(e[o][0]-e[i][0])*(t[1]-e[i][1])/(e[o][1]-e[i][1])+e[i][0]&&(a=!a);return a}function d(e,a){for(var i,n,o=t.getData(),r=t.getOptions(),l=r.series.pie.radius>1?r.series.pie.radius:k*r.series.pie.radius,d=0;d<o.length;++d){var c=o[d];if(c.pie.show){if(E.save(),E.beginPath(),E.moveTo(0,0),E.arc(0,0,l,c.startAngle,c.startAngle+c.angle/2,!1),E.arc(0,0,l,c.startAngle+c.angle/2,c.startAngle+c.angle,!1),E.closePath(),i=e-T,n=a-C,E.isPointInPath){if(E.isPointInPath(e-T,a-C))return E.restore(),{datapoint:[c.percent,c.data],dataIndex:0,series:c,seriesIndex:d}}else{var u=l*Math.cos(c.startAngle),p=l*Math.sin(c.startAngle),h=l*Math.cos(c.startAngle+c.angle/4),m=l*Math.sin(c.startAngle+c.angle/4),g=l*Math.cos(c.startAngle+c.angle/2),f=l*Math.sin(c.startAngle+c.angle/2),v=l*Math.cos(c.startAngle+c.angle/1.5),b=l*Math.sin(c.startAngle+c.angle/1.5),y=l*Math.cos(c.startAngle+c.angle),w=l*Math.sin(c.startAngle+c.angle),S=[[0,0],[u,p],[h,m],[g,f],[v,b],[y,w]],D=[i,n];if(s(S,D))return E.restore(),{datapoint:[c.percent,c.data],dataIndex:0,series:c,seriesIndex:d}}E.restore()}}return null}function c(e){p("plothover",e)}function u(e){p("plotclick",e)}function p(e,a){var i=t.offset(),n=parseInt(a.pageX-i.left),o=parseInt(a.pageY-i.top),r=d(n,o);if(y.grid.autoHighlight)for(var l=0;l<S.length;++l){var s=S[l];s.auto!=e||r&&s.series==r.series||m(s.series)}r&&h(r.series,e);var c={pageX:a.pageX,pageY:a.pageY};b.trigger(e,[c,r])}function h(e,a){var i=g(e);-1==i?(S.push({series:e,auto:a}),t.triggerRedrawOverlay()):a||(S[i].auto=!1)}function m(e){null==e&&(S=[],t.triggerRedrawOverlay());var a=g(e);-1!=a&&(S.splice(a,1),t.triggerRedrawOverlay())}function g(e){for(var t=0;t<S.length;++t){var a=S[t];if(a.series==e)return t}return-1}function f(e,t){function a(e){e.angle<=0||isNaN(e.angle)||(t.fillStyle="rgba(255, 255, 255, "+i.series.pie.highlight.opacity+")",t.beginPath(),Math.abs(e.angle-2*Math.PI)>1e-9&&t.moveTo(0,0),t.arc(0,0,n,e.startAngle,e.startAngle+e.angle/2,!1),t.arc(0,0,n,e.startAngle+e.angle/2,e.startAngle+e.angle,!1),t.closePath(),t.fill())}var i=e.getOptions(),n=i.series.pie.radius>1?i.series.pie.radius:k*i.series.pie.radius;t.save(),t.translate(T,C),t.scale(1,i.series.pie.tilt);for(var o=0;o<S.length;++o)a(S[o].series);l(t),t.restore()}var v=null,b=null,y=null,k=null,T=null,C=null,w=!1,E=null,S=[];t.hooks.processOptions.push(function(e,t){t.series.pie.show&&(t.grid.show=!1,"auto"==t.series.pie.label.show&&(t.series.pie.label.show=t.legend.show?!1:!0),"auto"==t.series.pie.radius&&(t.series.pie.radius=t.series.pie.label.show?.75:1),t.series.pie.tilt>1?t.series.pie.tilt=1:t.series.pie.tilt<0&&(t.series.pie.tilt=0))}),t.hooks.bindEvents.push(function(e,t){var a=e.getOptions();a.series.pie.show&&(a.grid.hoverable&&t.unbind("mousemove").mousemove(c),a.grid.clickable&&t.unbind("click").click(u))}),t.hooks.processDatapoints.push(function(e,t,a,i){var o=e.getOptions();o.series.pie.show&&n(e,t,a,i)}),t.hooks.drawOverlay.push(function(e,t){var a=e.getOptions();a.series.pie.show&&f(e,t)}),t.hooks.draw.push(function(e,t){var a=e.getOptions();a.series.pie.show&&r(e,t)})}var a=10,i=.95,n={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(e,t){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+t.color+";'>"+e+"<br/>"+Math.round(t.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};e.plot.plugins.push({init:t,options:n,name:"pie",version:"1.1"})}(jQuery),/*!
 * Flot plugin for automatically redrawing plots as the placeholder resizes.
 * Copyright (c) 2007-2013 IOLA and Ole Laursen.
 * Licensed under the MIT license.
 * Inline dependency:
 * jQuery resize event - v1.1 - 3/14/2010
 * http://benalman.com/projects/jquery-resize-plugin/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
function(e,t,a){function i(){for(var a=o.length-1;a>=0;a--){var l=e(o[a]);if(l[0]==t||l.is(":visible")){var h=l.width(),m=l.height(),g=l.data(d);!g||h===g.w&&m===g.h?r[c]=r[u]:(r[c]=r[p],l.trigger(s,[g.w=h,g.h=m]))}else g=l.data(d),g.w=0,g.h=0}null!==n&&(n=t.requestAnimationFrame(i))}var n,o=[],r=e.resize=e.extend(e.resize,{}),l="setTimeout",s="resize",d=s+"-special-event",c="delay",u="pendingDelay",p="activeDelay",h="throttleWindow";r[u]=250,r[p]=20,r[c]=r[u],r[h]=!0,e.event.special[s]={setup:function(){if(!r[h]&&this[l])return!1;var t=e(this);o.push(this),t.data(d,{w:t.width(),h:t.height()}),1===o.length&&(n=a,i())},teardown:function(){if(!r[h]&&this[l])return!1;for(var t=e(this),a=o.length-1;a>=0;a--)if(o[a]==this){o.splice(a,1);break}t.removeData(d),o.length||(cancelAnimationFrame(n),n=null)},add:function(t){function i(t,i,o){var r=e(this),l=r.data(d);l.w=i!==a?i:r.width(),l.h=o!==a?o:r.height(),n.apply(this,arguments)}if(!r[h]&&this[l])return!1;var n;return e.isFunction(t)?(n=t,i):(n=t.handler,void(t.handler=i))}},t.requestAnimationFrame||(t.requestAnimationFrame=function(){return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return t.setTimeout(e,r[c])}}()),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(){return t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout}())}(jQuery,this),function(e){function t(e){function t(){var t=e.getPlaceholder();0!=t.width()&&0!=t.height()&&(e.resize(),e.setupGrid(),e.draw())}function a(e){e.getPlaceholder().resize(t)}function i(e){e.getPlaceholder().unbind("resize",t)}e.hooks.bindEvents.push(a),e.hooks.shutdown.push(i)}var a={};e.plot.plugins.push({init:t,options:a,name:"resize",version:"1.0"})}(jQuery),/*!
 * Flot plugin for stacking data sets rather than overlyaing them.
 * Copyright (c) 2007-2013 IOLA and Ole Laursen.
 * Licensed under the MIT license.
 */
function(e){function t(e){function t(e,t){for(var a=null,i=0;i<t.length&&e!=t[i];++i)t[i].stack==e.stack&&(a=t[i]);return a}function a(e,a,i){if(null!=a.stack&&a.stack!==!1){var n=t(a,e.getData());if(n){for(var o,r,l,s,d,c,u,p,h=i.pointsize,m=i.points,g=n.datapoints.pointsize,f=n.datapoints.points,v=[],b=a.lines.show,y=a.bars.horizontal,k=h>2&&(y?i.format[2].x:i.format[2].y),T=b&&a.lines.steps,C=!0,w=y?1:0,E=y?0:1,S=0,D=0;;){if(S>=m.length)break;if(u=v.length,null==m[S]){for(p=0;h>p;++p)v.push(m[S+p]);S+=h}else if(D>=f.length){if(!b)for(p=0;h>p;++p)v.push(m[S+p]);S+=h}else if(null==f[D]){for(p=0;h>p;++p)v.push(null);C=!0,D+=g}else{if(o=m[S+w],r=m[S+E],s=f[D+w],d=f[D+E],c=0,o==s){for(p=0;h>p;++p)v.push(m[S+p]);v[u+E]+=d,c=d,S+=h,D+=g}else if(o>s){if(b&&S>0&&null!=m[S-h]){for(l=r+(m[S-h+E]-r)*(s-o)/(m[S-h+w]-o),v.push(s),v.push(l+d),p=2;h>p;++p)v.push(m[S+p]);c=d}D+=g}else{if(C&&b){S+=h;continue}for(p=0;h>p;++p)v.push(m[S+p]);b&&D>0&&null!=f[D-g]&&(c=d+(f[D-g+E]-d)*(o-s)/(f[D-g+w]-s)),v[u+E]+=c,S+=h}C=!1,u!=v.length&&k&&(v[u+2]+=c)}if(T&&u!=v.length&&u>0&&null!=v[u]&&v[u]!=v[u-h]&&v[u+1]!=v[u-h+1]){for(p=0;h>p;++p)v[u+h+p]=v[u+p];v[u+1]=v[u-h+1]}}i.points=v}}}e.hooks.processDatapoints.push(a)}var a={series:{stack:null}};e.plot.plugins.push({init:t,options:a,name:"stack",version:"1.2"})}(jQuery),/*
 * Pretty handling of time axes.
 *
 * Copyright (c) 2007-2013 IOLA and Ole Laursen.
 * Licensed under the MIT license.
 *
 * Set axis.mode to "time" to enable. See the section "Time series data" in
 * API.txt for details.
 */
function(e){function t(e,t){return t*Math.floor(e/t)}function a(e,t,a,i){if("function"==typeof e.strftime)return e.strftime(t);var n=function(e,t){return e=""+e,t=""+(null==t?"0":t),1==e.length?t+e:e},o=[],r=!1,l=e.getHours(),s=12>l;null==a&&(a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==i&&(i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var d;d=l>12?l-12:0==l?12:l;for(var c=0;c<t.length;++c){var u=t.charAt(c);if(r){switch(u){case"a":u=""+i[e.getDay()];break;case"b":u=""+a[e.getMonth()];break;case"d":u=n(e.getDate());break;case"e":u=n(e.getDate()," ");break;case"h":case"H":u=n(l);break;case"I":u=n(d);break;case"l":u=n(d," ");break;case"m":u=n(e.getMonth()+1);break;case"M":u=n(e.getMinutes());break;case"q":u=""+(Math.floor(e.getMonth()/3)+1);break;case"S":u=n(e.getSeconds());break;case"y":u=n(e.getFullYear()%100);break;case"Y":u=""+e.getFullYear();break;case"p":u=s?"am":"pm";break;case"P":u=s?"AM":"PM";break;case"w":u=""+e.getDay()}o.push(u),r=!1}else"%"==u?r=!0:o.push(u)}return o.join("")}function i(e){function t(e,t,a,i){e[t]=function(){return a[i].apply(a,arguments)}}var a={date:e};void 0!=e.strftime&&t(a,"strftime",e,"strftime"),t(a,"getTime",e,"getTime"),t(a,"setTime",e,"setTime");for(var i=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],n=0;n<i.length;n++)t(a,"get"+i[n],e,"getUTC"+i[n]),t(a,"set"+i[n],e,"setUTC"+i[n]);return a}function n(e,t){if("browser"==t.timezone)return new Date(e);if(t.timezone&&"utc"!=t.timezone){if("undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var a=new timezoneJS.Date;return a.setTimezone(t.timezone),a.setTime(e),a}return i(new Date(e))}return i(new Date(e))}function o(i){i.hooks.processOptions.push(function(i){e.each(i.getAxes(),function(e,i){var o=i.options;"time"==o.mode&&(i.tickGenerator=function(e){var a=[],i=n(e.min,o),r=0,s=o.tickSize&&"quarter"===o.tickSize[1]||o.minTickSize&&"quarter"===o.minTickSize[1]?c:d;null!=o.minTickSize&&(r="number"==typeof o.tickSize?o.tickSize:o.minTickSize[0]*l[o.minTickSize[1]]);for(var u=0;u<s.length-1&&!(e.delta<(s[u][0]*l[s[u][1]]+s[u+1][0]*l[s[u+1][1]])/2&&s[u][0]*l[s[u][1]]>=r);++u);var p=s[u][0],h=s[u][1];if("year"==h){if(null!=o.minTickSize&&"year"==o.minTickSize[1])p=Math.floor(o.minTickSize[0]);else{var m=Math.pow(10,Math.floor(Math.log(e.delta/l.year)/Math.LN10)),g=e.delta/l.year/m;p=1.5>g?1:3>g?2:7.5>g?5:10,p*=m}1>p&&(p=1)}e.tickSize=o.tickSize||[p,h];var f=e.tickSize[0];h=e.tickSize[1];var v=f*l[h];"second"==h?i.setSeconds(t(i.getSeconds(),f)):"minute"==h?i.setMinutes(t(i.getMinutes(),f)):"hour"==h?i.setHours(t(i.getHours(),f)):"month"==h?i.setMonth(t(i.getMonth(),f)):"quarter"==h?i.setMonth(3*t(i.getMonth()/3,f)):"year"==h&&i.setFullYear(t(i.getFullYear(),f)),i.setMilliseconds(0),v>=l.minute&&i.setSeconds(0),v>=l.hour&&i.setMinutes(0),v>=l.day&&i.setHours(0),v>=4*l.day&&i.setDate(1),v>=2*l.month&&i.setMonth(t(i.getMonth(),3)),v>=2*l.quarter&&i.setMonth(t(i.getMonth(),6)),v>=l.year&&i.setMonth(0);var b,y=0,k=Number.NaN;do if(b=k,k=i.getTime(),a.push(k),"month"==h||"quarter"==h)if(1>f){i.setDate(1);var T=i.getTime();i.setMonth(i.getMonth()+("quarter"==h?3:1));var C=i.getTime();i.setTime(k+y*l.hour+(C-T)*f),y=i.getHours(),i.setHours(0)}else i.setMonth(i.getMonth()+f*("quarter"==h?3:1));else"year"==h?i.setFullYear(i.getFullYear()+f):i.setTime(k+v);while(k<e.max&&k!=b);return a},i.tickFormatter=function(e,t){var i=n(e,t.options);if(null!=o.timeformat)return a(i,o.timeformat,o.monthNames,o.dayNames);var r,s=t.options.tickSize&&"quarter"==t.options.tickSize[1]||t.options.minTickSize&&"quarter"==t.options.minTickSize[1],d=t.tickSize[0]*l[t.tickSize[1]],c=t.max-t.min,u=o.twelveHourClock?" %p":"",p=o.twelveHourClock?"%I":"%H";r=d<l.minute?p+":%M:%S"+u:d<l.day?c<2*l.day?p+":%M"+u:"%b %d "+p+":%M"+u:d<l.month?"%b %d":s&&d<l.quarter||!s&&d<l.year?c<l.year?"%b":"%b %Y":s&&d<l.year?c<l.year?"Q%q":"Q%q %Y":"%Y";var h=a(i,r,o.monthNames,o.dayNames);return h})})})}var r={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},l={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},s=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],d=s.concat([[3,"month"],[6,"month"],[1,"year"]]),c=s.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);e.plot.plugins.push({init:o,options:r,name:"time",version:"1.0"}),e.plot.formatDate=a}(jQuery),/*!
 * Dropzone.js 3.8.4
 * http://www.dropzonejs.com/
 */
!function(){function e(t,a,i){var n=e.resolve(t);if(null==n){i=i||t,a=a||"root";var o=new Error('Failed to require "'+i+'" from "'+a+'"');throw o.path=i,o.parent=a,o.require=!0,o}var r=e.modules[n];if(!r._resolving&&!r.exports){var l={};l.exports={},l.client=l.component=!0,r._resolving=!0,r.call(this,l.exports,e.relative(n),l),delete r._resolving,r.exports=l.exports}return r.exports}e.modules={},e.aliases={},e.resolve=function(t){"/"===t.charAt(0)&&(t=t.slice(1));for(var a=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"],i=0;i<a.length;i++){var t=a[i];if(e.modules.hasOwnProperty(t))return t;if(e.aliases.hasOwnProperty(t))return e.aliases[t]}},e.normalize=function(e,t){var a=[];if("."!=t.charAt(0))return t;e=e.split("/"),t=t.split("/");for(var i=0;i<t.length;++i)".."==t[i]?e.pop():"."!=t[i]&&""!=t[i]&&a.push(t[i]);return e.concat(a).join("/")},e.register=function(t,a){e.modules[t]=a},e.alias=function(t,a){if(!e.modules.hasOwnProperty(t))throw new Error('Failed to alias "'+t+'", it does not exist');e.aliases[a]=t},e.relative=function(t){function a(e,t){for(var a=e.length;a--;)if(e[a]===t)return a;return-1}function i(a){var n=i.resolve(a);return e(n,t,a)}var n=e.normalize(t,"..");return i.resolve=function(i){var o=i.charAt(0);if("/"==o)return i.slice(1);if("."==o)return e.normalize(n,i);var r=t.split("/"),l=a(r,"deps")+1;return l||(l=0),i=r.slice(0,l+1).join("/")+"/deps/"+i},i.exists=function(t){return e.modules.hasOwnProperty(i.resolve(t))},i},e.register("component-emitter/index.js",function(e,t,a){function i(e){return e?n(e):void 0}function n(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}a.exports=i,i.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},i.prototype.once=function(e,t){function a(){i.off(e,a),t.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},t._off=a,this.on(e,a),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=function(e,t){this._callbacks=this._callbacks||{};var a=this._callbacks[e];if(!a)return this;if(1==arguments.length)return delete this._callbacks[e],this;var i=a.indexOf(t._off||t);return~i&&a.splice(i,1),this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),a=this._callbacks[e];if(a){a=a.slice(0);for(var i=0,n=a.length;n>i;++i)a[i].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}}),e.register("dropzone/index.js",function(e,t,a){a.exports=t("./lib/dropzone.js")}),e.register("dropzone/lib/dropzone.js",function(e,t,a){(function(){var e,i,n,o,r,l,s,d,c={}.hasOwnProperty,u=function(e,t){function a(){this.constructor=e}for(var i in t)c.call(t,i)&&(e[i]=t[i]);return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e},p=[].slice;i="undefined"!=typeof Emitter&&null!==Emitter?Emitter:t("emitter"),s=function(){},e=function(e){function t(e,i){var n,o,r;if(this.element=e,this.version=t.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(t.instances.push(this),this.element.dropzone=this,n=null!=(r=t.optionsForElement(this.element))?r:{},this.options=a({},this.defaultOptions,n,null!=i?i:{}),this.options.forceFallback||!t.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),this.previewsContainer=this.options.previewsContainer?t.getElement(this.options.previewsContainer,"previewsContainer"):this.element,this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:t.getElements(this.options.clickable,"clickable")),this.init()}var a;return u(t,e),t.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached"],t.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return s},forceFallback:!1,fallback:function(){var e,a,i,n,o,r;for(this.element.className=""+this.element.className+" dz-browser-not-supported",r=this.element.getElementsByTagName("div"),n=0,o=r.length;o>n;n++)e=r[n],/(^| )dz-message($| )/.test(e.className)&&(a=e,e.className="dz-message");return a||(a=t.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(a)),i=a.getElementsByTagName("span")[0],i&&(i.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,a,i;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},a=e.width/e.height,i=this.options.thumbnailWidth/this.options.thumbnailHeight,e.height<this.options.thumbnailHeight||e.width<this.options.thumbnailWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):a>i?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*i):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/i),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:s,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:s,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var a,i,n,o,r,l,s,d,c,u,p,h,m,g=this;for(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),e.previewElement=t.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),u=e.previewElement.querySelectorAll("[data-dz-name]"),o=0,s=u.length;s>o;o++)a=u[o],a.textContent=e.name;for(p=e.previewElement.querySelectorAll("[data-dz-size]"),r=0,d=p.length;d>r;r++)a=p[r],a.innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),i=function(a){return a.preventDefault(),a.stopPropagation(),e.status===t.UPLOADING?t.confirm(g.options.dictCancelUploadConfirmation,function(){return g.removeFile(e)}):g.options.dictRemoveFileConfirmation?t.confirm(g.options.dictRemoveFileConfirmation,function(){return g.removeFile(e)}):g.removeFile(e)},h=e.previewElement.querySelectorAll("[data-dz-remove]"),m=[],l=0,c=h.length;c>l;l++)n=h[l],m.push(n.addEventListener("click",i));return m},removedfile:function(e){var t;return null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var a,i,n,o,r;for(e.previewElement.classList.remove("dz-file-preview"),e.previewElement.classList.add("dz-image-preview"),o=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),r=[],i=0,n=o.length;n>i;i++)a=o[i],a.alt=e.name,r.push(a.src=t);return r},error:function(e,t){var a,i,n,o,r;for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),o=e.previewElement.querySelectorAll("[data-dz-errormessage]"),r=[],i=0,n=o.length;n>i;i++)a=o[i],r.push(a.textContent=t);return r},errormultiple:s,processing:function(e){return e.previewElement.classList.add("dz-processing"),e._removeLink?e._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:s,uploadprogress:function(e,t){var a,i,n,o,r;for(o=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),r=[],i=0,n=o.length;n>i;i++)a=o[i],r.push(a.style.width=""+t+"%");return r},totaluploadprogress:s,sending:s,sendingmultiple:s,success:function(e){return e.previewElement.classList.add("dz-success")},successmultiple:s,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:s,complete:function(e){return e._removeLink?e._removeLink.textContent=this.options.dictRemoveFile:void 0},completemultiple:s,maxfilesexceeded:s,maxfilesreached:s,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>\u2714</span></div>\n  <div class="dz-error-mark"><span>\u2718</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'},a=function(){var e,t,a,i,n,o,r;for(i=arguments[0],a=2<=arguments.length?p.call(arguments,1):[],o=0,r=a.length;r>o;o++){t=a[o];for(e in t)n=t[e],i[e]=n}return i},t.prototype.getAcceptedFiles=function(){var e,t,a,i,n;for(i=this.files,n=[],t=0,a=i.length;a>t;t++)e=i[t],e.accepted&&n.push(e);return n},t.prototype.getRejectedFiles=function(){var e,t,a,i,n;for(i=this.files,n=[],t=0,a=i.length;a>t;t++)e=i[t],e.accepted||n.push(e);return n},t.prototype.getQueuedFiles=function(){var e,a,i,n,o;for(n=this.files,o=[],a=0,i=n.length;i>a;a++)e=n[a],e.status===t.QUEUED&&o.push(e);return o},t.prototype.getUploadingFiles=function(){var e,a,i,n,o;for(n=this.files,o=[],a=0,i=n.length;i>a;a++)e=n[a],e.status===t.UPLOADING&&o.push(e);return o},t.prototype.init=function(){var e,a,i,n,o,r,l,s=this;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(i=function(){return s.hiddenFileInput&&document.body.removeChild(s.hiddenFileInput),s.hiddenFileInput=document.createElement("input"),s.hiddenFileInput.setAttribute("type","file"),(null==s.options.maxFiles||s.options.maxFiles>1)&&s.hiddenFileInput.setAttribute("multiple","multiple"),null!=s.options.acceptedFiles&&s.hiddenFileInput.setAttribute("accept",s.options.acceptedFiles),s.hiddenFileInput.style.visibility="hidden",s.hiddenFileInput.style.position="absolute",s.hiddenFileInput.style.top="0",s.hiddenFileInput.style.left="0",s.hiddenFileInput.style.height="0",s.hiddenFileInput.style.width="0",document.body.appendChild(s.hiddenFileInput),s.hiddenFileInput.addEventListener("change",function(){var e,t,a,n;if(t=s.hiddenFileInput.files,t.length)for(a=0,n=t.length;n>a;a++)e=t[a],s.addFile(e);return i()})})(),this.URL=null!=(r=window.URL)?r:window.webkitURL,l=this.events,n=0,o=l.length;o>n;n++)e=l[n],this.on(e,this.options[e]);return this.on("uploadprogress",function(){return s.updateTotalUploadProgress()}),this.on("removedfile",function(){return s.updateTotalUploadProgress()}),this.on("canceled",function(e){return s.emit("complete",e)}),this.on("complete",function(){return 0===s.getUploadingFiles().length&&0===s.getQueuedFiles().length?setTimeout(function(){return s.emit("queuecomplete")},0):void 0}),a=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return s.emit("dragstart",e)},dragenter:function(e){return a(e),s.emit("dragenter",e)},dragover:function(e){var t;try{t=e.dataTransfer.effectAllowed}catch(i){}return e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",a(e),s.emit("dragover",e)},dragleave:function(e){return s.emit("dragleave",e)},drop:function(e){return a(e),s.drop(e)},dragend:function(e){return s.emit("dragend",e)}}}],this.clickableElements.forEach(function(e){return s.listeners.push({element:e,events:{click:function(a){return e!==s.element||a.target===s.element||t.elementInside(a.target,s.element.querySelector(".dz-message"))?s.hiddenFileInput.click():void 0}}})}),this.enable(),this.options.init.call(this)},t.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,t.instances.splice(t.instances.indexOf(this),1)},t.prototype.updateTotalUploadProgress=function(){var e,t,a,i,n,o,r,l;if(i=0,a=0,e=this.getAcceptedFiles(),e.length){for(l=this.getAcceptedFiles(),o=0,r=l.length;r>o;o++)t=l[o],i+=t.upload.bytesSent,a+=t.upload.total;n=100*i/a}else n=100;return this.emit("totaluploadprogress",n,a,i)},t.prototype.getFallbackForm=function(){var e,a,i,n;return(e=this.getExistingFallback())?e:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',a=t.createElement(i),"FORM"!==this.element.tagName?(n=t.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),n.appendChild(a)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=n?n:a)},t.prototype.getExistingFallback=function(){var e,t,a,i,n,o;for(t=function(e){var t,a,i;for(a=0,i=e.length;i>a;a++)if(t=e[a],/(^| )fallback($| )/.test(t.className))return t},o=["div","form"],i=0,n=o.length;n>i;i++)if(a=o[i],e=t(this.element.getElementsByTagName(a)))return e},t.prototype.setupEventListeners=function(){var e,t,a,i,n,o,r;for(o=this.listeners,r=[],i=0,n=o.length;n>i;i++)e=o[i],r.push(function(){var i,n;i=e.events,n=[];for(t in i)a=i[t],n.push(e.element.addEventListener(t,a,!1));return n}());return r},t.prototype.removeEventListeners=function(){var e,t,a,i,n,o,r;for(o=this.listeners,r=[],i=0,n=o.length;n>i;i++)e=o[i],r.push(function(){var i,n;i=e.events,n=[];for(t in i)a=i[t],n.push(e.element.removeEventListener(t,a,!1));return n}());return r},t.prototype.disable=function(){var e,t,a,i,n;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),i=this.files,n=[],t=0,a=i.length;a>t;t++)e=i[t],n.push(this.cancelUpload(e));return n},t.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},t.prototype.filesize=function(e){var t;return e>=109951162777.6?(e/=109951162777.6,t="TiB"):e>=107374182.4?(e/=107374182.4,t="GiB"):e>=104857.6?(e/=104857.6,t="MiB"):e>=102.4?(e/=102.4,t="KiB"):(e=10*e,t="b"),"<strong>"+Math.round(e)/10+"</strong> "+t},t.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},t.prototype.drop=function(e){var t,a;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,t.length&&(a=e.dataTransfer.items,a&&a.length&&null!=a[0].webkitGetAsEntry?this._addFilesFromItems(a):this.handleFiles(t)))},t.prototype.paste=function(e){var t,a;return null!=(null!=e&&null!=(a=e.clipboardData)?a.items:void 0)?(this.emit("paste",e),t=e.clipboardData.items,t.length?this._addFilesFromItems(t):void 0):void 0},t.prototype.handleFiles=function(e){var t,a,i,n;for(n=[],a=0,i=e.length;i>a;a++)t=e[a],n.push(this.addFile(t));return n},t.prototype._addFilesFromItems=function(e){var t,a,i,n,o;for(o=[],i=0,n=e.length;n>i;i++)a=e[i],o.push(null!=a.webkitGetAsEntry&&(t=a.webkitGetAsEntry())?t.isFile?this.addFile(a.getAsFile()):t.isDirectory?this._addFilesFromDirectory(t,t.name):void 0:null!=a.getAsFile?null==a.kind||"file"===a.kind?this.addFile(a.getAsFile()):void 0:void 0);return o},t.prototype._addFilesFromDirectory=function(e,t){var a,i,n=this;return a=e.createReader(),i=function(e){var a,i,o;for(i=0,o=e.length;o>i;i++)a=e[i],a.isFile?a.file(function(e){return n.options.ignoreHiddenFiles&&"."===e.name.substring(0,1)?void 0:(e.fullPath=""+t+"/"+e.name,n.addFile(e))}):a.isDirectory&&n._addFilesFromDirectory(a,""+t+"/"+a.name)},a.readEntries(i,function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0})},t.prototype.accept=function(e,a){return e.size>1024*this.options.maxFilesize*1024?a(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):t.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(a(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,a):a(this.options.dictInvalidFileType)},t.prototype.addFile=function(e){var a=this;return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=t.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return t?(e.accepted=!1,a._errorProcessing([e],t)):a.enqueueFile(e),a._updateMaxFilesReachedClass()})},t.prototype.enqueueFiles=function(e){var t,a,i;for(a=0,i=e.length;i>a;a++)t=e[a],this.enqueueFile(t);return null},t.prototype.enqueueFile=function(e){var a=this;if(e.accepted=!0,e.status!==t.ADDED)throw new Error("This file can't be queued because it has already been processed or was rejected.");return e.status=t.QUEUED,this.options.autoProcessQueue?setTimeout(function(){return a.processQueue()},0):void 0},t.prototype._thumbnailQueue=[],t.prototype._processingThumbnail=!1,t.prototype._enqueueThumbnail=function(e){var t=this;return this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(e),setTimeout(function(){return t._processThumbnailQueue()},0)):void 0},t.prototype._processThumbnailQueue=function(){var e=this;return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}))},t.prototype.removeFile=function(e){return e.status===t.UPLOADING&&this.cancelUpload(e),this.files=d(this.files,e),this.emit("removedfile",e),0===this.files.length?this.emit("reset"):void 0},t.prototype.removeAllFiles=function(e){var a,i,n,o;for(null==e&&(e=!1),o=this.files.slice(),i=0,n=o.length;n>i;i++)a=o[i],(a.status!==t.UPLOADING||e)&&this.removeFile(a);return null},t.prototype.createThumbnail=function(e,t){var a,i=this;return a=new FileReader,a.onload=function(){var n;return n=document.createElement("img"),n.onload=function(){var a,o,r,s,d,c,u,p;return e.width=n.width,e.height=n.height,r=i.options.resize.call(i,e),null==r.trgWidth&&(r.trgWidth=i.options.thumbnailWidth),null==r.trgHeight&&(r.trgHeight=i.options.thumbnailHeight),a=document.createElement("canvas"),o=a.getContext("2d"),a.width=r.trgWidth,a.height=r.trgHeight,l(o,n,null!=(d=r.srcX)?d:0,null!=(c=r.srcY)?c:0,r.srcWidth,r.srcHeight,null!=(u=r.trgX)?u:0,null!=(p=r.trgY)?p:0,r.trgWidth,r.trgHeight),s=a.toDataURL("image/png"),i.emit("thumbnail",e,s),null!=t?t():void 0},n.src=a.result},a.readAsDataURL(e)},t.prototype.processQueue=function(){var e,t,a,i;if(t=this.options.parallelUploads,a=this.getUploadingFiles().length,e=a,!(a>=t)&&(i=this.getQueuedFiles(),i.length>0)){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,t-a));for(;t>e;){if(!i.length)return;this.processFile(i.shift()),e++}}},t.prototype.processFile=function(e){return this.processFiles([e])},t.prototype.processFiles=function(e){var a,i,n;for(i=0,n=e.length;n>i;i++)a=e[i],a.processing=!0,a.status=t.UPLOADING,this.emit("processing",a);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},t.prototype._getFilesWithXhr=function(e){var t,a;return a=function(){var a,i,n,o;for(n=this.files,o=[],a=0,i=n.length;i>a;a++)t=n[a],t.xhr===e&&o.push(t);return o}.call(this)},t.prototype.cancelUpload=function(e){var a,i,n,o,r,l,s;if(e.status===t.UPLOADING){for(i=this._getFilesWithXhr(e.xhr),n=0,r=i.length;r>n;n++)a=i[n],a.status=t.CANCELED;for(e.xhr.abort(),o=0,l=i.length;l>o;o++)a=i[o],this.emit("canceled",a);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else((s=e.status)===t.ADDED||s===t.QUEUED)&&(e.status=t.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));return this.options.autoProcessQueue?this.processQueue():void 0},t.prototype.uploadFile=function(e){return this.uploadFiles([e])},t.prototype.uploadFiles=function(e){var i,n,o,r,l,s,d,c,u,p,h,m,g,f,v,b,y,k,T,C,w,E,S,D,R,A,I,x,L,_,F,O=this;for(b=new XMLHttpRequest,y=0,w=e.length;w>y;y++)i=e[y],i.xhr=b;b.open(this.options.method,this.options.url,!0),b.withCredentials=!!this.options.withCredentials,g=null,o=function(){var t,a,n;for(n=[],t=0,a=e.length;a>t;t++)i=e[t],n.push(O._errorProcessing(e,g||O.options.dictResponseError.replace("{{statusCode}}",b.status),b));return n},f=function(t){var a,n,o,r,l,s,d,c,u;if(null!=t)for(n=100*t.loaded/t.total,o=0,s=e.length;s>o;o++)i=e[o],i.upload={progress:n,total:t.total,bytesSent:t.loaded};else{for(a=!0,n=100,r=0,d=e.length;d>r;r++)i=e[r],(100!==i.upload.progress||i.upload.bytesSent!==i.upload.total)&&(a=!1),i.upload.progress=n,i.upload.bytesSent=i.upload.total;if(a)return}for(u=[],l=0,c=e.length;c>l;l++)i=e[l],u.push(O.emit("uploadprogress",i,n,i.upload.bytesSent));return u},b.onload=function(a){var i;if(e[0].status!==t.CANCELED&&4===b.readyState){if(g=b.responseText,b.getResponseHeader("content-type")&&~b.getResponseHeader("content-type").indexOf("application/json"))try{g=JSON.parse(g)}catch(n){a=n,g="Invalid JSON response from server."}return f(),200<=(i=b.status)&&300>i?O._finished(e,g,a):o()}},b.onerror=function(){return e[0].status!==t.CANCELED?o():void 0},m=null!=(I=b.upload)?I:b,m.onprogress=f,s={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&a(s,this.options.headers);for(r in s)l=s[r],b.setRequestHeader(r,l);if(n=new FormData,this.options.params){x=this.options.params;for(p in x)v=x[p],n.append(p,v)}for(k=0,E=e.length;E>k;k++)i=e[k],this.emit("sending",i,b,n);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,b,n),"FORM"===this.element.tagName)for(L=this.element.querySelectorAll("input, textarea, select, button"),T=0,S=L.length;S>T;T++)if(d=L[T],c=d.getAttribute("name"),u=d.getAttribute("type"),"SELECT"===d.tagName&&d.hasAttribute("multiple"))for(_=d.options,C=0,D=_.length;D>C;C++)h=_[C],h.selected&&n.append(c,h.value);else(!u||"checkbox"!==(F=u.toLowerCase())&&"radio"!==F||d.checked)&&n.append(c,d.value);for(A=0,R=e.length;R>A;A++)i=e[A],n.append(""+this.options.paramName+(this.options.uploadMultiple?"[]":""),i,i.name);return b.send(n)},t.prototype._finished=function(e,a,i){var n,o,r;for(o=0,r=e.length;r>o;o++)n=e[o],n.status=t.SUCCESS,this.emit("success",n,a,i),this.emit("complete",n);return this.options.uploadMultiple&&(this.emit("successmultiple",e,a,i),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},t.prototype._errorProcessing=function(e,a,i){var n,o,r;for(o=0,r=e.length;r>o;o++)n=e[o],n.status=t.ERROR,this.emit("error",n,a,i),this.emit("complete",n);return this.options.uploadMultiple&&(this.emit("errormultiple",e,a,i),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},t}(i),e.version="3.8.4",e.options={},e.optionsForElement=function(t){return t.getAttribute("id")?e.options[n(t.getAttribute("id"))]:void 0},e.instances=[],e.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},e.autoDiscover=!0,e.discover=function(){var t,a,i,n,o,r;for(document.querySelectorAll?i=document.querySelectorAll(".dropzone"):(i=[],t=function(e){var t,a,n,o;for(o=[],a=0,n=e.length;n>a;a++)t=e[a],o.push(/(^| )dropzone($| )/.test(t.className)?i.push(t):void 0);return o},t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),r=[],n=0,o=i.length;o>n;n++)a=i[n],r.push(e.optionsForElement(a)!==!1?new e(a):void 0);return r},e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],e.isBrowserSupported=function(){var t,a,i,n,o;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(o=e.blacklistedBrowsers,i=0,n=o.length;n>i;i++)a=o[i],a.test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},d=function(e,t){var a,i,n,o;for(o=[],i=0,n=e.length;n>i;i++)a=e[i],a!==t&&o.push(a);return o},n=function(e){return e.replace(/[\-_](\w)/g,function(e){return e[1].toUpperCase()})},e.createElement=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},e.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},e.getElement=function(e,t){var a;if("string"==typeof e?a=document.querySelector(e):null!=e.nodeType&&(a=e),null==a)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return a},e.getElements=function(e,t){var a,i,n,o,r,l,s,d;if(e instanceof Array){n=[];try{for(o=0,l=e.length;l>o;o++)i=e[o],n.push(this.getElement(i,t))}catch(c){a=c,n=null}}else if("string"==typeof e)for(n=[],d=document.querySelectorAll(e),r=0,s=d.length;s>r;r++)i=d[r],n.push(i);else null!=e.nodeType&&(n=[e]);if(null==n||!n.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},e.confirm=function(e,t,a){return window.confirm(e)?t():null!=a?a():void 0},e.isValidFile=function(e,t){var a,i,n,o,r;if(!t)return!0;for(t=t.split(","),i=e.type,a=i.replace(/\/.*$/,""),o=0,r=t.length;r>o;o++)if(n=t[o],n=n.trim(),"."===n.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(n.toLowerCase(),e.name.length-n.length))return!0}else if(/\/\*$/.test(n)){if(a===n.replace(/\/.*$/,""))return!0}else if(i===n)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}),"undefined"!=typeof a&&null!==a?a.exports=e:window.Dropzone=e,e.ADDED="added",e.QUEUED="queued",e.ACCEPTED=e.QUEUED,e.UPLOADING="uploading",e.PROCESSING=e.UPLOADING,e.CANCELED="canceled",e.ERROR="error",e.SUCCESS="success",r=function(e){var t,a,i,n,o,r,l,s,d,c;for(l=e.naturalWidth,r=e.naturalHeight,a=document.createElement("canvas"),a.width=1,a.height=r,i=a.getContext("2d"),i.drawImage(e,0,0),n=i.getImageData(0,0,1,r).data,c=0,o=r,s=r;s>c;)t=n[4*(s-1)+3],0===t?o=s:c=s,s=o+c>>1;return d=s/r,0===d?1:d},l=function(e,t,a,i,n,o,l,s,d,c){var u;return u=r(t),e.drawImage(t,a,i,n,o,l,s,d,c/u)},o=function(e,t){var a,i,n,o,r,l,s,d,c;if(n=!1,c=!0,i=e.document,d=i.documentElement,a=i.addEventListener?"addEventListener":"attachEvent",s=i.addEventListener?"removeEventListener":"detachEvent",l=i.addEventListener?"":"on",o=function(a){return"readystatechange"!==a.type||"complete"===i.readyState?(("load"===a.type?e:i)[s](l+a.type,o,!1),!n&&(n=!0)?t.call(e,a.type||a):void 0):void 0},r=function(){var e;try{d.doScroll("left")}catch(t){return e=t,void setTimeout(r,50)}return o("poll")},"complete"!==i.readyState){if(i.createEventObject&&d.doScroll){try{c=!e.frameElement}catch(u){}c&&r()}return i[a](l+"DOMContentLoaded",o,!1),i[a](l+"readystatechange",o,!1),e[a](l+"load",o,!1)}},e._autoDiscoverFunction=function(){return e.autoDiscover?e.discover():void 0},o(window,e._autoDiscoverFunction)}).call(this)}),e.alias("component-emitter/index.js","dropzone/deps/emitter/index.js"),e.alias("component-emitter/index.js","emitter/index.js"),"object"==typeof exports?module.exports=e("dropzone"):"function"==typeof define&&define.amd?define(function(){return e("dropzone")}):this.Dropzone=e("dropzone")}(),/*!
 * =========================================================
 * bootstrap-datepicker.js
 * http://www.eyecon.ro/bootstrap-datepicker
 * =========================================================
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================
 */
!function(e){function t(){return new Date(Date.UTC.apply(Date,arguments))}function a(t,a){var i,n=e(t).data(),o={},r=new RegExp("^"+a.toLowerCase()+"([A-Z])"),a=new RegExp("^"+a.toLowerCase());for(var l in n)a.test(l)&&(i=l.replace(r,function(e,t){return t.toLowerCase()}),o[i]=n[l]);return o}function i(t){var a={};if(c[t]||(t=t.split("-")[0],c[t])){var i=c[t];return e.each(d,function(e,t){t in i&&(a[t]=i[t])}),a}}var n=e(window),o=function(t,a){this._process_options(a),this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(u.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};o.prototype={constructor:o,_process_options:function(t){this._o=e.extend({},this._o,t);var a=this.o=e.extend({},this._o),i=a.language;switch(c[i]||(i=i.split("-")[0],c[i]||(i=s.language)),a.language=i,a.startView){case 2:case"decade":a.startView=2;break;case 1:case"year":a.startView=1;break;default:a.startView=0}switch(a.minViewMode){case 1:case"months":a.minViewMode=1;break;case 2:case"years":a.minViewMode=2;break;default:a.minViewMode=0}a.startView=Math.max(a.startView,a.minViewMode),a.weekStart%=7,a.weekEnd=(a.weekStart+6)%7;var n=u.parseFormat(a.format);a.startDate!==-1/0&&(a.startDate=a.startDate?a.startDate instanceof Date?this._local_to_utc(this._zero_time(a.startDate)):u.parseDate(a.startDate,n,a.language):-1/0),1/0!==a.endDate&&(a.endDate=a.endDate?a.endDate instanceof Date?this._local_to_utc(this._zero_time(a.endDate)):u.parseDate(a.endDate,n,a.language):1/0),a.daysOfWeekDisabled=a.daysOfWeekDisabled||[],e.isArray(a.daysOfWeekDisabled)||(a.daysOfWeekDisabled=a.daysOfWeekDisabled.split(/[,\s]*/)),a.daysOfWeekDisabled=e.map(a.daysOfWeekDisabled,function(e){return parseInt(e,10)});var o=String(a.orientation).toLowerCase().split(/\s+/g),r=a.orientation.toLowerCase();if(o=e.grep(o,function(e){return/^auto|left|right|top|bottom$/.test(e)}),a.orientation={x:"auto",y:"auto"},r&&"auto"!==r)if(1===o.length)switch(o[0]){case"top":case"bottom":a.orientation.y=o[0];break;case"left":case"right":a.orientation.x=o[0]}else r=e.grep(o,function(e){return/^left|right$/.test(e)}),a.orientation.x=r[0]||"auto",r=e.grep(o,function(e){return/^top|bottom$/.test(e)}),a.orientation.y=r[0]||"auto"},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t,a,i=0;i<e.length;i++)t=e[i][0],a=e[i][1],t.on(a)},_unapplyEvents:function(e){for(var t,a,i=0;i<e.length;i++)t=e[i][0],a=e[i][1],t.off(a)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{mousedown:e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,a){var i=a||this.date,n=this._utc_to_local(i);this.element.trigger({type:t,date:n,format:e.proxy(function(e){var t=e||this.o.format;return u.formatDate(i,t,this.o.language)},this)})},show:function(e){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),e&&e.preventDefault(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(e){return new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return this.date},setDate:function(e){this.setUTCDate(this._local_to_utc(e))},setUTCDate:function(e){this.date=e,this.setValue()},setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change()},getFormattedDate:function(e){return void 0===e&&(e=this.o.format),u.formatDate(this.date,e,this.o.language)},setStartDate:function(e){this._process_options({startDate:e}),this.update(),this.updateNavArrows()},setEndDate:function(e){this._process_options({endDate:e}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t=this.picker.outerWidth(),a=this.picker.outerHeight(),i=10,o=n.width(),r=n.height(),l=n.scrollTop(),s=parseInt(this.element.parents().filter(function(){return"auto"!=e(this).css("z-index")}).first().css("z-index"))+10,d=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=d.left,h=d.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=t-u)):(this.picker.addClass("datepicker-orient-left"),d.left<0?p-=d.left-i:d.left+t>o&&(p=o-t-i));var m,g,f=this.o.orientation.y;"auto"===f&&(m=-l+d.top-a,g=l+r-(d.top+c+a),f=Math.max(m,g)===g?"top":"bottom"),this.picker.addClass("datepicker-orient-"+f),"top"===f?h+=c:h-=a+parseInt(this.picker.css("padding-top")),this.picker.css({top:h,left:p,zIndex:s})}},_allow_update:!0,update:function(){if(this._allow_update){var e,t=new Date(this.date),a=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(e=arguments[0],e instanceof Date&&(e=this._local_to_utc(e)),a=!0):(e=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=u.parseDate(e,this.o.format,this.o.language),a?this.setValue():e?t.getTime()!==this.date.getTime()&&this._trigger("changeDate"):this._trigger("clearDate"),this.date<this.o.startDate?(this.viewDate=new Date(this.o.startDate),this.date=new Date(this.o.startDate)):this.date>this.o.endDate?(this.viewDate=new Date(this.o.endDate),this.date=new Date(this.o.endDate)):(this.viewDate=new Date(this.date),this.date=new Date(this.date)),this.fill()}},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){var a='<th class="cw">&nbsp;</th>';t+=a,this.picker.find(".datepicker-days thead tr:first-child").prepend(a)}for(;e<this.o.weekStart+7;)t+='<th class="dow">'+c[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+c[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var a=[],i=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),o=this.date.valueOf(),r=new Date;return t.getUTCFullYear()<i||t.getUTCFullYear()==i&&t.getUTCMonth()<n?a.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()==i&&t.getUTCMonth()>n)&&a.push("new"),this.o.todayHighlight&&t.getUTCFullYear()==r.getFullYear()&&t.getUTCMonth()==r.getMonth()&&t.getUTCDate()==r.getDate()&&a.push("today"),o&&t.valueOf()==o&&a.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&a.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&a.push("range"),-1!=e.inArray(t.valueOf(),this.range)&&a.push("selected")),a},fill:function(){var a,i=new Date(this.viewDate),n=i.getUTCFullYear(),o=i.getUTCMonth(),r=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,l=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,s=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,d=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf(),this.picker.find(".datepicker-days thead th.datepicker-switch").text(c[this.o.language].months[o]+" "+n),this.picker.find("tfoot th.today").text(c[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(c[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=t(n,o-1,28,0,0,0,0),h=u.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(h),p.setUTCDate(h-(p.getUTCDay()-this.o.weekStart+7)%7);var m=new Date(p);m.setUTCDate(m.getUTCDate()+42),m=m.valueOf();for(var g,f=[];p.valueOf()<m;){if(p.getUTCDay()==this.o.weekStart&&(f.push("<tr>"),this.o.calendarWeeks)){var v=new Date(+p+864e5*((this.o.weekStart-p.getUTCDay()-7)%7)),b=new Date(+v+864e5*((11-v.getUTCDay())%7)),y=new Date(+(y=t(b.getUTCFullYear(),0,1))+864e5*((11-y.getUTCDay())%7)),k=(b-y)/864e5/7+1;f.push('<td class="cw">'+k+"</td>")}if(g=this.getClassNames(p),g.push("day"),this.o.beforeShowDay!==e.noop){var T=this.o.beforeShowDay(this._utc_to_local(p));void 0===T?T={}:"boolean"==typeof T?T={enabled:T}:"string"==typeof T&&(T={classes:T}),T.enabled===!1&&g.push("disabled"),T.classes&&(g=g.concat(T.classes.split(/\s+/))),T.tooltip&&(a=T.tooltip)}g=e.unique(g),f.push('<td class="'+g.join(" ")+'"'+(a?' title="'+a+'"':"")+">"+p.getUTCDate()+"</td>"),p.getUTCDay()==this.o.weekEnd&&f.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(f.join(""));var C=this.date&&this.date.getUTCFullYear(),w=this.picker.find(".datepicker-months").find("th:eq(1)").text(n).end().find("span").removeClass("active");C&&C==n&&w.eq(this.date.getUTCMonth()).addClass("active"),(r>n||n>s)&&w.addClass("disabled"),n==r&&w.slice(0,l).addClass("disabled"),n==s&&w.slice(d+1).addClass("disabled"),f="",n=10*parseInt(n/10,10);var E=this.picker.find(".datepicker-years").find("th:eq(1)").text(n+"-"+(n+9)).end().find("td");n-=1;for(var S=-1;11>S;S++)f+='<span class="year'+(-1==S?" old":10==S?" new":"")+(C==n?" active":"")+(r>n||n>s?" disabled":"")+'">'+n+"</span>",n+=1;E.html(f)},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),a=e.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()&&a<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()&&a>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(a){a.preventDefault();var i=e(a.target).closest("span, td, th");if(1==i.length)switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var n=u.modes[this.viewMode].navStep*("prev"==i[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,n),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,n),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var o=new Date;o=t(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0),this.showMode(-2);var r="linked"==this.o.todayBtn?null:"view";this._setDate(o,r);break;case"clear":var l;this.isInput?l=this.element:this.component&&(l=this.element.find("input")),l&&l.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!i.is(".disabled")){if(this.viewDate.setUTCDate(1),i.is(".month")){var s=1,d=i.parent().find("span").index(i),c=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(d),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(t(c,d,s,0,0,0,0))}else{var c=parseInt(i.text(),10)||0,s=1,d=0;this.viewDate.setUTCFullYear(c),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(t(c,d,s,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(i.is(".day")&&!i.is(".disabled")){var s=parseInt(i.text(),10)||1,c=this.viewDate.getUTCFullYear(),d=this.viewDate.getUTCMonth();i.is(".old")?0===d?(d=11,c-=1):d-=1:i.is(".new")&&(11==d?(d=0,c+=1):d+=1),this._setDate(t(c,d,s,0,0,0,0))}}},_setDate:function(e,t){t&&"date"!=t||(this.date=new Date(e)),t&&"view"!=t||(this.viewDate=new Date(e)),this.fill(),this.setValue(),this._trigger("changeDate");var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change(),!this.o.autoclose||t&&"date"!=t||this.hide()},moveMonth:function(e,t){if(!t)return e;var a,i,n=new Date(e.valueOf()),o=n.getUTCDate(),r=n.getUTCMonth(),l=Math.abs(t);if(t=t>0?1:-1,1==l)i=-1==t?function(){return n.getUTCMonth()==r}:function(){return n.getUTCMonth()!=a},a=r+t,n.setUTCMonth(a),(0>a||a>11)&&(a=(a+12)%12);else{for(var s=0;l>s;s++)n=this.moveMonth(n,t);a=n.getUTCMonth(),n.setUTCDate(o),i=function(){return a!=n.getUTCMonth()}}for(;i();)n.setUTCDate(--o),n.setUTCMonth(a);return n},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))return void(27==e.keyCode&&this.show());var t,a,i,n=!1;switch(e.keyCode){case 27:this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37==e.keyCode?-1:1,e.ctrlKey?(a=this.moveYear(this.date,t),i=this.moveYear(this.viewDate,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(a=this.moveMonth(this.date,t),i=this.moveMonth(this.viewDate,t),this._trigger("changeMonth",this.viewDate)):(a=new Date(this.date),a.setUTCDate(this.date.getUTCDate()+t),i=new Date(this.viewDate),i.setUTCDate(this.viewDate.getUTCDate()+t)),this.dateWithinRange(a)&&(this.date=a,this.viewDate=i,this.setValue(),this.update(),e.preventDefault(),n=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38==e.keyCode?-1:1,e.ctrlKey?(a=this.moveYear(this.date,t),i=this.moveYear(this.viewDate,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(a=this.moveMonth(this.date,t),i=this.moveMonth(this.viewDate,t),this._trigger("changeMonth",this.viewDate)):(a=new Date(this.date),a.setUTCDate(this.date.getUTCDate()+7*t),i=new Date(this.viewDate),i.setUTCDate(this.viewDate.getUTCDate()+7*t)),this.dateWithinRange(a)&&(this.date=a,this.viewDate=i,this.setValue(),this.update(),e.preventDefault(),n=!0);break;case 13:this.hide(),e.preventDefault();break;case 9:this.hide()}if(n){this._trigger("changeDate");var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+u.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var r=function(t,a){this.element=e(t),this.inputs=e.map(a.inputs,function(e){return e.jquery?e[0]:e}),delete a.inputs,e(this.inputs).datepicker(a).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};r.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.date}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,a){a.setRange(t)})},dateUpdated:function(t){var a=e(t.target).data("datepicker"),i=a.getUTCDate(),n=e.inArray(t.target,this.inputs),o=this.inputs.length;if(-1!=n){if(i<this.dates[n])for(;n>=0&&i<this.dates[n];)this.pickers[n--].setUTCDate(i);else if(i>this.dates[n])for(;o>n&&i>this.dates[n];)this.pickers[n++].setUTCDate(i);this.updateDates()}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var l=e.fn.datepicker;e.fn.datepicker=function(t){var n=Array.apply(null,arguments);n.shift();var l;return this.each(function(){var d=e(this),c=d.data("datepicker"),u="object"==typeof t&&t;if(!c){var p=a(this,"date"),h=e.extend({},s,p,u),m=i(h.language),g=e.extend({},s,m,p,u);if(d.is(".input-daterange")||g.inputs){var f={inputs:g.inputs||d.find("input").toArray()};d.data("datepicker",c=new r(this,e.extend(g,f)))}else d.data("datepicker",c=new o(this,g))}return"string"==typeof t&&"function"==typeof c[t]&&(l=c[t].apply(c,n),void 0!==l)?!1:void 0}),void 0!==l?l:this};var s=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},d=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=o;var c=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},u={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return 0===e%4&&0!==e%100||0===e%400},getDaysInMonth:function(e,t){return[31,u.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\x00").split("\x00"),a=e.match(this.validParts);if(!t||!t.length||!a||0===a.length)throw new Error("Invalid date format.");return{separators:t,parts:a}},parseDate:function(a,i,n){if(a instanceof Date)return a;if("string"==typeof i&&(i=u.parseFormat(i)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(a)){var r,l,s=/([\-+]\d+)([dmwy])/,d=a.match(/([\-+]\d+)([dmwy])/g);a=new Date;for(var p=0;p<d.length;p++)switch(r=s.exec(d[p]),l=parseInt(r[1]),r[2]){case"d":a.setUTCDate(a.getUTCDate()+l);break;case"m":a=o.prototype.moveMonth.call(o.prototype,a,l);break;case"w":a.setUTCDate(a.getUTCDate()+7*l);break;case"y":a=o.prototype.moveYear.call(o.prototype,a,l)}return t(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),0,0,0)}var h,m,r,d=a&&a.match(this.nonpunctuation)||[],a=new Date,g={},f=["yyyy","yy","M","MM","m","mm","d","dd"],v={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!=t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};v.M=v.MM=v.mm=v.m,v.dd=v.d,a=t(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);var b=i.parts.slice();if(d.length!=b.length&&(b=e(b).filter(function(t,a){return-1!==e.inArray(a,f)}).toArray()),d.length==b.length){for(var p=0,y=b.length;y>p;p++){if(h=parseInt(d[p],10),r=b[p],isNaN(h))switch(r){case"MM":m=e(c[n].months).filter(function(){var e=this.slice(0,d[p].length),t=d[p].slice(0,e.length);return e==t}),h=e.inArray(m[0],c[n].months)+1;break;case"M":m=e(c[n].monthsShort).filter(function(){var e=this.slice(0,d[p].length),t=d[p].slice(0,e.length);return e==t}),h=e.inArray(m[0],c[n].monthsShort)+1}g[r]=h}for(var k,T,p=0;p<f.length;p++)T=f[p],T in g&&!isNaN(g[T])&&(k=new Date(a),v[T](k,g[T]),isNaN(k)||(a=k))}return a},formatDate:function(t,a,i){"string"==typeof a&&(a=u.parseFormat(a));var n={d:t.getUTCDate(),D:c[i].daysShort[t.getUTCDay()],DD:c[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:c[i].monthsShort[t.getUTCMonth()],MM:c[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m;for(var t=[],o=e.extend([],a.separators),r=0,l=a.parts.length;l>=r;r++)o.length&&t.push(o.shift()),t.push(n[a.parts[r]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};u.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+u.headTemplate+"<tbody></tbody>"+u.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+u.headTemplate+u.contTemplate+u.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+u.headTemplate+u.contTemplate+u.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=u,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=l,this},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var a=e(this);a.data("datepicker")||(t.preventDefault(),a.datepicker("show"))}),e(function(){e('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),/*! bootstrap-timepicker v0.2.5
* http://jdewit.github.com/bootstrap-timepicker
* Copyright (c) 2013 Joris de Wit
* MIT License
*/
!function(e,t,a){"use strict";var i=function(t,a){this.widget="",this.$element=e(t),this.defaultTime=a.defaultTime,this.disableFocus=a.disableFocus,this.disableMousewheel=a.disableMousewheel,this.isOpen=a.isOpen,this.minuteStep=a.minuteStep,this.modalBackdrop=a.modalBackdrop,this.secondStep=a.secondStep,this.showInputs=a.showInputs,this.showMeridian=a.showMeridian,this.showSeconds=a.showSeconds,this.template=a.template,this.appendWidgetTo=a.appendWidgetTo,this.showWidgetOnAddonClick=a.showWidgetOnAddonClick,this._init()};i.prototype={constructor:i,_init:function(){var t=this;this.showWidgetOnAddonClick&&(this.$element.parent().hasClass("input-group")||this.$element.parent().hasClass("input-group"))?(this.$element.parent(".input-group").find(".input-group-addon, .input-group-btn").on({"click.timepicker":e.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":e.proxy(this.highlightUnit,this),"click.timepicker":e.proxy(this.highlightUnit,this),"keydown.timepicker":e.proxy(this.elementKeydown,this),"blur.timepicker":e.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":e.proxy(this.mousewheel,this)})):this.$element.on(this.template?{"focus.timepicker":e.proxy(this.showWidget,this),"click.timepicker":e.proxy(this.showWidget,this),"blur.timepicker":e.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":e.proxy(this.mousewheel,this)}:{"focus.timepicker":e.proxy(this.highlightUnit,this),"click.timepicker":e.proxy(this.highlightUnit,this),"keydown.timepicker":e.proxy(this.elementKeydown,this),"blur.timepicker":e.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":e.proxy(this.mousewheel,this)}),this.$widget=this.template!==!1?e(this.getTemplate()).prependTo(this.$element.parents(this.appendWidgetTo)).on("click",e.proxy(this.widgetClick,this)):!1,this.showInputs&&this.$widget!==!1&&this.$widget.find("input").each(function(){e(this).on({"click.timepicker":function(){e(this).select()},"keydown.timepicker":e.proxy(t.widgetKeydown,t),"keyup.timepicker":e.proxy(t.widgetKeyup,t)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null,this.updateFromElementVal()},clear:function(){this.hour="",this.minute="",this.second="",this.meridian="",this.$element.val("")},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else this.hour<=0?this.hour=23:this.hour--},decrementMinute:function(e){var t;t=e?this.minute-e:this.minute-this.minuteStep,0>t?(this.decrementHour(),this.minute=t+60):this.minute=t},decrementSecond:function(){var e=this.second-this.secondStep;0>e?(this.decrementMinute(!0),this.second=e+60):this.second=e},elementKeydown:function(e){switch(e.keyCode){case 9:case 27:this.updateFromElementVal();break;case 37:e.preventDefault(),this.highlightPrevUnit();break;case 38:switch(e.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update();break;case 39:e.preventDefault(),this.highlightNextUnit();break;case 40:switch(e.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update()}},getCursorPosition:function(){var e=this.$element.get(0);if("selectionStart"in e)return e.selectionStart;if(a.selection){e.focus();var t=a.selection.createRange(),i=a.selection.createRange().text.length;return t.moveStart("character",-e.value.length),t.text.length-i}},getTemplate:function(){var e,t,a,i,n,o;switch(this.showInputs?(t='<input type="text" class="form-control bootstrap-timepicker-hour" maxlength="2"/>',a='<input type="text" class="form-control bootstrap-timepicker-minute" maxlength="2"/>',i='<input type="text" class="form-control bootstrap-timepicker-second" maxlength="2"/>',n='<input type="text" class="form-control bootstrap-timepicker-meridian" maxlength="2"/>'):(t='<span class="bootstrap-timepicker-hour"></span>',a='<span class="bootstrap-timepicker-minute"></span>',i='<span class="bootstrap-timepicker-second"></span>',n='<span class="bootstrap-timepicker-meridian"></span>'),o='<table><tr><td><a href="#" data-action="incrementHour"><i class="fa fa-chevron-up"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="fa fa-chevron-up"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="fa fa-chevron-up"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="fa fa-chevron-up"></i></a></td>':"")+"</tr><tr><td>"+t+'</td> <td class="separator">:</td><td>'+a+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+i+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+n+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><i class="fa fa-chevron-down"></i></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><i class="fa fa-chevron-down"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="fa fa-chevron-down"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="fa fa-chevron-down"></i></a></td>':"")+"</tr></table>",this.template){case"modal":e='<div class="modal fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">\xd7</a><h3>Pick Time</h3></div><div class="modal-content"><div class="bootstrap-timepicker-widget">'+o+'</div></div><div class="modal-footer"><a href="#" class="btn btn-sm btn-primary" data-dismiss="modal">OK</a></div></div></div></div>';break;case"dropdown":e='<div class="bootstrap-timepicker-widget dropdown-menu">'+o+"</div>"}return e},getTime:function(){return this.hour||this.minute||this.second?this.hour+":"+(1===this.minute.toString().length?"0"+this.minute:this.minute)+(this.showSeconds?":"+(1===this.second.toString().length?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:""):""},hideWidget:function(){this.isOpen!==!1&&(this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),e(a).off("mousedown.timepicker, touchend.timepicker"),this.isOpen=!1)},highlightUnit:function(){this.position=this.getCursorPosition(),this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.showMeridian?this.highlightMeridian():this.showSeconds?this.highlightSecond():this.highlightMinute();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var e=this.$element.get(0),t=this;this.highlightedUnit="hour",e.setSelectionRange&&setTimeout(function(){t.hour<10?e.setSelectionRange(0,1):e.setSelectionRange(0,2)},0)},highlightMinute:function(){var e=this.$element.get(0),t=this;this.highlightedUnit="minute",e.setSelectionRange&&setTimeout(function(){t.hour<10?e.setSelectionRange(2,4):e.setSelectionRange(3,5)},0)},highlightSecond:function(){var e=this.$element.get(0),t=this;this.highlightedUnit="second",e.setSelectionRange&&setTimeout(function(){t.hour<10?e.setSelectionRange(5,7):e.setSelectionRange(6,8)},0)},highlightMeridian:function(){var e=this.$element.get(0),t=this;this.highlightedUnit="meridian",e.setSelectionRange&&(this.showSeconds?setTimeout(function(){t.hour<10?e.setSelectionRange(8,10):e.setSelectionRange(9,11)},0):setTimeout(function(){t.hour<10?e.setSelectionRange(5,7):e.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}return 23===this.hour?void(this.hour=0):void this.hour++},incrementMinute:function(e){var t;t=e?this.minute+e:this.minute+this.minuteStep-this.minute%this.minuteStep,t>59?(this.incrementHour(),this.minute=t-60):this.minute=t},incrementSecond:function(){var e=this.second+this.secondStep-this.second%this.secondStep;e>59?(this.incrementMinute(!0),this.second=e-60):this.second=e},mousewheel:function(t){if(!this.disableMousewheel){t.preventDefault(),t.stopPropagation();var a=t.originalEvent.wheelDelta||-t.originalEvent.detail,i=null;switch("mousewheel"===t.type?i=-1*t.originalEvent.wheelDelta:"DOMMouseScroll"===t.type&&(i=40*t.originalEvent.detail),i&&(t.preventDefault(),e(this).scrollTop(i+e(this).scrollTop())),this.highlightedUnit){case"minute":a>0?this.incrementMinute():this.decrementMinute(),this.highlightMinute();break;case"second":a>0?this.incrementSecond():this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian();break;default:a>0?this.incrementHour():this.decrementHour(),this.highlightHour()}return!1}},remove:function(){e("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(e){if(this.$element.val())this.updateFromElementVal();else if("current"===e){var t=new Date,a=t.getHours(),i=t.getMinutes(),n=t.getSeconds(),o="AM";0!==n&&(n=Math.ceil(t.getSeconds()/this.secondStep)*this.secondStep,60===n&&(i+=1,n=0)),0!==i&&(i=Math.ceil(t.getMinutes()/this.minuteStep)*this.minuteStep,60===i&&(a+=1,i=0)),this.showMeridian&&(0===a?a=12:a>=12?(a>12&&(a-=12),o="PM"):o="AM"),this.hour=a,this.minute=i,this.second=n,this.meridian=o,this.update()}else e===!1?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(e)},setTime:function(e,t){if(!e)return void this.clear();var a,i,n,o,r;"object"==typeof e&&e.getMonth?(i=e.getHours(),n=e.getMinutes(),o=e.getSeconds(),this.showMeridian&&(r="AM",i>12&&(r="PM",i%=12),12===i&&(r="PM"))):(r=null!==e.match(/p/i)?"PM":"AM",e=e.replace(/[^0-9\:]/g,""),a=e.split(":"),i=a[0]?a[0].toString():a.toString(),n=a[1]?a[1].toString():"",o=a[2]?a[2].toString():"",i.length>4&&(o=i.substr(4,2)),i.length>2&&(n=i.substr(2,2),i=i.substr(0,2)),n.length>2&&(o=n.substr(2,2),n=n.substr(0,2)),o.length>2&&(o=o.substr(2,2)),i=parseInt(i,10),n=parseInt(n,10),o=parseInt(o,10),isNaN(i)&&(i=0),isNaN(n)&&(n=0),isNaN(o)&&(o=0),this.showMeridian?1>i?i=1:i>12&&(i=12):(i>=24?i=23:0>i&&(i=0),13>i&&"PM"===r&&(i+=12)),0>n?n=0:n>=60&&(n=59),this.showSeconds&&(isNaN(o)?o=0:0>o?o=0:o>=60&&(o=59))),this.hour=i,this.minute=n,this.second=o,this.meridian=r,this.update(t)},showWidget:function(){if(!this.isOpen&&!this.$element.is(":disabled")){var t=this;e(a).on("mousedown.timepicker, touchend.timepicker",function(a){0===e(a.target).closest(".bootstrap-timepicker-widget").length&&t.hideWidget()}),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.disableFocus&&this.$element.blur(),this.hour||(this.defaultTime?this.setDefaultTime(this.defaultTime):this.setTime("0:0:0")),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",e.proxy(this.hideWidget,this)):this.isOpen===!1&&this.$widget.addClass("open"),this.isOpen=!0}},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM"},update:function(e){this.updateElement(),e||this.updateWidget(),this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(this.$widget!==!1){var e=this.hour,t=1===this.minute.toString().length?"0"+this.minute:this.minute,a=1===this.second.toString().length?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(e),this.$widget.find("input.bootstrap-timepicker-minute").val(t),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(a),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(e),this.$widget.find("span.bootstrap-timepicker-minute").text(t),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(a),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(this.$widget!==!1){var e=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(e,!0)}},widgetClick:function(t){t.stopPropagation(),t.preventDefault();var a=e(t.target),i=a.closest("a").data("action");i&&this[i](),this.update(),a.is("input")&&a.get(0).setSelectionRange(0,2)},widgetKeydown:function(t){var a=e(t.target),i=a.attr("class").replace("bootstrap-timepicker-","");switch(t.keyCode){case 9:if(this.showMeridian&&"meridian"===i||this.showSeconds&&"second"===i||!this.showMeridian&&!this.showSeconds&&"minute"===i)return this.hideWidget();break;case 27:this.hideWidget();break;case 38:switch(t.preventDefault(),i){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),a.get(0).setSelectionRange(0,2);break;case 40:switch(t.preventDefault(),i){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),a.get(0).setSelectionRange(0,2)}},widgetKeyup:function(e){(65===e.keyCode||77===e.keyCode||80===e.keyCode||46===e.keyCode||8===e.keyCode||e.keyCode>=46&&e.keyCode<=57)&&this.updateFromWidgetInputs()}},e.fn.timepicker=function(t){var a=Array.apply(null,arguments);return a.shift(),this.each(function(){var n=e(this),o=n.data("timepicker"),r="object"==typeof t&&t;o||n.data("timepicker",o=new i(this,e.extend({},e.fn.timepicker.defaults,r,e(this).data()))),"string"==typeof t&&o[t].apply(o,a)})},e.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,secondStep:15,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:".bootstrap-timepicker",showWidgetOnAddonClick:!0},e.fn.timepicker.Constructor=i}(jQuery,window,document),/*!
 * Chosen v1.1.0 | (c) 2011-2013 by Harvest | MIT License
 * https://github.com/harvesthq/chosen/blob/master/LICENSE.md
 */
!function(){var e,t,a,i,n,o={}.hasOwnProperty,r=function(e,t){function a(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};i=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,a,i,n,o,r;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),children:0,disabled:e.disabled}),o=e.childNodes,r=[],i=0,n=o.length;n>i;i++)a=o[i],r.push(this.add_option(a,t,e.disabled));return r},e.prototype.add_option=function(e,t,a){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:a===!0?a:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e.prototype.escapeExpression=function(e){var t,a;return null==e||e===!1?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},a=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(a,function(e){return t[e]||"&amp;"})):e},e}(),i.select_to_array=function(e){var t,a,n,o,r;for(a=new i,r=e.childNodes,n=0,o=r.length;o>n;n++)t=r[n],a.add_node(t);return a.parsed},t=function(){function e(t,a){this.form_field=t,this.options=null!=a?a:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},e.prototype.results_option_build=function(e){var t,a,i,n,o;for(t="",o=this.results_data,i=0,n=o.length;n>i;i++)a=o[i],t+=a.group?this.result_add_group(a):this.result_add_option(a),(null!=e?e.first:void 0)&&(a.selected&&this.is_multiple?this.choice_build(a):a.selected&&!this.is_multiple&&this.single_set_selected_text(a.text));return t},e.prototype.result_add_option=function(e){var t,a;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),a=document.createElement("li"),a.className=t.join(" "),a.style.cssText=e.style,a.setAttribute("data-option-array-index",e.array_index),a.innerHTML=e.search_text,this.outerHTML(a)):""},e.prototype.result_add_group=function(e){var t;return(e.search_match||e.group_match)&&e.active_options>0?(t=document.createElement("li"),t.className="group-result",t.innerHTML=e.search_text,this.outerHTML(t)):""},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},e.prototype.reset_single_select_options=function(){var e,t,a,i,n;for(i=this.results_data,n=[],t=0,a=i.length;a>t;t++)e=i[t],n.push(e.selected?e.selected=!1:void 0);return n},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var e,t,a,i,n,o,r,l,s,d,c,u,p;for(this.no_results_clear(),n=0,r=this.get_search_text(),e=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),i=this.search_contains?"":"^",a=new RegExp(i+e,"i"),d=new RegExp(e,"i"),p=this.results_data,c=0,u=p.length;u>c;c++)t=p[c],t.search_match=!1,o=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(o=this.results_data[t.group_array_index],0===o.active_options&&o.search_match&&(n+=1),o.active_options+=1),(!t.group||this.group_search)&&(t.search_text=t.group?t.label:t.html,t.search_match=this.search_string_match(t.search_text,a),t.search_match&&!t.group&&(n+=1),t.search_match?(r.length&&(l=t.search_text.search(d),s=t.search_text.substr(0,l+r.length)+"</em>"+t.search_text.substr(l+r.length),t.search_text=s.substr(0,l)+"<em>"+s.substr(l)),null!=o&&(o.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),1>n&&r.length?(this.update_results_content(""),this.no_results(r)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.search_string_match=function(e,t){var a,i,n,o;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))&&(i=e.replace(/\[|\]/g,"").split(" "),i.length))for(n=0,o=i.length;o>n;n++)if(a=i[n],t.test(a))return!0},e.prototype.choices_count=function(){var e,t,a,i;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,i=this.form_field.options,t=0,a=i.length;a>t;t++)e=i[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},e.prototype.keyup_checker=function(e){var t,a;switch(t=null!=(a=e.which)?a:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.clipboard_event_checker=function(){var e=this;return setTimeout(function(){return e.results_search()},50)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return this.is_multiple&&!this.display_selected_options&&e.selected?!1:!this.display_disabled_options&&e.disabled?!1:e.empty?!1:!0},e.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},e.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},e.prototype.search_results_touchend=function(e){return this.touch_started?this.search_results_mouseup(e):void 0},e.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:(t=document.createElement("div"),t.appendChild(e),t.innerHTML)},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),e=jQuery,e.fn.extend({chosen:function(i){return t.browser_is_supported()?this.each(function(){var t,n;t=e(this),n=t.data("chosen"),"destroy"===i&&n?n.destroy():n||t.data("chosen",new a(this,i))}):this}}),a=function(t){function a(){return n=a.__super__.constructor.apply(this,arguments)}return r(a,t),a.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},a.prototype.set_up_html=function(){var t,a;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),a={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(a.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",a),this.container.html(this.is_multiple?'<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>':'<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},a.prototype.register_observers=function(){var e=this;return this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)}),this.search_results.bind("touchstart.chosen",function(t){e.search_results_touchstart(t)}),this.search_results.bind("touchmove.chosen",function(t){e.search_results_touchmove(t)}),this.search_results.bind("touchend.chosen",function(t){e.search_results_touchend(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){e.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)}),this.form_field_jq.bind("chosen:close.chosen",function(t){e.input_blur(t)}),this.search_field.bind("blur.chosen",function(t){e.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){e.input_focus(t)}),this.search_field.bind("cut.chosen",function(t){e.clipboard_event_checker(t)}),this.search_field.bind("paste.chosen",function(t){e.clipboard_event_checker(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){e.choices_click(t)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},a.prototype.destroy=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},a.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},a.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},a.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},a.prototype.search_results_mousewheel=function(e){var t;return e.originalEvent&&(t=-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},a.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},a.prototype.close_field=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},a.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},a.prototype.test_active_click=function(t){var a;return a=e(t.target).closest(".chosen-container"),a.length&&this.container[0]===a[0]?this.active_field=!0:this.close_field()},a.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=i.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},a.prototype.result_do_highlight=function(e){var t,a,i,n,o;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),i=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),n=i+o,a=this.result_highlight.position().top+this.search_results.scrollTop(),t=a+this.result_highlight.outerHeight(),t>=n)return this.search_results.scrollTop(t-i>0?t-i:0);if(o>a)return this.search_results.scrollTop(a)}},a.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},a.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},a.prototype.update_results_content=function(e){return this.search_results.html(e)},a.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},a.prototype.set_tab_index=function(){var e;return this.form_field.tabIndex?(e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e):void 0},a.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},a.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},a.prototype.search_results_mouseup=function(t){var a;return a=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),a.length?(this.result_highlight=a,this.result_select(t),this.search_field.focus()):void 0},a.prototype.search_results_mouseover=function(t){var a;return a=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),a?this.result_do_highlight(a):void 0},a.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},a.prototype.choice_build=function(t){var a,i,n=this;return a=e("<li />",{"class":"search-choice"}).html("<span>"+t.html+"</span>"),t.disabled?a.addClass("search-choice-disabled"):(i=e("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index}),i.bind("click.chosen",function(e){return n.choice_destroy_link_click(e)}),a.append(i)),this.search_container.before(a)},a.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(e(t.target))},a.prototype.choice_destroy=function(e){return this.result_deselect(e[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},a.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},a.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},a.prototype.result_select=function(e){var t,a;return this.result_highlight?(t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),a=this.results_data[t[0].getAttribute("data-option-array-index")],a.selected=!0,this.form_field.options[a.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(a):this.single_set_selected_text(a.text),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[a.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},a.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(e)},a.prototype.result_deselect=function(e){var t;return t=this.results_data[e],this.form_field.options[t.options_index].disabled?!1:(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},a.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},a.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html()},a.prototype.winnow_results_set_highlight=function(){var e,t;return t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null!=e?this.result_do_highlight(e):void 0},a.prototype.no_results=function(t){var a;return a=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),a.find("span").first().html(t),this.search_results.append(a),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},a.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},a.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},a.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},a.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},a.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},a.prototype.keydown_checker=function(e){var t,a;switch(t=null!=(a=e.which)?a:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},a.prototype.search_field_scale=function(){var t,a,i,n,o,r,l,s,d;if(this.is_multiple){for(i=0,l=0,o="position:absolute; left: -1000px; top: -1000px; display:none;",r=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],s=0,d=r.length;d>s;s++)n=r[s],o+=n+":"+this.search_field.css(n)+";";return t=e("<div />",{style:o}),t.text(this.search_field.val()),e("body").append(t),l=t.width()+25,t.remove(),a=this.container.outerWidth(),l>a-10&&(l=a-10),this.search_field.css({width:l+"px"})}},a}(t)}.call(this);/*!
 * @license wysihtml5 v0.3.0
 * https://github.com/xing/wysihtml5
 *
 * Author: Christopher Blum (https://github.com/tiff)
 *
 * Copyright (C) 2012 XING AG
 * Licensed under the MIT license (MIT)
 */
var wysihtml5={version:"0.3.0",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};window.rangy=function(){function e(e,t){var a=typeof e[t];return a==u||!(a!=c||!e[t])||"unknown"==a}function t(e,t){return!(typeof e[t]!=c||!e[t])}function a(e,t){return typeof e[t]!=p}function i(e){return function(t,a){for(var i=a.length;i--;)if(!e(t,a[i]))return!1;return!0}}function n(e){return e&&v(e,f)&&y(e,g)}function o(e){window.alert("Rangy not supported in your browser. Reason: "+e),k.initialized=!0,k.supported=!1}function r(e){var t="Rangy warning: "+e;k.config.alertOnWarn?window.alert(t):typeof window.console!=p&&typeof window.console.log!=p&&window.console.log(t)}function l(){if(!k.initialized){var a,i=!1,r=!1;e(document,"createRange")&&(a=document.createRange(),v(a,m)&&y(a,h)&&(i=!0),a.detach());var l=t(document,"body")?document.body:document.getElementsByTagName("body")[0];l&&e(l,"createTextRange")&&(a=l.createTextRange(),n(a)&&(r=!0)),i||r||o("Neither Range nor TextRange are implemented"),k.initialized=!0,k.features={implementsDomRange:i,implementsTextRange:r};for(var s=C.concat(T),d=0,c=s.length;c>d;++d)try{s[d](k)}catch(u){t(window,"console")&&e(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",u)}}}function s(e){e=e||window,l();for(var t=0,a=w.length;a>t;++t)w[t](e)}function d(e){this.name=e,this.initialized=!1,this.supported=!1}var c="object",u="function",p="undefined",h=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer","START_TO_START","START_TO_END","END_TO_START","END_TO_END"],m=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],g=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],f=["collapse","compareEndPoints","duplicate","getBookmark","moveToBookmark","moveToElementText","parentElement","pasteHTML","select","setEndPoint","getBoundingClientRect"],v=i(e),b=i(t),y=i(a),k={version:"1.2.2",initialized:!1,supported:!0,util:{isHostMethod:e,isHostObject:t,isHostProperty:a,areHostMethods:v,areHostObjects:b,areHostProperties:y,isTextRange:n},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};k.fail=o,k.warn=r,{}.hasOwnProperty?k.util.extend=function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])}:o("hasOwnProperty not supported");var T=[],C=[];k.init=l,k.addInitListener=function(e){k.initialized?e(k):T.push(e)};var w=[];k.addCreateMissingNativeApiListener=function(e){w.push(e)},k.createMissingNativeApi=s,d.prototype.fail=function(e){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+e)},d.prototype.warn=function(e){k.warn("Module "+this.name+": "+e)},d.prototype.createError=function(e){return new Error("Error in Rangy "+this.name+" module: "+e)},k.createModule=function(e,t){var a=new d(e);k.modules[e]=a,C.push(function(e){t(e,a),a.initialized=!0,a.supported=!0})},k.requireModules=function(e){for(var t,a,i=0,n=e.length;n>i;++i){if(a=e[i],t=k.modules[a],!(t&&t instanceof d))throw new Error("Module '"+a+"' not found");if(!t.supported)throw new Error("Module '"+a+"' not supported")}};var E=!1,S=function(){E||(E=!0,k.initialized||l())};return typeof window==p?void o("No window found"):typeof document==p?void o("No document found"):(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",S,!1),e(window,"addEventListener")?window.addEventListener("load",S,!1):e(window,"attachEvent")?window.attachEvent("onload",S):o("Window does not have required addEventListener or attachEvent method"),k)}(),rangy.createModule("DomUtil",function(e,t){function a(e){var t;return typeof e.namespaceURI==S||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function i(e){var t=e.parentNode;return 1==t.nodeType?t:null}function n(e){for(var t=0;e=e.previousSibling;)t++;return t}function o(e){var t;return d(e)?e.length:(t=e.childNodes)?t.length:0}function r(e,t){var a,i=[];for(a=e;a;a=a.parentNode)i.push(a);for(a=t;a;a=a.parentNode)if(I(i,a))return a;return null}function l(e,t,a){for(var i=a?t:t.parentNode;i;){if(i===e)return!0;i=i.parentNode}return!1}function s(e,t,a){for(var i,n=a?e:e.parentNode;n;){if(i=n.parentNode,i===t)return n;n=i}return null}function d(e){var t=e.nodeType;return 3==t||4==t||8==t}function c(e,t){var a=t.nextSibling,i=t.parentNode;return a?i.insertBefore(e,a):i.appendChild(e),e}function u(e,t){var a=e.cloneNode(!1);return a.deleteData(0,t),e.deleteData(t,e.length-t),c(a,e),a}function p(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=S)return e.ownerDocument;if(typeof e.document!=S)return e.document;if(e.parentNode)return p(e.parentNode);throw new Error("getDocument: no document found for node")}function h(e){var t=p(e);if(typeof t.defaultView!=S)return t.defaultView;if(typeof t.parentWindow!=S)return t.parentWindow;throw new Error("Cannot get a window object for node")}function m(e){if(typeof e.contentDocument!=S)return e.contentDocument;if(typeof e.contentWindow!=S)return e.contentWindow.document;throw new Error("getIframeWindow: No Document object found for iframe element")}function g(e){if(typeof e.contentWindow!=S)return e.contentWindow;if(typeof e.contentDocument!=S)return e.contentDocument.defaultView;throw new Error("getIframeWindow: No Window object found for iframe element")}function f(e){return D.isHostObject(e,"body")?e.body:e.getElementsByTagName("body")[0]}function v(e){for(var t;t=e.parentNode;)e=t;return e}function b(e,t,a,i){var o,l,d,c,u;if(e==a)return t===i?0:i>t?-1:1;if(o=s(a,e,!0))return t<=n(o)?-1:1;if(o=s(e,a,!0))return n(o)<i?-1:1;if(l=r(e,a),d=e===l?l:s(e,l,!0),c=a===l?l:s(a,l,!0),d===c)throw new Error("comparePoints got to case 4 and childA and childB are the same!");for(u=l.firstChild;u;){if(u===d)return-1;if(u===c)return 1;u=u.nextSibling}throw new Error("Should not be here!")}function y(e){for(var t,a=p(e).createDocumentFragment();t=e.firstChild;)a.appendChild(t);return a}function k(e){if(!e)return"[No node]";if(d(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">["+e.childNodes.length+"]"}return e.nodeName}function T(e){this.root=e,this._next=e}function C(e){return new T(e)}function w(e,t){this.node=e,this.offset=t}function E(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var S="undefined",D=e.util;D.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),D.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var R=document.createElement("div");D.areHostMethods(R,["insertBefore","appendChild","cloneNode"]||!D.areHostObjects(R,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),D.isHostProperty(R,"innerHTML")||t.fail("Element is missing innerHTML property");var A=document.createTextNode("test");D.areHostMethods(A,["splitText","deleteData","insertData","appendData","cloneNode"]||!D.areHostObjects(R,["previousSibling","nextSibling","childNodes","parentNode"])||!D.areHostProperties(A,["data"]))||t.fail("Incomplete Text Node implementation");var I=function(e,t){for(var a=e.length;a--;)if(e[a]===t)return!0;return!1};T.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,a=this._current=this._next;if(this._current)if(e=a.firstChild)this._next=e;else{for(t=null;a!==this.root&&!(t=a.nextSibling);)a=a.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},w.prototype={equals:function(e){return this.node===e.node&this.offset==e.offset},inspect:function(){return"[DomPosition("+k(this.node)+":"+this.offset+")]"}},E.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11},E.prototype.toString=function(){return this.message},e.dom={arrayContains:I,isHtmlNamespace:a,parentElement:i,getNodeIndex:n,getNodeLength:o,getCommonAncestor:r,isAncestorOf:l,getClosestAncestorIn:s,isCharacterDataNode:d,insertAfter:c,splitDataNode:u,getDocument:p,getWindow:h,getIframeWindow:g,getIframeDocument:m,getBody:f,getRootContainer:v,comparePoints:b,inspectNode:k,fragmentFromNodeChildren:y,createIterator:C,DomPosition:w},e.DOMException=E}),rangy.createModule("DomRange",function(e){function t(e,t){return 3!=e.nodeType&&(P.isAncestorOf(e,t.startContainer,!0)||P.isAncestorOf(e,t.endContainer,!0))}function a(e){return P.getDocument(e.startContainer)}function i(e,t,a){var i=e._listeners[t];if(i)for(var n=0,o=i.length;o>n;++n)i[n].call(e,{target:e,args:a})}function n(e){return new z(e.parentNode,P.getNodeIndex(e))}function o(e){return new z(e.parentNode,P.getNodeIndex(e)+1)}function r(e,t,a){var i=11==e.nodeType?e.firstChild:e;return P.isCharacterDataNode(t)?a==t.length?P.insertAfter(e,t):t.parentNode.insertBefore(e,0==a?t:P.splitDataNode(t,a)):a>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[a]),i}function l(e){for(var t,i,n,o=a(e.range).createDocumentFragment();i=e.next();){if(t=e.isPartiallySelectedSubtree(),i=i.cloneNode(!t),t&&(n=e.getSubtreeIterator(),i.appendChild(l(n)),n.detach(!0)),10==i.nodeType)throw new B("HIERARCHY_REQUEST_ERR");o.appendChild(i)}return o}function s(e,t,a){var i,n;a=a||{stop:!1};for(var o,r;o=e.next();)if(e.isPartiallySelectedSubtree()){if(t(o)===!1)return void(a.stop=!0);if(r=e.getSubtreeIterator(),s(r,t,a),r.detach(!0),a.stop)return}else for(i=P.createIterator(o);n=i.next();)if(t(n)===!1)return void(a.stop=!0)}function d(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),d(t),t.detach(!0)):e.remove()}function c(e){for(var t,i,n=a(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),i=e.getSubtreeIterator(),t.appendChild(c(i)),i.detach(!0)):e.remove(),10==t.nodeType)throw new B("HIERARCHY_REQUEST_ERR");n.appendChild(t)}return n}function u(e,t,a){var i,n=!(!t||!t.length),o=!!a;n&&(i=new RegExp("^("+t.join("|")+")$"));var r=[];return s(new h(e,!1),function(e){n&&!i.test(e.nodeType)||o&&!a(e)||r.push(e)}),r}function p(e){var t="undefined"==typeof e.getName?"Range":e.getName();return"["+t+"("+P.inspectNode(e.startContainer)+":"+e.startOffset+", "+P.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function h(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var a=e.commonAncestorContainer;this.sc===this.ec&&P.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==a||P.isCharacterDataNode(this.sc)?P.getClosestAncestorIn(this.sc,a,!0):this.sc.childNodes[this.so],this._last=this.ec!==a||P.isCharacterDataNode(this.ec)?P.getClosestAncestorIn(this.ec,a,!0):this.ec.childNodes[this.eo-1])}}function m(e){this.code=this[e],this.codeName=e,this.message="RangeException: "+this.codeName}function g(e,t,a){this.nodes=u(e,t,a),this._next=this.nodes[0],this._position=0}function f(e){return function(t,a){for(var i,n=a?t:t.parentNode;n;){if(i=n.nodeType,P.arrayContains(e,i))return n;n=n.parentNode}return null}}function v(e,t){if($(e,t))throw new m("INVALID_NODE_TYPE_ERR")}function b(e){if(!e.startContainer)throw new B("INVALID_STATE_ERR")}function y(e,t){if(!P.arrayContains(t,e.nodeType))throw new m("INVALID_NODE_TYPE_ERR")}function k(e,t){if(0>t||t>(P.isCharacterDataNode(e)?e.length:e.childNodes.length))throw new B("INDEX_SIZE_ERR")}function T(e,t){if(U(e,!0)!==U(t,!0))throw new B("WRONG_DOCUMENT_ERR")}function C(e){if(q(e,!0))throw new B("NO_MODIFICATION_ALLOWED_ERR")}function w(e,t){if(!e)throw new B(t)}function E(e){return!P.arrayContains(K,e.nodeType)&&!U(e,!0)}function S(e,t){return t<=(P.isCharacterDataNode(e)?e.length:e.childNodes.length)}function D(e){if(b(e),E(e.startContainer)||E(e.endContainer)||!S(e.startContainer,e.startOffset)||!S(e.endContainer,e.endOffset))throw new Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}function R(){}function A(e){e.START_TO_START=Q,e.START_TO_END=et,e.END_TO_END=tt,e.END_TO_START=at,e.NODE_BEFORE=it,e.NODE_AFTER=nt,e.NODE_BEFORE_AND_AFTER=ot,e.NODE_INSIDE=rt}function I(e){A(e),A(e.prototype)}function x(e,t){return function(){D(this);var a,i,n=this.startContainer,r=this.startOffset,l=this.commonAncestorContainer,d=new h(this,!0);n!==l&&(a=P.getClosestAncestorIn(n,l,!0),i=o(a),n=i.node,r=i.offset),s(d,C),d.reset();var c=e(d);return d.detach(),t(this,n,r,n,r),c}}function L(a,i,r){function l(e,t){return function(a){b(this),y(a,M),y(V(a),K);var i=(e?n:o)(a);(t?s:u)(this,i.node,i.offset)}}function s(e,t,a){var n=e.endContainer,o=e.endOffset;(t!==e.startContainer||a!==e.startOffset)&&((V(t)!=V(n)||1==P.comparePoints(t,a,n,o))&&(n=t,o=a),i(e,t,a,n,o))}function u(e,t,a){var n=e.startContainer,o=e.startOffset;(t!==e.endContainer||a!==e.endOffset)&&((V(t)!=V(n)||-1==P.comparePoints(t,a,n,o))&&(n=t,o=a),i(e,n,o,t,a))}function p(e,t,a){(t!==e.startContainer||a!==e.startOffset||t!==e.endContainer||a!==e.endOffset)&&i(e,t,a,t,a)}a.prototype=new R,e.util.extend(a.prototype,{setStart:function(e,t){b(this),v(e,!0),k(e,t),s(this,e,t)},setEnd:function(e,t){b(this),v(e,!0),k(e,t),u(this,e,t)},setStartBefore:l(!0,!0),setStartAfter:l(!1,!0),setEndBefore:l(!0,!1),setEndAfter:l(!1,!1),collapse:function(e){D(this),e?i(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):i(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){b(this),v(e,!0),i(this,e,0,e,P.getNodeLength(e))},selectNode:function(e){b(this),v(e,!1),y(e,M);var t=n(e),a=o(e);i(this,t.node,t.offset,a.node,a.offset)},extractContents:x(c,i),deleteContents:x(d,i),canSurroundContents:function(){D(this),C(this.startContainer),C(this.endContainer);var e=new h(this,!0),a=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!a},detach:function(){r(this)},splitBoundaries:function(){D(this);var e=this.startContainer,t=this.startOffset,a=this.endContainer,n=this.endOffset,o=e===a;P.isCharacterDataNode(a)&&n>0&&n<a.length&&P.splitDataNode(a,n),P.isCharacterDataNode(e)&&t>0&&t<e.length&&(e=P.splitDataNode(e,t),o?(n-=t,a=e):a==e.parentNode&&n>=P.getNodeIndex(e)&&n++,t=0),i(this,e,t,a,n)},normalizeBoundaries:function(){D(this);var e=this.startContainer,t=this.startOffset,a=this.endContainer,n=this.endOffset,o=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(a=e,n=e.length,e.appendData(t.data),t.parentNode.removeChild(t))},r=function(i){var o=i.previousSibling;if(o&&o.nodeType==i.nodeType){e=i;var r=i.length;if(t=o.length,i.insertData(0,o.data),o.parentNode.removeChild(o),e==a)n+=t,a=e;else if(a==i.parentNode){var l=P.getNodeIndex(i);n==l?(a=i,n=r):n>l&&n--}}},l=!0;if(P.isCharacterDataNode(a))a.length==n&&o(a);else{if(n>0){var s=a.childNodes[n-1];s&&P.isCharacterDataNode(s)&&o(s)}l=!this.collapsed}if(l){if(P.isCharacterDataNode(e))0==t&&r(e);else if(t<e.childNodes.length){var d=e.childNodes[t];d&&P.isCharacterDataNode(d)&&r(d)}}else e=a,t=n;i(this,e,t,a,n)},collapseToPoint:function(e,t){b(this),v(e,!0),k(e,t),p(this,e,t)}}),I(a)}function _(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:P.getCommonAncestor(e.startContainer,e.endContainer)}function F(e,t,a,n,o){var r=e.startContainer!==t||e.startOffset!==a,l=e.endContainer!==n||e.endOffset!==o;e.startContainer=t,e.startOffset=a,e.endContainer=n,e.endOffset=o,_(e),i(e,"boundarychange",{startMoved:r,endMoved:l})}function O(e){b(e),e.startContainer=e.startOffset=e.endContainer=e.endOffset=null,e.collapsed=e.commonAncestorContainer=null,i(e,"detach",null),e._listeners=null}function N(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},_(this)}e.requireModules(["DomUtil"]);var P=e.dom,z=P.DomPosition,B=e.DOMException;h.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,P.isCharacterDataNode(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,a=this._current;!P.isCharacterDataNode(a)||a!==this.sc&&a!==this.ec?a.parentNode&&a.parentNode.removeChild(a):(e=a===this.sc?this.so:0,t=a===this.ec?this.eo:a.length,e!=t&&a.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){var e=this._current;return t(e,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)e=this.range.cloneRange(),e.collapse();else{e=new N(a(this.range));var t=this._current,i=t,n=0,o=t,r=P.getNodeLength(t);P.isAncestorOf(t,this.sc,!0)&&(i=this.sc,n=this.so),P.isAncestorOf(t,this.ec,!0)&&(o=this.ec,r=this.eo),F(e,i,n,o,r)}return new h(e,this.clonePartiallySelectedTextNodes)},detach:function(e){e&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},m.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2},m.prototype.toString=function(){return this.message},g.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var M=[1,3,4,5,7,8,10],K=[2,9,11],j=[5,6,10,12],H=[1,3,4,5,7,8,10,11],W=[1,3,4,5,7,8],V=P.getRootContainer,U=f([9,11]),q=f(j),$=f([6,10,12]),G=document.createElement("style"),Y=!1;try{G.innerHTML="<b>x</b>",Y=3==G.firstChild.nodeType}catch(Z){}e.features.htmlParsingConforms=Y;var X=Y?function(e){var t=this.startContainer,a=P.getDocument(t);if(!t)throw new B("INVALID_STATE_ERR");var i=null;return 1==t.nodeType?i=t:P.isCharacterDataNode(t)&&(i=P.parentElement(t)),i=null===i||"HTML"==i.nodeName&&P.isHtmlNamespace(P.getDocument(i).documentElement)&&P.isHtmlNamespace(i)?a.createElement("body"):i.cloneNode(!1),i.innerHTML=e,P.fragmentFromNodeChildren(i)}:function(e){b(this);var t=a(this),i=t.createElement("body");return i.innerHTML=e,P.fragmentFromNodeChildren(i)},J=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],Q=0,et=1,tt=2,at=3,it=0,nt=1,ot=2,rt=3;R.prototype={attachListener:function(e,t){this._listeners[e].push(t)},compareBoundaryPoints:function(e,t){D(this),T(this.startContainer,t.startContainer);var a,i,n,o,r=e==at||e==Q?"start":"end",l=e==et||e==Q?"start":"end";return a=this[r+"Container"],i=this[r+"Offset"],n=t[l+"Container"],o=t[l+"Offset"],P.comparePoints(a,i,n,o)},insertNode:function(e){if(D(this),y(e,H),C(this.startContainer),P.isAncestorOf(e,this.startContainer,!0))throw new B("HIERARCHY_REQUEST_ERR");var t=r(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){D(this);var e,t;if(this.collapsed)return a(this).createDocumentFragment();if(this.startContainer===this.endContainer&&P.isCharacterDataNode(this.startContainer))return e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=a(this).createDocumentFragment(),t.appendChild(e),t;var i=new h(this,!0);return e=l(i),i.detach(),e},canSurroundContents:function(){D(this),C(this.startContainer),C(this.endContainer);var e=new h(this,!0),a=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!a},surroundContents:function(e){if(y(e,W),!this.canSurroundContents())throw new m("BAD_BOUNDARYPOINTS_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);r(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){D(this);for(var e,t=new N(a(this)),i=J.length;i--;)e=J[i],t[e]=this[e];return t},toString:function(){D(this);var e=this.startContainer;if(e===this.endContainer&&P.isCharacterDataNode(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],a=new h(this,!0);return s(a,function(e){(3==e.nodeType||4==e.nodeType)&&t.push(e.data)}),a.detach(),t.join("")},compareNode:function(e){D(this);var t=e.parentNode,a=P.getNodeIndex(e);if(!t)throw new B("NOT_FOUND_ERR");var i=this.comparePoint(t,a),n=this.comparePoint(t,a+1);return 0>i?n>0?ot:it:n>0?nt:rt},comparePoint:function(e,t){return D(this),w(e,"HIERARCHY_REQUEST_ERR"),T(e,this.startContainer),P.comparePoints(e,t,this.startContainer,this.startOffset)<0?-1:P.comparePoints(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:X,toHtml:function(){D(this);var e=a(this).createElement("div");return e.appendChild(this.cloneContents()),e.innerHTML},intersectsNode:function(e,t){if(D(this),w(e,"NOT_FOUND_ERR"),P.getDocument(e)!==a(this))return!1;var i=e.parentNode,n=P.getNodeIndex(e);w(i,"NOT_FOUND_ERR");var o=P.comparePoints(i,n,this.endContainer,this.endOffset),r=P.comparePoints(i,n+1,this.startContainer,this.startOffset);return t?0>=o&&r>=0:0>o&&r>0},isPointInRange:function(e,t){return D(this),w(e,"HIERARCHY_REQUEST_ERR"),T(e,this.startContainer),P.comparePoints(e,t,this.startContainer,this.startOffset)>=0&&P.comparePoints(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e,t){if(D(this),a(e)!=a(this))throw new B("WRONG_DOCUMENT_ERR");var i=P.comparePoints(this.startContainer,this.startOffset,e.endContainer,e.endOffset),n=P.comparePoints(this.endContainer,this.endOffset,e.startContainer,e.startOffset);return t?0>=i&&n>=0:0>i&&n>0},intersection:function(e){if(this.intersectsRange(e)){var t=P.comparePoints(this.startContainer,this.startOffset,e.startContainer,e.startOffset),a=P.comparePoints(this.endContainer,this.endOffset,e.endContainer,e.endOffset),i=this.cloneRange();return-1==t&&i.setStart(e.startContainer,e.startOffset),1==a&&i.setEnd(e.endContainer,e.endOffset),i}return null},union:function(e){if(this.intersectsRange(e,!0)){var t=this.cloneRange();return-1==P.comparePoints(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==P.comparePoints(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new m("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==rt},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,P.getNodeLength(e))<=0},containsRange:function(e){return this.intersection(e).equals(e)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var a=t.getNodes([3]);if(a.length>0){t.setStart(a[0],0);var i=a.pop();t.setEnd(i,i.length);var n=this.containsRange(t);return t.detach(),n}return this.containsNodeContents(e)},createNodeIterator:function(e,t){return D(this),new g(this,e,t)},getNodes:function(e,t){return D(this),u(this,e,t)},getDocument:function(){return a(this)},collapseBefore:function(e){b(this),this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){b(this),this.setStartAfter(e),this.collapse(!0)},getName:function(){return"DomRange"},equals:function(e){return N.rangesEqual(this,e)},inspect:function(){return p(this)}},L(N,F,O),e.rangePrototype=R.prototype,N.rangeProperties=J,N.RangeIterator=h,N.copyComparisonConstants=I,N.createPrototypeRange=L,N.inspect=p,N.getRangeDocument=a,N.rangesEqual=function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},e.DomRange=N,e.RangeException=m}),rangy.createModule("WrappedRange",function(e){function t(e){var t=e.parentElement(),a=e.duplicate();a.collapse(!0);var i=a.parentElement();a=e.duplicate(),a.collapse(!1);var n=a.parentElement(),o=i==n?i:r.getCommonAncestor(i,n);return o==t?o:r.getCommonAncestor(t,o)}function a(e){return 0==e.compareEndPoints("StartToEnd",e)}function i(e,t,a,i){var n=e.duplicate();n.collapse(a);var o=n.parentElement();if(r.isAncestorOf(t,o,!0)||(o=t),!o.canHaveHTML)return new l(o.parentNode,r.getNodeIndex(o));var s,d,c,u,p,h=r.getDocument(o).createElement("span"),m=a?"StartToStart":"StartToEnd";do o.insertBefore(h,h.previousSibling),n.moveToElementText(h);while((s=n.compareEndPoints(m,e))>0&&h.previousSibling);if(p=h.nextSibling,-1==s&&p&&r.isCharacterDataNode(p)){n.setEndPoint(a?"EndToStart":"EndToEnd",e);var g;if(/[\r\n]/.test(p.data)){var f=n.duplicate(),v=f.text.replace(/\r\n/g,"\r").length;for(g=f.moveStart("character",v);-1==(s=f.compareEndPoints("StartToEnd",f));)g++,f.moveStart("character",1)}else g=n.text.length;u=new l(p,g)}else d=(i||!a)&&h.previousSibling,c=(i||a)&&h.nextSibling,u=c&&r.isCharacterDataNode(c)?new l(c,0):d&&r.isCharacterDataNode(d)?new l(d,d.length):new l(o,r.getNodeIndex(h));return h.parentNode.removeChild(h),u}function n(e,t){var a,i,n,o,l=e.offset,s=r.getDocument(e.node),d=s.body.createTextRange(),c=r.isCharacterDataNode(e.node);return c?(a=e.node,i=a.parentNode):(o=e.node.childNodes,a=l<o.length?o[l]:null,i=e.node),n=s.createElement("span"),n.innerHTML="&#feff;",a?i.insertBefore(n,a):i.appendChild(n),d.moveToElementText(n),d.collapse(!t),i.removeChild(n),c&&d[t?"moveStart":"moveEnd"]("character",l),d}e.requireModules(["DomUtil","DomRange"]);var o,r=e.dom,l=r.DomPosition,s=e.DomRange;if(!e.features.implementsDomRange||e.features.implementsTextRange&&e.config.preferTextRange){if(e.features.implementsTextRange){o=function(e){this.textRange=e,this.refresh()},o.prototype=new s(document),o.prototype.refresh=function(){var e,n,o=t(this.textRange);a(this.textRange)?n=e=i(this.textRange,o,!0,!0):(e=i(this.textRange,o,!0,!1),n=i(this.textRange,o,!1,!1)),this.setStart(e.node,e.offset),this.setEnd(n.node,n.offset)},s.copyComparisonConstants(o);var d=function(){return this}();"undefined"==typeof d.Range&&(d.Range=o),e.createNativeRange=function(e){return e=e||document,e.body.createTextRange()}}}else!function(){function t(e){for(var t,a=c.length;a--;)t=c[a],e[t]=e.nativeRange[t]}function a(e,t,a,i,n){var o=e.startContainer!==t||e.startOffset!=a,r=e.endContainer!==i||e.endOffset!=n;(o||r)&&(e.setEnd(i,n),e.setStart(t,a))}function i(e){e.nativeRange.detach(),e.detached=!0;for(var t,a=c.length;a--;)t=c[a],e[t]=null}var n,l,d,c=s.rangeProperties;o=function(e){if(!e)throw new Error("Range must be specified");this.nativeRange=e,t(this)},s.createPrototypeRange(o,a,i),n=o.prototype,n.selectNode=function(e){this.nativeRange.selectNode(e),t(this)},n.deleteContents=function(){this.nativeRange.deleteContents(),t(this)},n.extractContents=function(){var e=this.nativeRange.extractContents();return t(this),e},n.cloneContents=function(){return this.nativeRange.cloneContents()},n.surroundContents=function(e){this.nativeRange.surroundContents(e),t(this)},n.collapse=function(e){this.nativeRange.collapse(e),t(this)},n.cloneRange=function(){return new o(this.nativeRange.cloneRange())},n.refresh=function(){t(this)},n.toString=function(){return this.nativeRange.toString()};var u=document.createTextNode("test");r.getBody(document).appendChild(u);var p=document.createRange();p.setStart(u,0),p.setEnd(u,0);try{p.setStart(u,1),l=!0,n.setStart=function(e,a){this.nativeRange.setStart(e,a),t(this)},n.setEnd=function(e,a){this.nativeRange.setEnd(e,a),t(this)},d=function(e){return function(a){this.nativeRange[e](a),t(this)}}}catch(h){l=!1,n.setStart=function(e,a){try{this.nativeRange.setStart(e,a)}catch(i){this.nativeRange.setEnd(e,a),this.nativeRange.setStart(e,a)}t(this)},n.setEnd=function(e,a){try{this.nativeRange.setEnd(e,a)}catch(i){this.nativeRange.setStart(e,a),this.nativeRange.setEnd(e,a)}t(this)},d=function(e,a){return function(i){try{this.nativeRange[e](i)}catch(n){this.nativeRange[a](i),this.nativeRange[e](i)}t(this)}}}n.setStartBefore=d("setStartBefore","setEndBefore"),n.setStartAfter=d("setStartAfter","setEndAfter"),n.setEndBefore=d("setEndBefore","setStartBefore"),n.setEndAfter=d("setEndAfter","setStartAfter"),p.selectNodeContents(u),n.selectNodeContents=p.startContainer==u&&p.endContainer==u&&0==p.startOffset&&p.endOffset==u.length?function(e){this.nativeRange.selectNodeContents(e),t(this)}:function(e){this.setStart(e,0),this.setEnd(e,s.getEndOffset(e))},p.selectNodeContents(u),p.setEnd(u,3);var m=document.createRange();m.selectNodeContents(u),m.setEnd(u,4),m.setStart(u,2),n.compareBoundaryPoints=-1==p.compareBoundaryPoints(p.START_TO_END,m)&1==p.compareBoundaryPoints(p.END_TO_START,m)?function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)},e.util.isHostMethod(p,"createContextualFragment")&&(n.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),r.getBody(document).removeChild(u),p.detach(),m.detach()}(),e.createNativeRange=function(e){return e=e||document,e.createRange()};e.features.implementsTextRange&&(o.rangeToTextRange=function(e){if(e.collapsed){var t=n(new l(e.startContainer,e.startOffset),!0);return t}var a=n(new l(e.startContainer,e.startOffset),!0),i=n(new l(e.endContainer,e.endOffset),!1),o=r.getDocument(e.startContainer).body.createTextRange();return o.setEndPoint("StartToStart",a),o.setEndPoint("EndToEnd",i),o}),o.prototype.getName=function(){return"WrappedRange"},e.WrappedRange=o,e.createRange=function(t){return t=t||document,new o(e.createNativeRange(t))},e.createRangyRange=function(e){return e=e||document,new s(e)},e.createIframeRange=function(t){return e.createRange(r.getIframeDocument(t))},e.createIframeRangyRange=function(t){return e.createRangyRange(r.getIframeDocument(t))},e.addCreateMissingNativeApiListener(function(t){var a=t.document;"undefined"==typeof a.createRange&&(a.createRange=function(){return e.createRange(this)}),a=t=null})}),rangy.createModule("WrappedSelection",function(e,t){function a(e){return(e||window).getSelection()}function i(e){return(e||window).document.selection}function n(e,t,a){var i=a?"end":"start",n=a?"start":"end";e.anchorNode=t[i+"Container"],e.anchorOffset=t[i+"Offset"],e.focusNode=t[n+"Container"],e.focusOffset=t[n+"Offset"]}function o(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function r(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function l(t){var a;return t instanceof E?(a=t._selectionNativeRange,a||(a=e.createNativeRange(C.getDocument(t.startContainer)),a.setEnd(t.endContainer,t.endOffset),a.setStart(t.startContainer,t.startOffset),t._selectionNativeRange=a,t.attachListener("detach",function(){this._selectionNativeRange=null}))):t instanceof S?a=t.nativeRange:e.features.implementsDomRange&&t instanceof C.getWindow(t.startContainer).Range&&(a=t),a}function s(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,a=e.length;a>t;++t)if(!C.isAncestorOf(e[0],e[t]))return!1;return!0}function d(e){var t=e.getNodes();if(!s(t))throw new Error("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return t[0]}function c(e){return!!e&&"undefined"!=typeof e.text}function u(e,t){var a=new S(t);e._ranges=[a],n(e,a,!1),e.rangeCount=1,e.isCollapsed=a.collapsed}function p(t){if(t._ranges.length=0,"None"==t.docSelection.type)r(t);else{var a=t.docSelection.createRange();if(c(a))u(t,a);else{t.rangeCount=a.length;for(var i,o=C.getDocument(a.item(0)),l=0;l<t.rangeCount;++l)i=e.createRange(o),i.selectNode(a.item(l)),t._ranges.push(i);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,n(t,t._ranges[t.rangeCount-1],!1)}}}function h(e,t){for(var a=e.docSelection.createRange(),i=d(t),n=C.getDocument(a.item(0)),o=C.getBody(n).createControlRange(),r=0,l=a.length;l>r;++r)o.add(a.item(r));try{o.add(i)}catch(s){throw new Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}o.select(),p(e)}function m(e,t,a){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=a,this.refresh()}function g(e,t){for(var a,i=C.getDocument(t[0].startContainer),n=C.getBody(i).createControlRange(),o=0;rangeCount>o;++o){a=d(t[o]);
try{n.add(a)}catch(r){throw new Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")}}n.select(),p(e)}function f(e,t){if(e.anchorNode&&C.getDocument(e.anchorNode)!==C.getDocument(t))throw new D("WRONG_DOCUMENT_ERR")}function v(e){var t=[],a=new R(e.anchorNode,e.anchorOffset),i=new R(e.focusNode,e.focusOffset),n="function"==typeof e.getName?e.getName():"Selection";if("undefined"!=typeof e.rangeCount)for(var o=0,r=e.rangeCount;r>o;++o)t[o]=E.inspect(e.getRangeAt(o));return"["+n+"(Ranges: "+t.join(", ")+")(anchor: "+a.inspect()+", focus: "+i.inspect()+"]"}e.requireModules(["DomUtil","DomRange","WrappedRange"]),e.config.checkSelectionRanges=!0;var b,y,k="boolean",T="_rangySelection",C=e.dom,w=e.util,E=e.DomRange,S=e.WrappedRange,D=e.DOMException,R=C.DomPosition,A="Control",I=e.util.isHostMethod(window,"getSelection"),x=e.util.isHostObject(document,"selection"),L=x&&(!I||e.config.preferTextRange);L?(b=i,e.isSelectionValid=function(e){var t=(e||window).document,a=t.selection;return"None"!=a.type||C.getDocument(a.createRange().parentElement())==t}):I?(b=a,e.isSelectionValid=function(){return!0}):t.fail("Neither document.selection or window.getSelection() detected."),e.getNativeSelection=b;var _=b(),F=e.createNativeRange(document),O=C.getBody(document),N=w.areHostObjects(_,["anchorNode","focusNode"]&&w.areHostProperties(_,["anchorOffset","focusOffset"]));e.features.selectionHasAnchorAndFocus=N;var P=w.isHostMethod(_,"extend");e.features.selectionHasExtend=P;var z="number"==typeof _.rangeCount;e.features.selectionHasRangeCount=z;var B=!1,M=!0;w.areHostMethods(_,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof _.rangeCount&&e.features.implementsDomRange&&function(){var e=document.createElement("iframe");O.appendChild(e);var t=C.getIframeDocument(e);t.open(),t.write("<html><head></head><body>12</body></html>"),t.close();var a=C.getIframeWindow(e).getSelection(),i=t.documentElement,n=i.lastChild,o=n.firstChild,r=t.createRange();r.setStart(o,1),r.collapse(!0),a.addRange(r),M=1==a.rangeCount,a.removeAllRanges();var l=r.cloneRange();r.setStart(o,0),l.setEnd(o,2),a.addRange(r),a.addRange(l),B=2==a.rangeCount,r.detach(),l.detach(),O.removeChild(e)}(),e.features.selectionSupportsMultipleRanges=B,e.features.collapsedNonEditableSelectionsSupported=M;var K,j=!1;O&&w.isHostMethod(O,"createControlRange")&&(K=O.createControlRange(),w.areHostProperties(K,["item","add"])&&(j=!0)),e.features.implementsControlRange=j,y=N?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return e.rangeCount?e.getRangeAt(e.rangeCount-1).collapsed:!1};var H;w.isHostMethod(_,"getRangeAt")?H=function(e,t){try{return e.getRangeAt(t)}catch(a){return null}}:N&&(H=function(t){var a=C.getDocument(t.anchorNode),i=e.createRange(a);return i.setStart(t.anchorNode,t.anchorOffset),i.setEnd(t.focusNode,t.focusOffset),i.collapsed!==this.isCollapsed&&(i.setStart(t.focusNode,t.focusOffset),i.setEnd(t.anchorNode,t.anchorOffset)),i}),e.getSelection=function(e){e=e||window;var t=e[T],a=b(e),n=x?i(e):null;return t?(t.nativeSelection=a,t.docSelection=n,t.refresh(e)):(t=new m(a,n,e),e[T]=t),t},e.getIframeSelection=function(t){return e.getSelection(C.getIframeWindow(t))};var W=m.prototype;if(!L&&N&&w.areHostMethods(_,["removeAllRanges","addRange"])){W.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),r(this)};var V=function(t,a){var i=E.getRangeDocument(a),n=e.createRange(i);n.collapseToPoint(a.endContainer,a.endOffset),t.nativeSelection.addRange(l(n)),t.nativeSelection.extend(a.startContainer,a.startOffset),t.refresh()};W.addRange=z?function(t,a){if(j&&x&&this.docSelection.type==A)h(this,t);else if(a&&P)V(this,t);else{var i;if(B?i=this.rangeCount:(this.removeAllRanges(),i=0),this.nativeSelection.addRange(l(t)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==i+1){if(e.config.checkSelectionRanges){var o=H(this.nativeSelection,this.rangeCount-1);o&&!E.rangesEqual(o,t)&&(t=new S(o))}this._ranges[this.rangeCount-1]=t,n(this,t,$(this.nativeSelection)),this.isCollapsed=y(this)}else this.refresh()}}:function(e,t){t&&P?V(this,e):(this.nativeSelection.addRange(l(e)),this.refresh())},W.setRanges=function(e){if(j&&e.length>1)g(this,e);else{this.removeAllRanges();for(var t=0,a=e.length;a>t;++t)this.addRange(e[t])}}}else{if(!(w.isHostMethod(_,"empty")&&w.isHostMethod(F,"select")&&j&&L))return t.fail("No means of selecting a Range or TextRange was found"),!1;W.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=C.getDocument(this.anchorNode);else if(this.docSelection.type==A){var t=this.docSelection.createRange();t.length&&(e=C.getDocument(t.item(0)).body.createTextRange())}if(e){var a=e.body.createTextRange();a.select(),this.docSelection.empty()}}}catch(i){}r(this)},W.addRange=function(e){this.docSelection.type==A?h(this,e):(S.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,n(this,e,!1))},W.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?g(this,e):t&&this.addRange(e[0])}}W.getRangeAt=function(e){if(0>e||e>=this.rangeCount)throw new D("INDEX_SIZE_ERR");return this._ranges[e]};var U;if(L)U=function(t){var a;e.isSelectionValid(t.win)?a=t.docSelection.createRange():(a=C.getBody(t.win.document).createTextRange(),a.collapse(!0)),t.docSelection.type==A?p(t):c(a)?u(t,a):r(t)};else if(w.isHostMethod(_,"getRangeAt")&&"number"==typeof _.rangeCount)U=function(t){if(j&&x&&t.docSelection.type==A)p(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var a=0,i=t.rangeCount;i>a;++a)t._ranges[a]=new e.WrappedRange(t.nativeSelection.getRangeAt(a));n(t,t._ranges[t.rangeCount-1],$(t.nativeSelection)),t.isCollapsed=y(t)}else r(t)};else{if(!N||typeof _.isCollapsed!=k||typeof F.collapsed!=k||!e.features.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;U=function(e){var t,a=e.nativeSelection;a.anchorNode?(t=H(a,0),e._ranges=[t],e.rangeCount=1,o(e),e.isCollapsed=y(e)):r(e)}}W.refresh=function(e){var t=e?this._ranges.slice(0):null;if(U(this),e){var a=t.length;if(a!=this._ranges.length)return!1;for(;a--;)if(!E.rangesEqual(t[a],this._ranges[a]))return!1;return!0}};var q=function(e,t){var a=e.getAllRanges(),i=!1;e.removeAllRanges();for(var n=0,o=a.length;o>n;++n)i||t!==a[n]?e.addRange(a[n]):i=!0;e.rangeCount||r(e)};W.removeRange=j?function(e){if(this.docSelection.type==A){for(var t,a=this.docSelection.createRange(),i=d(e),n=C.getDocument(a.item(0)),o=C.getBody(n).createControlRange(),r=!1,l=0,s=a.length;s>l;++l)t=a.item(l),t!==i||r?o.add(a.item(l)):r=!0;o.select(),p(this)}else q(this,e)}:function(e){q(this,e)};var $;!L&&N&&e.features.implementsDomRange?($=function(e){var t=!1;return e.anchorNode&&(t=1==C.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t},W.isBackwards=function(){return $(this)}):$=W.isBackwards=function(){return!1},W.toString=function(){for(var e=[],t=0,a=this.rangeCount;a>t;++t)e[t]=""+this._ranges[t];return e.join("")},W.collapse=function(t,a){f(this,t);var i=e.createRange(C.getDocument(t));i.collapseToPoint(t,a),this.removeAllRanges(),this.addRange(i),this.isCollapsed=!0},W.collapseToStart=function(){if(!this.rangeCount)throw new D("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},W.collapseToEnd=function(){if(!this.rangeCount)throw new D("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},W.selectAllChildren=function(t){f(this,t);var a=e.createRange(C.getDocument(t));a.selectNodeContents(t),this.removeAllRanges(),this.addRange(a)},W.deleteFromDocument=function(){if(j&&x&&this.docSelection.type==A){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),e.parentNode.removeChild(e);this.refresh()}else if(this.rangeCount){var a=this.getAllRanges();this.removeAllRanges();for(var i=0,n=a.length;n>i;++i)a[i].deleteContents();this.addRange(a[n-1])}},W.getAllRanges=function(){return this._ranges.slice(0)},W.setSingleRange=function(e){this.setRanges([e])},W.containsNode=function(e,t){for(var a=0,i=this._ranges.length;i>a;++a)if(this._ranges[a].containsNode(e,t))return!0;return!1},W.toHtml=function(){var e="";if(this.rangeCount){for(var t=E.getRangeDocument(this._ranges[0]).createElement("div"),a=0,i=this._ranges.length;i>a;++a)t.appendChild(this._ranges[a].cloneContents());e=t.innerHTML}return e},W.getName=function(){return"WrappedSelection"},W.inspect=function(){return v(this)},W.detach=function(){this.win[T]=null,this.win=this.anchorNode=this.focusNode=null},m.inspect=v,e.Selection=m,e.selectionPrototype=W,e.addCreateMissingNativeApiListener(function(t){"undefined"==typeof t.getSelection&&(t.getSelection=function(){return e.getSelection(this)}),t=null})});var Base=function(){};Base.extend=function(e,t){var a=Base.prototype.extend;Base._prototyping=!0;var i=new this;a.call(i,e),i.base=function(){},delete Base._prototyping;var n=i.constructor,o=i.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==o)this._constructing=!0,n.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||a).call(arguments[0],i)};return o.ancestor=this,o.extend=this.extend,o.forEach=this.forEach,o.implement=this.implement,o.prototype=i,o.toString=this.toString,o.valueOf=function(e){return"object"==e?o:n.valueOf()},a.call(o,t),"function"==typeof o.init&&o.init(),o},Base.prototype={extend:function(e,t){if(arguments.length>1){var a=this[e];if(a&&"function"==typeof t&&(!a.valueOf||a.valueOf()!=t.valueOf())&&/\bbase\b/.test(t)){var i=t.valueOf();t=function(){var e=this.base||Base.prototype.base;this.base=a;var t=i.apply(this,arguments);return this.base=e,t},t.valueOf=function(e){return"object"==e?t:i},t.toString=Base.toString}this[e]=t}else if(e){var n=Base.prototype.extend;Base._prototyping||"function"==typeof this||(n=this.extend||n);for(var o={toSource:null},r=["constructor","toString","valueOf"],l=Base._prototyping?0:1;s=r[l++];)e[s]!=o[s]&&n.call(this,s,e[s]);for(var s in e)o[s]||n.call(this,s,e[s])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(e,t,a){for(var i in e)void 0===this.prototype[i]&&t.call(a,e[i],i,e)},implement:function(){for(var e=0;e<arguments.length;e++)"function"==typeof arguments[e]?arguments[e](this.prototype):this.prototype.extend(arguments[e]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function e(e){return(/ipad|iphone|ipod/.test(e)&&e.match(/ os (\d+).+? like mac os x/)||[,0])[1]}var t=navigator.userAgent,a=document.createElement("div"),i=-1!==t.indexOf("MSIE")&&-1===t.indexOf("Opera"),n=-1!==t.indexOf("Gecko")&&-1===t.indexOf("KHTML"),o=-1!==t.indexOf("AppleWebKit/"),r=-1!==t.indexOf("Chrome/"),l=-1!==t.indexOf("Opera/");return{USER_AGENT:t,supported:function(){var t=this.USER_AGENT.toLowerCase(),i="contentEditable"in a,n=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,o=document.querySelector&&document.querySelectorAll,r=this.isIos()&&e(t)<5||-1!==t.indexOf("opera mobi")||-1!==t.indexOf("hpwos/");return i&&n&&o&&!r},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){var e=this.USER_AGENT.toLowerCase();return-1!==e.indexOf("webkit")&&-1!==e.indexOf("mobile")},supportsSandboxedIframes:function(){return i},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return!n},hasCurrentStyleProperty:function(){return"currentStyle"in a},insertsLineBreaksOnReturn:function(){return n},supportsPlaceholderAttributeOn:function(e){return"placeholder"in e},supportsEvent:function(e){return"on"+e in a||function(){return a.setAttribute("on"+e,"return;"),"function"==typeof a["on"+e]}()},supportsEventsInIframeCorrectly:function(){return!l},firesOnDropOnlyWhenOnDragOverIsCancelled:function(){return o||n},supportsDataTransfer:function(){try{return o&&(window.Clipboard||window.DataTransfer).prototype.getData}catch(e){return!1}},supportsHTML5Tags:function(e){var t=e.createElement("div"),a="<article>foo</article>";return t.innerHTML=a,t.innerHTML.toLowerCase()===a},supportsCommand:function(){var e={formatBlock:i,insertUnorderedList:i||l||o,insertOrderedList:i||l||o},t={insertHTML:n};return function(a,i){var n=e[i];if(!n){try{return a.queryCommandSupported(i)}catch(o){}try{return a.queryCommandEnabled(i)}catch(r){return!!t[i]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return i},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return n||l||o},supportsGetAttributeCorrectly:function(){var e=document.createElement("td");return"1"!=e.getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return n||i||l},clearsListsInContentEditableCorrectly:function(){return n||i||o},autoScrollsToCaret:function(){return!o},autoClosesUnclosedTags:function(){var e,t,i=a.cloneNode(!1);return i.innerHTML="<p><div></div>",t=i.innerHTML.toLowerCase(),e="<p></p><div></div>"===t||"<p><div></div></p>"===t,this.autoClosesUnclosedTags=function(){return e},e},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},supportsClassList:function(){return"classList"in a},needsSpaceAfterLineBreak:function(){return l},supportsSpeechApiOn:function(e){var a=t.match(/Chrome\/(\d+)/)||[,0];return a[1]>=11&&("onwebkitspeechchange"in e||"speech"in e)},crashesWhenDefineProperty:function(e){return i&&("XMLHttpRequest"===e||"XDomainRequest"===e)},doesAsyncFocus:function(){return i},hasProblemsSettingCaretAfterImg:function(){return i},hasUndoInContextMenu:function(){return n||r||l}}}(),wysihtml5.lang.array=function(e){return{contains:function(t){if(e.indexOf)return-1!==e.indexOf(t);for(var a=0,i=e.length;i>a;a++)if(e[a]===t)return!0;return!1},without:function(t){t=wysihtml5.lang.array(t);for(var a=[],i=0,n=e.length;n>i;i++)t.contains(e[i])||a.push(e[i]);return a},get:function(){for(var t=0,a=e.length,i=[];a>t;t++)i.push(e[t]);return i}}},wysihtml5.lang.Dispatcher=Base.extend({observe:function(e,t){return this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t),this},on:function(){return this.observe.apply(this,wysihtml5.lang.array(arguments).get())},fire:function(e,t){this.events=this.events||{};for(var a=this.events[e]||[],i=0;i<a.length;i++)a[i].call(this,t);return this},stopObserving:function(e,t){this.events=this.events||{};var a,i,n=0;if(e){for(a=this.events[e]||[],i=[];n<a.length;n++)a[n]!==t&&t&&i.push(a[n]);this.events[e]=i}else this.events={};return this}}),wysihtml5.lang.object=function(e){return{merge:function(t){for(var a in t)e[a]=t[a];return this},get:function(){return e},clone:function(){var t,a={};for(t in e)a[t]=e[t];return a},isArray:function(){return"[object Array]"===Object.prototype.toString.call(e)}}},function(){var e=/^\s+/,t=/\s+$/;wysihtml5.lang.string=function(a){return a=String(a),{trim:function(){return a.replace(e,"").replace(t,"")},interpolate:function(e){for(var t in e)a=this.replace("#{"+t+"}").by(e[t]);return a},replace:function(e){return{by:function(t){return a.split(e).join(t)}}}}}}(),function(e){function t(e){return o(e)?e:(e===e.ownerDocument.documentElement&&(e=e.ownerDocument.body),r(e))}function a(e){return e.replace(s,function(e,t){var a=(t.match(d)||[])[1]||"",i=u[a];t=t.replace(d,""),t.split(i).length>t.split(a).length&&(t+=a,a="");var n=t,o=t;return t.length>c&&(o=o.substr(0,c)+"..."),"www."===n.substr(0,4)&&(n="http://"+n),'<a href="'+n+'">'+o+"</a>"+a})}function i(e){var t=e._wysihtml5_tempElement;return t||(t=e._wysihtml5_tempElement=e.createElement("div")),t}function n(e){var t=e.parentNode,n=i(t.ownerDocument);for(n.innerHTML="<span></span>"+a(e.data),n.removeChild(n.firstChild);n.firstChild;)t.insertBefore(n.firstChild,e);t.removeChild(e)}function o(e){for(var t;e.parentNode;){if(e=e.parentNode,t=e.nodeName,l.contains(t))return!0;if("body"===t)return!1}return!1}function r(t){if(!l.contains(t.nodeName)){if(t.nodeType===e.TEXT_NODE&&t.data.match(s))return void n(t);for(var a=e.lang.array(t.childNodes).get(),i=a.length,o=0;i>o;o++)r(a[o]);return t}}var l=e.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),s=/((https?:\/\/|www\.)[^\s<]{3,})/gi,d=/([^\w\/\-](,?))$/i,c=100,u={")":"(","]":"[","}":"{"};e.dom.autoLink=t,e.dom.autoLink.URL_REG_EXP=s}(wysihtml5),function(e){var t=e.browser.supportsClassList(),a=e.dom;a.addClass=function(e,i){return t?e.classList.add(i):void(a.hasClass(e,i)||(e.className+=" "+i))},a.removeClass=function(e,a){return t?e.classList.remove(a):void(e.className=e.className.replace(new RegExp("(^|\\s+)"+a+"(\\s+|$)")," "))},a.hasClass=function(e,a){if(t)return e.classList.contains(a);var i=e.className;return i.length>0&&(i==a||new RegExp("(^|\\s)"+a+"(\\s|$)").test(i))}}(wysihtml5),wysihtml5.dom.contains=function(){var e=document.documentElement;return e.contains?function(e,t){return t.nodeType!==wysihtml5.ELEMENT_NODE&&(t=t.parentNode),e!==t&&e.contains(t)}:e.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:void 0}(),wysihtml5.dom.convertToList=function(){function e(e,t){var a=e.createElement("li");return t.appendChild(a),a}function t(e,t){return e.createElement(t)}function a(a,i){if("UL"===a.nodeName||"OL"===a.nodeName||"MENU"===a.nodeName)return a;var n,o,r,l,s,d,c,u,p,h=a.ownerDocument,m=t(h,i),g=a.querySelectorAll("br"),f=g.length;for(p=0;f>p;p++)for(l=g[p];(s=l.parentNode)&&s!==a&&s.lastChild===l;){if("block"===wysihtml5.dom.getStyle("display").from(s)){s.removeChild(l);break}wysihtml5.dom.insert(l).after(l.parentNode)}for(n=wysihtml5.lang.array(a.childNodes).get(),o=n.length,p=0;o>p;p++)u=u||e(h,m),r=n[p],d="block"===wysihtml5.dom.getStyle("display").from(r),c="BR"===r.nodeName,d?(u=u.firstChild?e(h,m):u,u.appendChild(r),u=null):c?u=u.firstChild?null:u:u.appendChild(r);return a.parentNode.replaceChild(m,a),m}return a}(),wysihtml5.dom.copyAttributes=function(e){return{from:function(t){return{to:function(a){for(var i,n=0,o=e.length;o>n;n++)i=e[n],"undefined"!=typeof t[i]&&""!==t[i]&&(a[i]=t[i]);return{andTo:arguments.callee}}}}}},function(e){var t=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],a=function(t){return i(t)?parseInt(e.getStyle("width").from(t),10)<t.offsetWidth:!1},i=function(a){for(var i=0,n=t.length;n>i;i++)if("border-box"===e.getStyle(t[i]).from(a))return t[i]};e.copyStyles=function(i){return{from:function(n){a(n)&&(i=wysihtml5.lang.array(i).without(t));for(var o,r="",l=i.length,s=0;l>s;s++)o=i[s],r+=o+":"+e.getStyle(o).from(n)+";";return{to:function(t){return e.setStyles(r).on(t),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(e){e.dom.delegate=function(t,a,i,n){return e.dom.observe(t,i,function(i){for(var o=i.target,r=e.lang.array(t.querySelectorAll(a));o&&o!==t;){if(r.contains(o)){n.call(o,i);break}o=o.parentNode}})}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var e=function(e,t){var a=t.createElement("div");a.style.display="none",t.body.appendChild(a);try{a.innerHTML=e}catch(i){}return t.body.removeChild(a),a},t=function(e){if(!e._wysihtml5_supportsHTML5Tags){for(var t=0,i=a.length;i>t;t++)e.createElement(a[t]);e._wysihtml5_supportsHTML5Tags=!0}},a=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(a,i){i=i||document;var n;return"object"==typeof a&&a.nodeType?(n=i.createElement("div"),n.appendChild(a)):wysihtml5.browser.supportsHTML5Tags(i)?(n=i.createElement("div"),n.innerHTML=a):(t(i),n=e(a,i)),n}}(),wysihtml5.dom.getParentElement=function(){function e(e,t){return t&&t.length?"string"==typeof t?e===t:wysihtml5.lang.array(t).contains(e):!0}function t(e){return e.nodeType===wysihtml5.ELEMENT_NODE}function a(e,t,a){var i=(e.className||"").match(a)||[];return t?i[i.length-1]===t:!!i.length}function i(t,a,i){for(;i--&&t&&"BODY"!==t.nodeName;){if(e(t.nodeName,a))return t;t=t.parentNode}return null}function n(i,n,o,r,l){for(;l--&&i&&"BODY"!==i.nodeName;){if(t(i)&&e(i.nodeName,n)&&a(i,o,r))return i;i=i.parentNode}return null}return function(e,t,a){return a=a||50,t.className||t.classRegExp?n(e,t.nodeName,t.className,t.classRegExp,a):i(e,t.nodeName,a)}}(),wysihtml5.dom.getStyle=function(){function e(e){return e.replace(a,function(e){return e.charAt(1).toUpperCase()})}var t={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},a=/\-[a-z]/g;return function(a){return{from:function(i){if(i.nodeType===wysihtml5.ELEMENT_NODE){var n=i.ownerDocument,o=t[a]||e(a),r=i.style,l=i.currentStyle,s=r[o];if(s)return s;if(l)try{return l[o]}catch(d){}var c,u,p=n.defaultView||n.parentWindow,h=("height"===a||"width"===a)&&"TEXTAREA"===i.nodeName;return p.getComputedStyle?(h&&(c=r.overflow,r.overflow="hidden"),u=p.getComputedStyle(i,null).getPropertyValue(a),h&&(r.overflow=c||""),u):void 0}}}}}(),wysihtml5.dom.hasElementWithTagName=function(){function e(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=a++)}var t={},a=1;return function(a,i){var n=e(a)+":"+i,o=t[n];return o||(o=t[n]=a.getElementsByTagName(i)),o.length>0}}(),function(e){function t(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=i++)}var a={},i=1;e.dom.hasElementWithClassName=function(i,n){if(!e.browser.supportsNativeGetElementsByClassName())return!!i.querySelector("."+n);var o=t(i)+":"+n,r=a[o];return r||(r=a[o]=i.getElementsByClassName(n)),r.length>0}}(wysihtml5),wysihtml5.dom.insert=function(e){return{after:function(t){t.parentNode.insertBefore(e,t.nextSibling)},before:function(t){t.parentNode.insertBefore(e,t)},into:function(t){t.appendChild(e)}}},wysihtml5.dom.insertCSS=function(e){return e=e.join("\n"),{into:function(t){var a=t.head||t.getElementsByTagName("head")[0],i=t.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),a&&a.appendChild(i)}}},wysihtml5.dom.observe=function(e,t,a){t="string"==typeof t?[t]:t;for(var i,n,o=0,r=t.length;r>o;o++)n=t[o],e.addEventListener?e.addEventListener(n,a,!1):(i=function(t){"target"in t||(t.target=t.srcElement),t.preventDefault=t.preventDefault||function(){this.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){this.cancelBubble=!0},a.call(e,t)},e.attachEvent("on"+n,i));return{stop:function(){for(var n,o=0,r=t.length;r>o;o++)n=t[o],e.removeEventListener?e.removeEventListener(n,a,!1):e.detachEvent("on"+n,i)}}},wysihtml5.dom.parse=function(){function e(e,a,i,n){wysihtml5.lang.object(u).merge(c).merge(a).get(),i=i||e.ownerDocument||document;var o,r,l,s=i.createDocumentFragment(),d="string"==typeof e;for(o=d?wysihtml5.dom.getAsDom(e,i):e;o.firstChild;)l=o.firstChild,o.removeChild(l),r=t(l,n),r&&s.appendChild(r);return o.innerHTML="",o.appendChild(s),d?wysihtml5.quirks.getCorrectInnerHTML(o):o}function t(e,a){var i,n=e.nodeType,o=e.childNodes,r=o.length,d=l[n],c=0;if(i=d&&d(e),!i)return null;for(c=0;r>c;c++)newChild=t(o[c],a),newChild&&i.appendChild(newChild);return a&&i.childNodes.length<=1&&i.nodeName.toLowerCase()===s&&!i.attributes.length?i.firstChild:i}function a(e){var t,a,n=u.tags,o=e.nodeName.toLowerCase(),r=e.scopeName;if(e._wysihtml5)return null;if(e._wysihtml5=1,"wysihtml5-temp"===e.className)return null;if(r&&"HTML"!=r&&(o=r+":"+o),"outerHTML"in e&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==e.nodeName||"</p>"===e.outerHTML.slice(-4).toLowerCase()||(o="div")),o in n){if(t=n[o],!t||t.remove)return null;t="string"==typeof t?{rename_tag:t}:t}else{if(!e.firstChild)return null;t={rename_tag:s}}return a=e.ownerDocument.createElement(t.rename_tag||o),i(e,a,t),e=null,a}function i(e,t,a){var i,o,r,l,s,c,p,g={},f=a.set_class,v=a.add_class,b=a.set_attributes,y=a.check_attributes,k=u.classes,T=0,C=[],w=[],E=[],S=[];if(b&&(g=wysihtml5.lang.object(b).clone()),y)for(s in y)p=h[y[s]],p&&(c=p(n(e,s)),"string"==typeof c&&(g[s]=c));if(f&&C.push(f),v)for(s in v)p=m[v[s]],p&&(l=p(n(e,s)),"string"==typeof l&&C.push(l));for(k["_wysihtml5-temp-placeholder"]=1,S=e.getAttribute("class"),S&&(C=C.concat(S.split(d))),i=C.length;i>T;T++)r=C[T],k[r]&&w.push(r);for(o=w.length;o--;)r=w[o],wysihtml5.lang.array(E).contains(r)||E.unshift(r);E.length&&(g["class"]=E.join(" "));for(s in g)try{t.setAttribute(s,g[s])}catch(D){}g.src&&("undefined"!=typeof g.width&&t.setAttribute("width",g.width),"undefined"!=typeof g.height&&t.setAttribute("height",g.height))}function n(e,t){t=t.toLowerCase();var a=e.nodeName;if("IMG"==a&&"src"==t&&o(e)===!0)return e.src;if(p&&"outerHTML"in e){var i=e.outerHTML.toLowerCase(),n=-1!=i.indexOf(" "+t+"=");return n?e.getAttribute(t):null}return e.getAttribute(t)}function o(e){try{return e.complete&&!e.mozMatchesSelector(":-moz-broken")}catch(t){if(e.complete&&"complete"===e.readyState)return!0}}function r(e){return e.ownerDocument.createTextNode(e.data)}var l={1:a,3:r},s="span",d=/\s+/,c={tags:{},classes:{}},u={},p=!wysihtml5.browser.supportsGetAttributeCorrectly(),h={url:function(){var e=/^https?:\/\//i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),alt:function(){var e=/[^ a-z0-9_\-]/gi;return function(t){return t?t.replace(e,""):""}}(),numbers:function(){var e=/\D/g;return function(t){return t=(t||"").replace(e,""),t||null}}()},m={align_img:function(){var e={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(t){return e[String(t).toLowerCase()]}}(),align_text:function(){var e={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(t){return e[String(t).toLowerCase()]}}(),clear_br:function(){var e={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(t){return e[String(t).toLowerCase()]}}(),size_font:function(){var e={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(t){return e[String(t).charAt(0)]}}()};return e}(),wysihtml5.dom.removeEmptyTextNodes=function(e){for(var t,a=wysihtml5.lang.array(e.childNodes).get(),i=a.length,n=0;i>n;n++)t=a[n],t.nodeType===wysihtml5.TEXT_NODE&&""===t.data&&t.parentNode.removeChild(t)},wysihtml5.dom.renameElement=function(e,t){for(var a,i=e.ownerDocument.createElement(t);a=e.firstChild;)i.appendChild(a);return wysihtml5.dom.copyAttributes(["align","className"]).from(e).to(i),e.parentNode.replaceChild(i,e),i},wysihtml5.dom.replaceWithChildNodes=function(e){if(e.parentNode){if(!e.firstChild)return void e.parentNode.removeChild(e);for(var t=e.ownerDocument.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e),e=t=null}},function(e){function t(t){return"block"===e.getStyle("display").from(t)}function a(e){return"BR"===e.nodeName}function i(e){var t=e.ownerDocument.createElement("br");e.appendChild(t)}function n(e){if("MENU"===e.nodeName||"UL"===e.nodeName||"OL"===e.nodeName){var n,o,r,l,s,d=e.ownerDocument,c=d.createDocumentFragment(),u=e.previousElementSibling||e.previousSibling;for(u&&!t(u)&&i(c);s=e.firstChild;){for(o=s.lastChild;n=s.firstChild;)r=n===o,l=r&&!t(n)&&!a(n),c.appendChild(n),l&&i(c);s.parentNode.removeChild(s)}e.parentNode.replaceChild(c,e)}}e.resolveList=n}(wysihtml5.dom),function(e){var t=document,a=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],i=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],n=["referrer","write","open","close"];e.dom.Sandbox=Base.extend({constructor:function(t,a){this.callback=t||e.EMPTY_FUNCTION,this.config=e.lang.object({}).merge(a).get(),this.iframe=this._createIframe()},insertInto:function(e){"string"==typeof e&&(e=t.getElementById(e)),e.appendChild(this.iframe)},getIframe:function(){return this.iframe},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var e=this.getIframe();e.parentNode.removeChild(e)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var a=this,i=t.createElement("iframe");return i.className="wysihtml5-sandbox",e.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(i),e.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(i.src="javascript:'<html></html>'"),i.onload=function(){i.onreadystatechange=i.onload=null,a._onLoadIframe(i)},i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&(i.onreadystatechange=i.onload=null,a._onLoadIframe(i))},i},_onLoadIframe:function(o){if(e.dom.contains(t.documentElement,o)){var r=this,l=o.contentWindow,s=o.contentWindow.document,d=t.characterSet||t.charset||"utf-8",c=this._getHtml({charset:d,stylesheets:this.config.stylesheets});if(s.open("text/html","replace"),s.write(c),s.close(),this.getWindow=function(){return o.contentWindow},this.getDocument=function(){return o.contentWindow.document},l.onerror=function(e,t,a){throw new Error("wysihtml5.Sandbox: "+e,t,a)},!e.browser.supportsSandboxedIframes()){var u,p;for(u=0,p=a.length;p>u;u++)this._unset(l,a[u]);for(u=0,p=i.length;p>u;u++)this._unset(l,i[u],e.EMPTY_FUNCTION);for(u=0,p=n.length;p>u;u++)this._unset(s,n[u]);this._unset(s,"cookie","",!0)}this.loaded=!0,setTimeout(function(){r.callback(r)},0)}},_getHtml:function(t){var a,i=t.stylesheets,n="",o=0;if(i="string"==typeof i?[i]:i)for(a=i.length;a>o;o++)n+='<link rel="stylesheet" href="'+i[o]+'">';return t.stylesheets=n,e.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(t)},_unset:function(t,a,i,n){try{t[a]=i}catch(o){}try{t.__defineGetter__(a,function(){return i})}catch(o){}if(n)try{t.__defineSetter__(a,function(){})}catch(o){}if(!e.browser.crashesWhenDefineProperty(a))try{var r={get:function(){return i}};n&&(r.set=function(){}),Object.defineProperty(t,a,r)}catch(o){}}})}(wysihtml5),function(){var e={className:"class"};wysihtml5.dom.setAttributes=function(t){return{on:function(a){for(var i in t)a.setAttribute(e[i]||i,t[i])}}}}(),wysihtml5.dom.setStyles=function(e){return{on:function(t){var a=t.style;if("string"==typeof e)return void(a.cssText+=";"+e);for(var i in e)"float"===i?(a.cssFloat=e[i],a.styleFloat=e[i]):a[i]=e[i]}}},function(e){e.simulatePlaceholder=function(t,a,i){var n="placeholder",o=function(){a.hasPlaceholderSet()&&a.clear(),e.removeClass(a.element,n)},r=function(){a.isEmpty()&&(a.setValue(i),e.addClass(a.element,n))};t.observe("set_placeholder",r).observe("unset_placeholder",o).observe("focus:composer",o).observe("paste:composer",o).observe("blur:composer",r),r()}}(wysihtml5.dom),function(e){var t=document.documentElement;"textContent"in t?(e.setTextContent=function(e,t){e.textContent=t},e.getTextContent=function(e){return e.textContent}):"innerText"in t?(e.setTextContent=function(e,t){e.innerText=t},e.getTextContent=function(e){return e.innerText}):(e.setTextContent=function(e,t){e.nodeValue=t},e.getTextContent=function(e){return e.nodeValue})}(wysihtml5.dom),wysihtml5.quirks.cleanPastedHTML=function(){function e(e,a,i){a=a||t,i=i||e.ownerDocument||document;var n,o,r,l,s,d="string"==typeof e,c=0;n=d?wysihtml5.dom.getAsDom(e,i):e;for(s in a)for(r=n.querySelectorAll(s),o=a[s],l=r.length;l>c;c++)o(r[c]);return r=e=a=null,d?n.innerHTML:n}var t={"a u":wysihtml5.dom.replaceWithChildNodes};return e}(),function(e){var t=e.dom;e.quirks.ensureProperClearing=function(){var e=function(){var e=this;setTimeout(function(){var t=e.innerHTML.toLowerCase();("<p>&nbsp;</p>"==t||"<p>&nbsp;</p><p>&nbsp;</p>"==t)&&(e.innerHTML="")},0)};return function(a){t.observe(a.element,["cut","keydown"],e)}}(),e.quirks.ensureProperClearingOfLists=function(){var a=["OL","UL","MENU"],i=function(i,n){if(n.firstChild&&e.lang.array(a).contains(n.firstChild.nodeName)){var o=t.getParentElement(i,{nodeName:a});
if(o){var r=o==n.firstChild;if(r){var l=o.childNodes.length<=1;if(l){var s=o.firstChild?""===o.firstChild.innerHTML:!0;s&&o.parentNode.removeChild(o)}}}}};return function(a){t.observe(a.element,"keydown",function(t){if(t.keyCode===e.BACKSPACE_KEY){var n=a.selection.getSelectedNode();i(n,a.element)}})}}()}(wysihtml5),function(e){var t="%7E";e.quirks.getCorrectInnerHTML=function(a){var i=a.innerHTML;if(-1===i.indexOf(t))return i;var n,o,r,l,s=a.querySelectorAll("[href*='~'], [src*='~']");for(l=0,r=s.length;r>l;l++)n=s[l].href||s[l].src,o=e.lang.string(n).replace("~").by(t),i=e.lang.string(i).replace(o).by(n);return i}}(wysihtml5),function(e){var t=e.dom,a=["LI","P","H1","H2","H3","H4","H5","H6"],i=["UL","OL","MENU"];e.quirks.insertLineBreakOnReturn=function(n){function o(a){var i=t.getParentElement(a,{nodeName:["P","DIV"]},2);if(i){var o=document.createTextNode(e.INVISIBLE_SPACE);t.insert(o).before(i),t.replaceWithChildNodes(i),n.selection.selectNode(o)}}function r(r){var l=r.keyCode;if(!(r.shiftKey||l!==e.ENTER_KEY&&l!==e.BACKSPACE_KEY)){var s=(r.target,n.selection.getSelectedNode()),d=t.getParentElement(s,{nodeName:a},4);return d?void("LI"!==d.nodeName||l!==e.ENTER_KEY&&l!==e.BACKSPACE_KEY?d.nodeName.match(/H[1-6]/)&&l===e.ENTER_KEY&&setTimeout(function(){o(n.selection.getSelectedNode())},0):setTimeout(function(){var e,a=n.selection.getSelectedNode();a&&(e=t.getParentElement(a,{nodeName:i},2),e||o(a))},0)):void(l!==e.ENTER_KEY||e.browser.insertsLineBreaksOnReturn()||(n.commands.exec("insertLineBreak"),r.preventDefault()))}}t.observe(n.element.ownerDocument,"keydown",r)}}(wysihtml5),function(e){var t="wysihtml5-quirks-redraw";e.quirks.redraw=function(a){e.dom.addClass(a,t),e.dom.removeClass(a,t);try{var i=a.ownerDocument;i.execCommand("italic",!1,null),i.execCommand("italic",!1,null)}catch(n){}}}(wysihtml5),function(e){function t(e){var t=0;if(e.parentNode)do t+=e.offsetTop||0,e=e.offsetParent;while(e);return t}var a=e.dom;e.Selection=Base.extend({constructor:function(e){window.rangy.init(),this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},getBookmark:function(){var e=this.getRange();return e&&e.cloneRange()},setBookmark:function(e){e&&this.setSelection(e)},setBefore:function(e){var t=rangy.createRange(this.doc);return t.setStartBefore(e),t.setEndBefore(e),this.setSelection(t)},setAfter:function(e){var t=rangy.createRange(this.doc);return t.setStartAfter(e),t.setEndAfter(e),this.setSelection(t)},selectNode:function(t){var i=rangy.createRange(this.doc),n=t.nodeType===e.ELEMENT_NODE,o="canHaveHTML"in t?t.canHaveHTML:"IMG"!==t.nodeName,r=n?t.innerHTML:t.data,l=""===r||r===e.INVISIBLE_SPACE,s=a.getStyle("display").from(t),d="block"===s||"list-item"===s;if(l&&n&&o)try{t.innerHTML=e.INVISIBLE_SPACE}catch(c){}o?i.selectNodeContents(t):i.selectNode(t),o&&l&&n?i.collapse(d):o&&l&&(i.setStartAfter(t),i.setEndAfter(t)),this.setSelection(i)},getSelectedNode:function(e){var t,a;return e&&this.doc.selection&&"Control"===this.doc.selection.type&&(a=this.doc.selection.createRange(),a&&a.length)?a.item(0):(t=this.getSelection(this.doc),t.focusNode===t.anchorNode?t.focusNode:(a=this.getRange(this.doc),a?a.commonAncestorContainer:this.doc.body))},executeAndRestore:function(t,a){var i,n=this.doc.body,o=a&&n.scrollTop,r=a&&n.scrollLeft,l="_wysihtml5-temp-placeholder",s='<span class="'+l+'">'+e.INVISIBLE_SPACE+"</span>",d=this.getRange(this.doc);if(!d)return void t(n,n);var c=d.createContextualFragment(s);d.insertNode(c);try{t(d.startContainer,d.endContainer)}catch(u){setTimeout(function(){throw u},0)}caretPlaceholder=this.doc.querySelector("."+l),caretPlaceholder?(i=rangy.createRange(this.doc),i.selectNode(caretPlaceholder),i.deleteContents(),this.setSelection(i)):n.focus(),a&&(n.scrollTop=o,n.scrollLeft=r);try{caretPlaceholder.parentNode.removeChild(caretPlaceholder)}catch(p){}},executeAndRestoreSimple:function(e){var t,a,i,n,o,r=this.getRange(),l=this.doc.body;if(!r)return void e(l,l);n=r.getNodes([3]),a=n[0]||r.startContainer,i=n[n.length-1]||r.endContainer,o={collapsed:r.collapsed,startContainer:a,startOffset:a===r.startContainer?r.startOffset:0,endContainer:i,endOffset:i===r.endContainer?r.endOffset:i.length};try{e(r.startContainer,r.endContainer)}catch(s){setTimeout(function(){throw s},0)}t=rangy.createRange(this.doc);try{t.setStart(o.startContainer,o.startOffset)}catch(d){}try{t.setEnd(o.endContainer,o.endOffset)}catch(c){}try{this.setSelection(t)}catch(u){}},insertHTML:function(e){var t=rangy.createRange(this.doc),a=t.createContextualFragment(e),i=a.lastChild;this.insertNode(a),i&&this.setAfter(i)},insertNode:function(e){var t=this.getRange();t&&t.insertNode(e)},surround:function(e){var t=this.getRange();if(t)try{t.surroundContents(e),this.selectNode(e)}catch(a){e.appendChild(t.extractContents()),t.insertNode(e)}},scrollIntoView:function(){var a,i=this.doc,n=i.documentElement.scrollHeight>i.documentElement.offsetHeight,o=i._wysihtml5ScrollIntoViewElement=i._wysihtml5ScrollIntoViewElement||function(){var t=i.createElement("span");return t.innerHTML=e.INVISIBLE_SPACE,t}();n&&(this.insertNode(o),a=t(o),o.parentNode.removeChild(o),a>i.body.scrollTop&&(i.body.scrollTop=a))},selectLine:function(){e.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var e=this.doc.defaultView,t=e.getSelection();t.modify("extend","left","lineboundary"),t.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var e,t,a,i,n,o=this.doc.selection.createRange(),r=o.boundingTop,l=(o.boundingHeight,this.doc.body.scrollWidth);if(o.moveToPoint){for(0===r&&(a=this.doc.createElement("span"),this.insertNode(a),r=a.offsetTop,a.parentNode.removeChild(a)),r+=1,i=-10;l>i;i+=2)try{o.moveToPoint(i,r);break}catch(s){}for(e=r,t=this.doc.selection.createRange(),n=l;n>=0;n--)try{t.moveToPoint(n,e);break}catch(d){}o.setEndPoint("EndToEnd",t),o.select()}},getText:function(){var e=this.getSelection();return e?e.toString():""},getNodes:function(e,t){var a=this.getRange();return a?a.getNodes([e],t):[]},getRange:function(){var e=this.getSelection();return e&&e.rangeCount&&e.getRangeAt(0)},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(e){var t=this.doc.defaultView||this.doc.parentWindow,a=rangy.getSelection(t);return a.setSingleRange(e)}})}(wysihtml5),function(e,t){function a(e,t,a){if(!e.className)return!1;var i=e.className.match(a)||[];return i[i.length-1]===t}function i(e,t,a){e.className?(n(e,a),e.className+=" "+t):e.className=t}function n(e,t){e.className&&(e.className=e.className.replace(t,""))}function o(e,t){return e.className.replace(h," ")==t.className.replace(h," ")}function r(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}function l(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var a,i,n,o=0,r=e.attributes.length;r>o;++o)if(a=e.attributes[o],n=a.name,"class"!=n){if(i=t.attributes.getNamedItem(n),a.specified!=i.specified)return!1;if(a.specified&&a.nodeValue!==i.nodeValue)return!1}return!0}function s(e,a){return t.dom.isCharacterDataNode(e)?0==a?!!e.previousSibling:a==e.length?!!e.nextSibling:!0:a>0&&a<e.childNodes.length}function d(e,a,i){var n;if(t.dom.isCharacterDataNode(a)&&(0==i?(i=t.dom.getNodeIndex(a),a=a.parentNode):i==a.length?(i=t.dom.getNodeIndex(a)+1,a=a.parentNode):n=t.dom.splitDataNode(a,i)),!n){n=a.cloneNode(!1),n.id&&n.removeAttribute("id");for(var o;o=a.childNodes[i];)n.appendChild(o);t.dom.insertAfter(n,a)}return a==e?n:d(e,n.parentNode,t.dom.getNodeIndex(n))}function c(t){this.isElementMerge=t.nodeType==e.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?t.lastChild:t,this.textNodes=[this.firstTextNode]}function u(e,t,a,i){this.tagNames=e||[p],this.cssClass=t||"",this.similarClassRegExp=a,this.normalize=i,this.applyToAnyTagName=!1}var p="span",h=/\s+/g;c.prototype={doMerge:function(){for(var e,t,a,i=[],n=0,o=this.textNodes.length;o>n;++n)e=this.textNodes[n],t=e.parentNode,i[n]=e.data,n&&(t.removeChild(e),t.hasChildNodes()||t.parentNode.removeChild(t));return this.firstTextNode.data=a=i.join(""),a},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){for(var e=[],t=0,a=this.textNodes.length;a>t;++t)e[t]="'"+this.textNodes[t].data+"'";return"[Merge("+e.join(",")+")]"}},u.prototype={getAncestorWithClass:function(i){for(var n;i;){if(n=this.cssClass?a(i,this.cssClass,this.similarClassRegExp):!0,i.nodeType==e.ELEMENT_NODE&&t.dom.arrayContains(this.tagNames,i.tagName.toLowerCase())&&n)return i;i=i.parentNode}return!1},postApply:function(e,t){for(var a,i,n,o=e[0],r=e[e.length-1],l=[],s=o,d=r,u=0,p=r.length,h=0,m=e.length;m>h;++h)i=e[h],n=this.getAdjacentMergeableTextNode(i.parentNode,!1),n?(a||(a=new c(n),l.push(a)),a.textNodes.push(i),i===o&&(s=a.firstTextNode,u=s.length),i===r&&(d=a.firstTextNode,p=a.getLength())):a=null;var g=this.getAdjacentMergeableTextNode(r.parentNode,!0);if(g&&(a||(a=new c(r),l.push(a)),a.textNodes.push(g)),l.length){for(h=0,m=l.length;m>h;++h)l[h].doMerge();t.setStart(s,u),t.setEnd(d,p)}},getAdjacentMergeableTextNode:function(t,a){var i,n=t.nodeType==e.TEXT_NODE,o=n?t.parentNode:t,r=a?"nextSibling":"previousSibling";if(n){if(i=t[r],i&&i.nodeType==e.TEXT_NODE)return i}else if(i=o[r],i&&this.areElementsMergeable(t,i))return i[a?"firstChild":"lastChild"];return null},areElementsMergeable:function(e,a){return t.dom.arrayContains(this.tagNames,(e.tagName||"").toLowerCase())&&t.dom.arrayContains(this.tagNames,(a.tagName||"").toLowerCase())&&o(e,a)&&l(e,a)},createContainer:function(e){var t=e.createElement(this.tagNames[0]);return this.cssClass&&(t.className=this.cssClass),t},applyToTextNode:function(e){var a=e.parentNode;if(1==a.childNodes.length&&t.dom.arrayContains(this.tagNames,a.tagName.toLowerCase()))this.cssClass&&i(a,this.cssClass,this.similarClassRegExp);else{var n=this.createContainer(t.dom.getDocument(e));e.parentNode.insertBefore(n,e),n.appendChild(e)}},isRemovable:function(a){return t.dom.arrayContains(this.tagNames,a.tagName.toLowerCase())&&e.lang.string(a.className).trim()==this.cssClass},undoToTextNode:function(e,t,a){if(!t.containsNode(a)){var i=t.cloneRange();i.selectNode(a),i.isPointInRange(t.endContainer,t.endOffset)&&s(t.endContainer,t.endOffset)&&(d(a,t.endContainer,t.endOffset),t.setEndAfter(a)),i.isPointInRange(t.startContainer,t.startOffset)&&s(t.startContainer,t.startOffset)&&(a=d(a,t.startContainer,t.startOffset))}this.similarClassRegExp&&n(a,this.similarClassRegExp),this.isRemovable(a)&&r(a)},applyToRange:function(t){var a=t.getNodes([e.TEXT_NODE]);if(!a.length)try{var i=this.createContainer(t.endContainer.ownerDocument);return t.surroundContents(i),void this.selectNode(t,i)}catch(n){}if(t.splitBoundaries(),a=t.getNodes([e.TEXT_NODE]),a.length){for(var o,r=0,l=a.length;l>r;++r)o=a[r],this.getAncestorWithClass(o)||this.applyToTextNode(o);t.setStart(a[0],0),o=a[a.length-1],t.setEnd(o,o.length),this.normalize&&this.postApply(a,t)}},undoToRange:function(t){var a,i,n=t.getNodes([e.TEXT_NODE]);if(n.length)t.splitBoundaries(),n=t.getNodes([e.TEXT_NODE]);else{var o=t.endContainer.ownerDocument,r=o.createTextNode(e.INVISIBLE_SPACE);t.insertNode(r),t.selectNode(r),n=[r]}for(var l=0,s=n.length;s>l;++l)a=n[l],i=this.getAncestorWithClass(a),i&&this.undoToTextNode(a,t,i);1==s?this.selectNode(t,n[0]):(t.setStart(n[0],0),a=n[n.length-1],t.setEnd(a,a.length),this.normalize&&this.postApply(n,t))},selectNode:function(t,a){var i=a.nodeType===e.ELEMENT_NODE,n="canHaveHTML"in a?a.canHaveHTML:!0,o=i?a.innerHTML:a.data,r=""===o||o===e.INVISIBLE_SPACE;if(r&&i&&n)try{a.innerHTML=e.INVISIBLE_SPACE}catch(l){}t.selectNodeContents(a),r&&i?t.collapse(!1):r&&(t.setStartAfter(a),t.setEndAfter(a))},getTextSelectedByRange:function(e,t){var a=t.cloneRange();a.selectNodeContents(e);var i=a.intersection(t),n=i?i.toString():"";return a.detach(),n},isAppliedToRange:function(t){var a,i=[],n=t.getNodes([e.TEXT_NODE]);if(!n.length)return a=this.getAncestorWithClass(t.startContainer),a?[a]:!1;for(var o,r=0,l=n.length;l>r;++r){if(o=this.getTextSelectedByRange(n[r],t),a=this.getAncestorWithClass(n[r]),""!=o&&!a)return!1;i.push(a)}return i},toggleRange:function(e){this.isAppliedToRange(e)?this.undoToRange(e):this.applyToRange(e)}},e.selection.HTMLApplier=u}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},support:function(e){return wysihtml5.browser.supportsCommand(this.doc,e)},exec:function(e,t){var a=wysihtml5.commands[e],i=wysihtml5.lang.array(arguments).get(),n=a&&a.exec,o=null;if(this.editor.fire("beforecommand:composer"),n)i.unshift(this.composer),o=n.apply(a,i);else try{o=this.doc.execCommand(e,!1,t)}catch(r){}return this.editor.fire("aftercommand:composer"),o},state:function(e){var t=wysihtml5.commands[e],a=wysihtml5.lang.array(arguments).get(),i=t&&t.state;if(i)return a.unshift(this.composer),i.apply(t,a);try{return this.doc.queryCommandState(e)}catch(n){return!1}},value:function(e){var t=wysihtml5.commands[e],a=t&&t.value;if(a)return a.call(t,this.composer,e);try{return this.doc.queryCommandValue(e)}catch(i){return null}}}),function(e){var t;e.commands.bold={exec:function(t,a){return e.commands.formatInline.exec(t,a,"b")},state:function(t,a){return e.commands.formatInline.state(t,a,"b")},value:function(){return t}}}(wysihtml5),function(e){function t(e,t){for(var a,i,n,r=t.length,l=0;r>l;l++)a=t[l],i=o.getParentElement(a,{nodeName:"code"}),n=o.getTextContent(a),n.match(o.autoLink.URL_REG_EXP)&&!i?i=o.renameElement(a,"code"):o.replaceWithChildNodes(a)}function a(t,a){var r,l,s,d,c,u,p,h,m,g=t.doc,f="_wysihtml5-temp-"+ +new Date,v=/non-matching-class/g,b=0;for(e.commands.formatInline.exec(t,i,n,f,v),l=g.querySelectorAll(n+"."+f),r=l.length;r>b;b++){s=l[b],s.removeAttribute("class");for(m in a)s.setAttribute(m,a[m])}u=s,1===r&&(p=o.getTextContent(s),d=!!s.querySelector("*"),c=""===p||p===e.INVISIBLE_SPACE,!d&&c&&(o.setTextContent(s,a.text||s.href),h=g.createTextNode(" "),t.selection.setAfter(s),t.selection.insertNode(h),u=h)),t.selection.setAfter(u)}var i,n="A",o=e.dom;e.commands.createLink={exec:function(e,i,n){var o=this.state(e,i);o?e.selection.executeAndRestore(function(){t(e,o)}):(n="object"==typeof n?n:{href:n},a(e,n))},state:function(t,a){return e.commands.formatInline.state(t,a,"A")},value:function(){return i}}}(wysihtml5),function(e){var t,a=/wysiwyg-font-size-[a-z\-]+/g;e.commands.fontSize={exec:function(t,i,n){return e.commands.formatInline.exec(t,i,"span","wysiwyg-font-size-"+n,a)},state:function(t,i,n){return e.commands.formatInline.state(t,i,"span","wysiwyg-font-size-"+n,a)},value:function(){return t}}}(wysihtml5),function(e){var t,a=/wysiwyg-color-[a-z]+/g;e.commands.foreColor={exec:function(t,i,n){return e.commands.formatInline.exec(t,i,"span","wysiwyg-color-"+n,a)},state:function(t,i,n){return e.commands.formatInline.state(t,i,"span","wysiwyg-color-"+n,a)},value:function(){return t}}}(wysihtml5),function(e){function t(e,t,i){e.className?(a(e,i),e.className+=" "+t):e.className=t}function a(e,t){e.className=e.className.replace(t,"")}function i(t){return t.nodeType===e.TEXT_NODE&&!e.lang.string(t.data).trim()}function n(e){for(var t=e.previousSibling;t&&i(t);)t=t.previousSibling;return t}function o(e){for(var t=e.nextSibling;t&&i(t);)t=t.nextSibling;return t}function r(e){var t=e.ownerDocument,a=o(e),i=n(e);a&&!c(a)&&e.parentNode.insertBefore(t.createElement("br"),a),i&&!c(i)&&e.parentNode.insertBefore(t.createElement("br"),e)}function l(e){var t=o(e),a=n(e);t&&d(t)&&t.parentNode.removeChild(t),a&&d(a)&&a.parentNode.removeChild(a)}function s(e){var t=e.lastChild;t&&d(t)&&t.parentNode.removeChild(t)}function d(e){return"BR"===e.nodeName}function c(e){return d(e)?!0:"block"===g.getStyle("display").from(e)?!0:!1}function u(t,a,i,n){if(n)var o=g.observe(t,"DOMNodeInserted",function(t){var a,i=t.target;i.nodeType===e.ELEMENT_NODE&&(a=g.getStyle("display").from(i),"inline"!==a.substr(0,6)&&(i.className+=" "+n))});t.execCommand(a,!1,i),o&&o.stop()}function p(e,t){e.selection.selectLine(),e.selection.surround(t),l(t),s(t),e.selection.selectNode(t)}function h(t){return!!e.lang.string(t.className).trim()}var m,g=e.dom,f="DIV",v=["H1","H2","H3","H4","H5","H6","P","BLOCKQUOTE",f];e.commands.formatBlock={exec:function(i,n,o,l,s){var d,c=i.doc,m=this.state(i,n,o,l,s);return o="string"==typeof o?o.toUpperCase():o,m?void i.selection.executeAndRestoreSimple(function(){s&&a(m,s);var e=h(m);e||m.nodeName!==(o||f)?e&&g.renameElement(m,f):(r(m),g.replaceWithChildNodes(m))}):(null===o||e.lang.array(v).contains(o))&&(d=i.selection.getSelectedNode(),m=g.getParentElement(d,{nodeName:v}))?void i.selection.executeAndRestoreSimple(function(){o&&(m=g.renameElement(m,o)),l&&t(m,l,s)}):i.commands.support(n)?void u(c,n,o||f,l):(m=c.createElement(o||f),l&&(m.className=l),void p(i,m))},state:function(e,t,a,i,n){a="string"==typeof a?a.toUpperCase():a;var o=e.selection.getSelectedNode();return g.getParentElement(o,{nodeName:a,className:i,classRegExp:n})},value:function(){return m}}}(wysihtml5),function(e){function t(e){var t=n[e];return t?[e.toLowerCase(),t.toLowerCase()]:[e.toLowerCase()]}function a(a,i,n){var r=a+":"+i;return o[r]||(o[r]=new e.selection.HTMLApplier(t(a),i,n,!0)),o[r]}var i,n={strong:"b",em:"i",b:"strong",i:"em"},o={};e.commands.formatInline={exec:function(e,t,i,n,o){var r=e.selection.getRange();return r?(a(i,n,o).toggleRange(r),void e.selection.setSelection(r)):!1},state:function(t,i,o,r,l){var s,d=t.doc,c=n[o]||o;return e.dom.hasElementWithTagName(d,o)||e.dom.hasElementWithTagName(d,c)?r&&!e.dom.hasElementWithClassName(d,r)?!1:(s=t.selection.getRange(),s?a(o,r,l).isAppliedToRange(s):!1):!1},value:function(){return i}}}(wysihtml5),function(e){var t;e.commands.insertHTML={exec:function(e,t,a){e.commands.support(t)?e.doc.execCommand(t,!1,a):e.selection.insertHTML(a)},state:function(){return!1},value:function(){return t}}}(wysihtml5),function(e){var t="IMG";e.commands.insertImage={exec:function(a,i,n){n="object"==typeof n?n:{src:n};var o,r,l,s=a.doc,d=this.state(a);if(d)return a.selection.setBefore(d),l=d.parentNode,l.removeChild(d),e.dom.removeEmptyTextNodes(l),"A"!==l.nodeName||l.firstChild||(a.selection.setAfter(l),l.parentNode.removeChild(l)),void e.quirks.redraw(a.element);d=s.createElement(t);for(r in n)d[r]=n[r];a.selection.insertNode(d),e.browser.hasProblemsSettingCaretAfterImg()?(o=s.createTextNode(e.INVISIBLE_SPACE),a.selection.insertNode(o),a.selection.setAfter(o)):a.selection.setAfter(d)},state:function(a){var i,n,o,r=a.doc;return e.dom.hasElementWithTagName(r,t)&&(i=a.selection.getSelectedNode())?i.nodeName===t?i:i.nodeType!==e.ELEMENT_NODE?!1:(n=a.selection.getText(),(n=e.lang.string(n).trim())?!1:(o=a.selection.getNodes(e.ELEMENT_NODE,function(e){return"IMG"===e.nodeName}),1!==o.length?!1:o[0])):!1},value:function(e){var t=this.state(e);return t&&t.src}}}(wysihtml5),function(e){var t,a="<br>"+(e.browser.needsSpaceAfterLineBreak()?" ":"");e.commands.insertLineBreak={exec:function(t,i){t.commands.support(i)?(t.doc.execCommand(i,!1,null),e.browser.autoScrollsToCaret()||t.selection.scrollIntoView()):t.commands.exec("insertHTML",a)},state:function(){return!1},value:function(){return t}}}(wysihtml5),function(e){var t;e.commands.insertOrderedList={exec:function(t,a){var i,n,o=t.doc,r=t.selection.getSelectedNode(),l=e.dom.getParentElement(r,{nodeName:"OL"}),s=e.dom.getParentElement(r,{nodeName:"UL"}),d="_wysihtml5-temp-"+(new Date).getTime();return t.commands.support(a)?void o.execCommand(a,!1,null):void(l?t.selection.executeAndRestoreSimple(function(){e.dom.resolveList(l)}):s?t.selection.executeAndRestoreSimple(function(){e.dom.renameElement(s,"ol")}):(t.commands.exec("formatBlock","div",d),n=o.querySelector("."+d),i=""===n.innerHTML||n.innerHTML===e.INVISIBLE_SPACE,t.selection.executeAndRestoreSimple(function(){l=e.dom.convertToList(n,"ol")}),i&&t.selection.selectNode(l.querySelector("li"))))},state:function(t){var a=t.selection.getSelectedNode();return e.dom.getParentElement(a,{nodeName:"OL"})},value:function(){return t}}}(wysihtml5),function(e){var t;e.commands.insertUnorderedList={exec:function(t,a){var i,n,o=t.doc,r=t.selection.getSelectedNode(),l=e.dom.getParentElement(r,{nodeName:"UL"}),s=e.dom.getParentElement(r,{nodeName:"OL"}),d="_wysihtml5-temp-"+(new Date).getTime();return t.commands.support(a)?void o.execCommand(a,!1,null):void(l?t.selection.executeAndRestoreSimple(function(){e.dom.resolveList(l)}):s?t.selection.executeAndRestoreSimple(function(){e.dom.renameElement(s,"ul")}):(t.commands.exec("formatBlock","div",d),n=o.querySelector("."+d),i=""===n.innerHTML||n.innerHTML===e.INVISIBLE_SPACE,t.selection.executeAndRestoreSimple(function(){l=e.dom.convertToList(n,"ul")}),i&&t.selection.selectNode(l.querySelector("li"))))},state:function(t){var a=t.selection.getSelectedNode();return e.dom.getParentElement(a,{nodeName:"UL"})},value:function(){return t}}}(wysihtml5),function(e){var t;e.commands.italic={exec:function(t,a){return e.commands.formatInline.exec(t,a,"i")},state:function(t,a){return e.commands.formatInline.state(t,a,"i")},value:function(){return t}}}(wysihtml5),function(e){var t,a="wysiwyg-text-align-center",i=/wysiwyg-text-align-[a-z]+/g;e.commands.justifyCenter={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,a,i)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,a,i)},value:function(){return t}}}(wysihtml5),function(e){var t,a="wysiwyg-text-align-left",i=/wysiwyg-text-align-[a-z]+/g;e.commands.justifyLeft={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,a,i)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,a,i)},value:function(){return t}}}(wysihtml5),function(e){var t,a="wysiwyg-text-align-right",i=/wysiwyg-text-align-[a-z]+/g;e.commands.justifyRight={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,a,i)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,a,i)},value:function(){return t}}}(wysihtml5),function(e){var t;e.commands.underline={exec:function(t,a){return e.commands.formatInline.exec(t,a,"u")},state:function(t,a){return e.commands.formatInline.state(t,a,"u")},value:function(){return t}}}(wysihtml5),function(e){function t(e){for(var t;t=e.querySelector("._wysihtml5-temp");)t.parentNode.removeChild(t)}var a=90,i=89,n=8,o=46,r=40,l='<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+e.INVISIBLE_SPACE+"</span>",s='<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+e.INVISIBLE_SPACE+"</span>",d=e.dom;e.UndoManager=e.lang.Dispatcher.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.element=this.composer.element,this.history=[this.composer.getValue()],this.position=1,this.composer.commands.support("insertHTML")&&this._observe()},_observe:function(){var r,c=this,u=this.composer.sandbox.getDocument();if(d.observe(this.element,"keydown",function(e){if(!e.altKey&&(e.ctrlKey||e.metaKey)){var t=e.keyCode,n=t===a&&!e.shiftKey,o=t===a&&e.shiftKey||t===i;n?(c.undo(),e.preventDefault()):o&&(c.redo(),e.preventDefault())}}),d.observe(this.element,"keydown",function(e){var t=e.keyCode;t!==r&&(r=t,(t===n||t===o)&&c.transact())}),e.browser.hasUndoInContextMenu()){var p,h,m=function(){t(u),clearInterval(p)};d.observe(this.element,"contextmenu",function(){m(),c.composer.selection.executeAndRestoreSimple(function(){c.element.lastChild&&c.composer.selection.setAfter(c.element.lastChild),u.execCommand("insertHTML",!1,l),u.execCommand("insertHTML",!1,s),u.execCommand("undo",!1,null)}),p=setInterval(function(){u.getElementById("_wysihtml5-redo")?(m(),c.redo()):u.getElementById("_wysihtml5-undo")||(m(),c.undo())},400),h||(h=!0,d.observe(document,"mousedown",m),d.observe(u,["mousedown","paste","cut","copy"],m))})}this.editor.observe("newword:composer",function(){c.transact()}).observe("beforecommand:composer",function(){c.transact()})},transact:function(){var e=this.history[this.position-1],t=this.composer.getValue();if(t!=e){var a=this.history.length=this.position;a>r&&(this.history.shift(),this.position--),this.position++,this.history.push(t)}},undo:function(){this.transact(),this.position<=1||(this.set(this.history[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.position>=this.history.length||(this.set(this.history[++this.position-1]),this.editor.fire("redo:composer"))},set:function(e){this.composer.setValue(e),this.editor.focus(!0)}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(e,t,a){this.parent=e,this.element=t,this.config=a,this._observeViewChange()},_observeViewChange:function(){var e=this;this.parent.observe("beforeload",function(){e.parent.observe("change_view",function(t){t===e.name?(e.parent.currentView=e,e.show(),setTimeout(function(){e.focus()},0)):e.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(e){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(e){var t=e.dom,a=e.browser;e.views.Composer=e.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(e,t,a){this.base(e,t,a),this.textarea=this.parent.textarea,this._initSandbox()},clear:function(){this.element.innerHTML=a.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(t){var a=this.isEmpty()?"":e.quirks.getCorrectInnerHTML(this.element);return t&&(a=this.parent.parse(a)),a=e.lang.string(a).replace(e.INVISIBLE_SPACE).by("")},setValue:function(e,t){t&&(e=this.parent.parse(e)),this.element.innerHTML=e},show:function(){this.iframe.style.display=this._displayStyle||"",this.disable(),this.enable()},hide:function(){this._displayStyle=t.getStyle("display").from(this.iframe),"none"===this._displayStyle&&(this._displayStyle=null),this.iframe.style.display="none"},disable:function(){this.element.removeAttribute("contentEditable"),this.base()},enable:function(){this.element.setAttribute("contentEditable","true"),this.base()},focus:function(t){e.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var a=this.element.lastChild;t&&a&&("BR"===a.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return t.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==this.textarea.element.getAttribute("placeholder")},isEmpty:function(){var e=this.element.innerHTML,t="blockquote, ul, ol, img, embed, object, table, iframe, svg, video, audio, button, input, select, textarea";return""===e||e===this.CARET_HACK||this.hasPlaceholderSet()||""===this.getTextContent()&&!this.element.querySelector(t)},_initSandbox:function(){var e=this;this.sandbox=new t.Sandbox(function(){e._create()},{stylesheets:this.config.stylesheets}),this.iframe=this.sandbox.getIframe();var a=document.createElement("input");a.type="hidden",a.name="_wysihtml5_mode",a.value=1;var i=this.textarea.element;t.insert(this.iframe).after(i),t.insert(a).after(i)},_create:function(){var i=this;this.doc=this.sandbox.getDocument(),this.element=this.doc.body,this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0),this.enable(),this.selection=new e.Selection(this.parent),this.commands=new e.Commands(this.parent),t.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),t.addClass(this.element,this.config.composerClassName),this.config.style&&this.style(),this.observe();var n=this.config.name;n&&(t.addClass(this.element,n),t.addClass(this.iframe,n));var o="string"==typeof this.config.placeholder?this.config.placeholder:this.textarea.element.getAttribute("placeholder");o&&t.simulatePlaceholder(this.parent,this,o),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),(this.textarea.element.hasAttribute("autofocus")||document.querySelector(":focus")==this.textarea.element)&&setTimeout(function(){i.focus()},100),e.quirks.insertLineBreakOnReturn(this),a.clearsContentEditableCorrectly()||e.quirks.ensureProperClearing(this),a.clearsListsInContentEditableCorrectly()||e.quirks.ensureProperClearingOfLists(this),this.initSync&&this.config.sync&&this.initSync(),this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var i=this,n=a.canDisableAutoLinking(),o=a.doesAutoLinkingInContentEditable();if(n&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!o||o&&n)&&this.parent.observe("newword:composer",function(){i.selection.executeAndRestore(function(e,a){t.autoLink(a.parentNode)})});var r=this.sandbox.getDocument().getElementsByTagName("a"),l=t.autoLink.URL_REG_EXP,s=function(a){var i=e.lang.string(t.getTextContent(a)).trim();return"www."===i.substr(0,4)&&(i="http://"+i),i};t.observe(this.element,"keydown",function(e){if(r.length){var a,n=i.selection.getSelectedNode(e.target.ownerDocument),o=t.getParentElement(n,{nodeName:"A"},4);o&&(a=s(o),setTimeout(function(){var e=s(o);e!==a&&e.match(l)&&o.setAttribute("href",e)},0))}})}},_initObjectResizing:function(){var i=["width","height"],n=i.length,o=this.element;this.commands.exec("enableObjectResizing",this.config.allowObjectResizing),this.config.allowObjectResizing?a.supportsEvent("resizeend")&&t.observe(o,"resizeend",function(t){for(var a,r=t.target||t.srcElement,l=r.style,s=0;n>s;s++)a=i[s],l[a]&&(r.setAttribute(a,parseInt(l[a],10)),l[a]="");e.quirks.redraw(o)}):a.supportsEvent("resizestart")&&t.observe(o,"resizestart",function(e){e.preventDefault()})},_initUndoManager:function(){new e.UndoManager(this.parent)}})}(wysihtml5),function(e){var t=e.dom,a=document,i=window,n=a.createElement("div"),o=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],r=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],l=["width","height","top","left","right","bottom"],s=["html             { height: 100%; }","body             { min-height: 100%; padding: 0; margin: 0; margin-top: -1px; padding-top: 1px; }","._wysihtml5-temp { display: none; }",e.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","body[disabled]   { background-color: #eee !important; color: #999 !important; cursor: default !important; }","img:-moz-broken  { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],d=function(e){if(e.setActive)try{e.setActive()}catch(n){}else{var o=e.style,r=a.documentElement.scrollTop||a.body.scrollTop,l=a.documentElement.scrollLeft||a.body.scrollLeft,s={position:o.position,top:o.top,left:o.left,WebkitUserSelect:o.WebkitUserSelect};t.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(e),e.focus(),t.setStyles(s).on(e),i.scrollTo&&i.scrollTo(l,r)}};e.views.Composer.prototype.style=function(){var c=this,u=a.querySelector(":focus"),p=this.textarea.element,h=p.hasAttribute("placeholder"),m=h&&p.getAttribute("placeholder");this.focusStylesHost=this.focusStylesHost||n.cloneNode(!1),this.blurStylesHost=this.blurStylesHost||n.cloneNode(!1),h&&p.removeAttribute("placeholder"),p===u&&p.blur(),t.copyStyles(r).from(p).to(this.iframe).andTo(this.blurStylesHost),t.copyStyles(o).from(p).to(this.element).andTo(this.blurStylesHost),t.insertCSS(s).into(this.element.ownerDocument),d(p),t.copyStyles(r).from(p).to(this.focusStylesHost),t.copyStyles(o).from(p).to(this.focusStylesHost);
var g=e.lang.array(r).without(["display"]);if(u?u.focus():p.blur(),h&&p.setAttribute("placeholder",m),!e.browser.hasCurrentStyleProperty())var f=t.observe(i,"resize",function(){if(!t.contains(document.documentElement,c.iframe))return void f.stop();var e=t.getStyle("display").from(p),a=t.getStyle("display").from(c.iframe);p.style.display="",c.iframe.style.display="none",t.copyStyles(l).from(p).to(c.iframe).andTo(c.focusStylesHost).andTo(c.blurStylesHost),c.iframe.style.display=a,p.style.display=e});return this.parent.observe("focus:composer",function(){t.copyStyles(g).from(c.focusStylesHost).to(c.iframe),t.copyStyles(o).from(c.focusStylesHost).to(c.element)}),this.parent.observe("blur:composer",function(){t.copyStyles(g).from(c.blurStylesHost).to(c.iframe),t.copyStyles(o).from(c.blurStylesHost).to(c.element)}),this}}(wysihtml5),function(e){var t=e.dom,a=e.browser,i={66:"bold",73:"italic",85:"underline"};e.views.Composer.prototype.observe=function(){var n=this,o=this.getValue(),r=this.sandbox.getIframe(),l=this.element,s=a.supportsEventsInIframeCorrectly()?l:this.sandbox.getWindow(),d=a.supportsEvent("drop")?["drop","paste"]:["dragdrop","paste"];t.observe(r,"DOMNodeRemoved",function(){clearInterval(c),n.parent.fire("destroy:composer")});var c=setInterval(function(){t.contains(document.documentElement,r)||(clearInterval(c),n.parent.fire("destroy:composer"))},250);t.observe(s,"focus",function(){n.parent.fire("focus").fire("focus:composer"),setTimeout(function(){o=n.getValue()},0)}),t.observe(s,"blur",function(){o!==n.getValue()&&n.parent.fire("change").fire("change:composer"),n.parent.fire("blur").fire("blur:composer")}),e.browser.isIos()&&t.observe(l,"blur",function(){var e=l.ownerDocument.createElement("input"),t=document.documentElement.scrollTop||document.body.scrollTop,a=document.documentElement.scrollLeft||document.body.scrollLeft;try{n.selection.insertNode(e)}catch(i){l.appendChild(e)}e.focus(),e.parentNode.removeChild(e),window.scrollTo(a,t)}),t.observe(l,"dragenter",function(){n.parent.fire("unset_placeholder")}),a.firesOnDropOnlyWhenOnDragOverIsCancelled()&&t.observe(l,["dragover","dragenter"],function(e){e.preventDefault()}),t.observe(l,d,function(e){var t,i=e.dataTransfer;i&&a.supportsDataTransfer()&&(t=i.getData("text/html")||i.getData("text/plain")),t?(l.focus(),n.commands.exec("insertHTML",t),n.parent.fire("paste").fire("paste:composer"),e.stopPropagation(),e.preventDefault()):setTimeout(function(){n.parent.fire("paste").fire("paste:composer")},0)}),t.observe(l,"keyup",function(t){var a=t.keyCode;(a===e.SPACE_KEY||a===e.ENTER_KEY)&&n.parent.fire("newword:composer")}),this.parent.observe("paste:composer",function(){setTimeout(function(){n.parent.fire("newword:composer")},0)}),a.canSelectImagesInContentEditable()||t.observe(l,"mousedown",function(e){var t=e.target;"IMG"===t.nodeName&&(n.selection.selectNode(t),e.preventDefault())}),t.observe(l,"keydown",function(e){var t=e.keyCode,a=i[t];(e.ctrlKey||e.metaKey)&&!e.altKey&&a&&(n.commands.exec(a),e.preventDefault())}),t.observe(l,"keydown",function(t){var a,i=n.selection.getSelectedNode(!0),o=t.keyCode;!i||"IMG"!==i.nodeName||o!==e.BACKSPACE_KEY&&o!==e.DELETE_KEY||(a=i.parentNode,a.removeChild(i),"A"!==a.nodeName||a.firstChild||a.parentNode.removeChild(a),setTimeout(function(){e.quirks.redraw(l)},0),t.preventDefault())});var u={IMG:"Image: ",A:"Link: "};t.observe(l,"mouseover",function(e){var t,a=e.target,i=a.nodeName;if("A"===i||"IMG"===i){var n=a.hasAttribute("title");n||(t=u[i]+(a.getAttribute("href")||a.getAttribute("src")),a.setAttribute("title",t))}})}}(wysihtml5),function(e){var t=400;e.views.Synchronizer=Base.extend({constructor:function(e,t,a){this.editor=e,this.textarea=t,this.composer=a,this._observe()},fromComposerToTextarea:function(t){this.textarea.setValue(e.lang.string(this.composer.getValue()).trim(),t)},fromTextareaToComposer:function(e){var t=this.textarea.getValue();t?this.composer.setValue(t,e):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(e){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(e):this.fromComposerToTextarea(e)},_observe:function(){var a,i=this,n=this.textarea.element.form,o=function(){a=setInterval(function(){i.fromComposerToTextarea()},t)},r=function(){clearInterval(a),a=null};o(),n&&(e.dom.observe(n,"submit",function(){i.sync(!0)}),e.dom.observe(n,"reset",function(){setTimeout(function(){i.fromTextareaToComposer()},0)})),this.editor.observe("change_view",function(e){"composer"!==e||a?"textarea"===e&&(i.fromComposerToTextarea(!0),r()):(i.fromTextareaToComposer(!0),o())}),this.editor.observe("destroy:composer",r)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(e,t,a){this.base(e,t,a),this._observe()},clear:function(){this.element.value=""},getValue:function(e){var t=this.isEmpty()?"":this.element.value;return e&&(t=this.parent.parse(t)),t},setValue:function(e,t){t&&(e=this.parent.parse(e)),this.element.value=e},hasPlaceholderSet:function(){var e=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),t=this.element.getAttribute("placeholder")||null,a=this.element.value,i=!a;return e&&i||a===t},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var e=this.element,t=this.parent,a={focusin:"focus",focusout:"blur"},i=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];t.observe("beforeload",function(){wysihtml5.dom.observe(e,i,function(e){var i=a[e.type]||e.type;t.fire(i).fire(i+":textarea")}),wysihtml5.dom.observe(e,["paste","drop"],function(){setTimeout(function(){t.fire("paste").fire("paste:textarea")},0)})})}}),function(e){var t=e.dom,a="wysihtml5-command-dialog-opened",i="input, select, textarea",n="[data-wysihtml5-dialog-field]",o="data-wysihtml5-dialog-field";e.toolbar.Dialog=e.lang.Dispatcher.extend({constructor:function(e,t){this.link=e,this.container=t},_observe:function(){if(!this._observed){var n=this,o=function(e){var t=n._serialize();t==n.elementToChange?n.fire("edit",t):n.fire("save",t),n.hide(),e.preventDefault(),e.stopPropagation()};t.observe(n.link,"click",function(){t.hasClass(n.link,a)&&setTimeout(function(){n.hide()},0)}),t.observe(this.container,"keydown",function(t){var a=t.keyCode;a===e.ENTER_KEY&&o(t),a===e.ESCAPE_KEY&&n.hide()}),t.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",o),t.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(e){n.fire("cancel"),n.hide(),e.preventDefault(),e.stopPropagation()});for(var r=this.container.querySelectorAll(i),l=0,s=r.length,d=function(){clearInterval(n.interval)};s>l;l++)t.observe(r[l],"change",d);this._observed=!0}},_serialize:function(){for(var e=this.elementToChange||{},t=this.container.querySelectorAll(n),a=t.length,i=0;a>i;i++)e[t[i].getAttribute(o)]=t[i].value;return e},_interpolate:function(e){for(var t,a,i,r=document.querySelector(":focus"),l=this.container.querySelectorAll(n),s=l.length,d=0;s>d;d++)t=l[d],t!==r&&(e&&"hidden"===t.type||(a=t.getAttribute(o),i=this.elementToChange?this.elementToChange[a]||"":t.defaultValue,t.value=i))},show:function(e){var n=this,o=this.container.querySelector(i);if(this.elementToChange=e,this._observe(),this._interpolate(),e&&(this.interval=setInterval(function(){n._interpolate(!0)},500)),t.addClass(this.link,a),this.container.style.display="",this.fire("show"),o&&!e)try{o.focus()}catch(r){}},hide:function(){clearInterval(this.interval),this.elementToChange=null,t.removeClass(this.link,a),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(e){var t=e.dom,a={position:"relative"},i={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},n={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},o={"x-webkit-speech":"",speech:""};e.toolbar.Speech=function(r,l){var s=document.createElement("input");if(!e.browser.supportsSpeechApiOn(s))return void(l.style.display="none");var d=document.createElement("div");e.lang.object(i).merge({width:l.offsetWidth+"px",height:l.offsetHeight+"px"}),t.insert(s).into(d),t.insert(d).into(l),t.setStyles(n).on(s),t.setAttributes(o).on(s),t.setStyles(i).on(d),t.setStyles(a).on(l);var c="onwebkitspeechchange"in s?"webkitspeechchange":"speechchange";t.observe(s,c,function(){r.execCommand("insertText",s.value),s.value=""}),t.observe(s,"click",function(e){t.hasClass(l,"wysihtml5-command-disabled")&&e.preventDefault(),e.stopPropagation()})}}(wysihtml5),function(e){var t="wysihtml5-command-disabled",a="wysihtml5-commands-disabled",i="wysihtml5-command-active",n="wysihtml5-action-active",o=e.dom;e.toolbar.Toolbar=Base.extend({constructor:function(t,a){this.editor=t,this.container="string"==typeof a?document.getElementById(a):a,this.composer=t.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),this.show();for(var i=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),n=i.length,o=0;n>o;o++)new e.toolbar.Speech(this,i[o])},_getLinks:function(t){for(var a,i,n,o,r,l=this[t+"Links"]=e.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+t+"]")).get(),s=l.length,d=0,c=this[t+"Mapping"]={};s>d;d++)a=l[d],n=a.getAttribute("data-wysihtml5-"+t),o=a.getAttribute("data-wysihtml5-"+t+"-value"),i=this.container.querySelector("[data-wysihtml5-"+t+"-group='"+n+"']"),r=this._getDialog(a,n),c[n+":"+o]={link:a,group:i,name:n,value:o,dialog:r,state:!1}},_getDialog:function(t,a){var i,n,o=this,r=this.container.querySelector("[data-wysihtml5-dialog='"+a+"']");return r&&(i=new e.toolbar.Dialog(t,r),i.observe("show",function(){n=o.composer.selection.getBookmark(),o.editor.fire("show:dialog",{command:a,dialogContainer:r,commandLink:t})}),i.observe("save",function(e){n&&o.composer.selection.setBookmark(n),o._execCommand(a,e),o.editor.fire("save:dialog",{command:a,dialogContainer:r,commandLink:t})}),i.observe("cancel",function(){o.editor.focus(!1),o.editor.fire("cancel:dialog",{command:a,dialogContainer:r,commandLink:t})})),i},execCommand:function(e,t){if(!this.commandsDisabled){var a=this.commandMapping[e+":"+t];a&&a.dialog&&!a.state?a.dialog.show():this._execCommand(e,t)}},_execCommand:function(e,t){this.editor.focus(!1),this.composer.commands.exec(e,t),this._updateLinkStates()},execAction:function(e){var t=this.editor;switch(e){case"change_view":t.currentView===t.textarea?t.fire("change_view","composer"):t.fire("change_view","textarea")}},_observe:function(){for(var e=this,t=this.editor,i=this.container,n=this.commandLinks.concat(this.actionLinks),r=n.length,l=0;r>l;l++)o.setAttributes({href:"javascript:;",unselectable:"on"}).on(n[l]);o.delegate(i,"[data-wysihtml5-command]","mousedown",function(e){e.preventDefault()}),o.delegate(i,"[data-wysihtml5-command]","click",function(t){var a=this,i=a.getAttribute("data-wysihtml5-command"),n=a.getAttribute("data-wysihtml5-command-value");e.execCommand(i,n),t.preventDefault()}),o.delegate(i,"[data-wysihtml5-action]","click",function(t){var a=this.getAttribute("data-wysihtml5-action");e.execAction(a),t.preventDefault()}),t.observe("focus:composer",function(){e.bookmark=null,clearInterval(e.interval),e.interval=setInterval(function(){e._updateLinkStates()},500)}),t.observe("blur:composer",function(){clearInterval(e.interval)}),t.observe("destroy:composer",function(){clearInterval(e.interval)}),t.observe("change_view",function(t){setTimeout(function(){e.commandsDisabled="composer"!==t,e._updateLinkStates(),e.commandsDisabled?o.addClass(i,a):o.removeClass(i,a)},0)})},_updateLinkStates:function(){var a,r,l,s,d=(this.composer.element,this.commandMapping),c=this.actionMapping;for(a in d)s=d[a],this.commandsDisabled?(r=!1,o.removeClass(s.link,i),s.group&&o.removeClass(s.group,i),s.dialog&&s.dialog.hide()):(r=this.composer.commands.state(s.name,s.value),e.lang.object(r).isArray()&&(r=1===r.length?r[0]:!0),o.removeClass(s.link,t),s.group&&o.removeClass(s.group,t)),s.state!==r&&(s.state=r,r?(o.addClass(s.link,i),s.group&&o.addClass(s.group,i),s.dialog&&("object"==typeof r?s.dialog.show(r):s.dialog.hide())):(o.removeClass(s.link,i),s.group&&o.removeClass(s.group,i),s.dialog&&s.dialog.hide()));for(a in c)l=c[a],"change_view"===l.name&&(l.state=this.editor.currentView===this.editor.textarea,l.state?o.addClass(l.link,n):o.removeClass(l.link,n))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(e){var t,a={name:t,style:!0,toolbar:t,autoLink:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:e.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",stylesheets:[],placeholderText:t,allowObjectResizing:!0,supportTouchDevices:!0};e.Editor=e.lang.Dispatcher.extend({constructor:function(t,i){if(this.textareaElement="string"==typeof t?document.getElementById(t):t,this.config=e.lang.object({}).merge(a).merge(i).get(),this.textarea=new e.views.Textarea(this,this.textareaElement,this.config),this.currentView=this.textarea,this._isCompatible=e.browser.supported(),!this._isCompatible||!this.config.supportTouchDevices&&e.browser.isTouchDevice()){var n=this;return void setTimeout(function(){n.fire("beforeload").fire("load")},0)}e.dom.addClass(document.body,this.config.bodyClassName),this.composer=new e.views.Composer(this,this.textareaElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.observe("beforeload",function(){this.synchronizer=new e.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new e.toolbar.Toolbar(this,this.config.toolbar))})},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(e){return this.currentView.getValue(e)},setValue:function(e,t){return e?(this.currentView.setValue(e,t),this):this.clear()},focus:function(e){return this.currentView.focus(e),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(t){var a=this.config.parser(t,this.config.parserRules,this.composer.sandbox.getDocument(),!0);return"object"==typeof t&&e.quirks.redraw(t),a},_initParser:function(){this.observe("paste:composer",function(){var t=!0,a=this;a.composer.selection.executeAndRestore(function(){e.quirks.cleanPastedHTML(a.composer.element),a.parse(a.composer.element)},t)}),this.observe("paste:textarea",function(){var e,t=this.textarea.getValue();e=this.parse(t),this.textarea.setValue(e)})}})}(wysihtml5),/*!
 * https://github.com/jhollingworth/bootstrap-wysihtml5/
 *
 * Licensed under the MIT license (MIT)
 */
!function(e,t){"use strict";var a={"font-styles":"<li class='dropdown'><a class='btn btn-default dropdown-toggle' data-toggle='dropdown' href='#'><i class='fa fa-font'></i>&nbsp;<span class='current-font'>Normal text</span>&nbsp;<b class='caret'></b></a><ul class='dropdown-menu'><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='div'>Normal text</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h1'>Heading 1</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h2'>Heading 2</a></li></ul></li>",emphasis:"<li><div class='btn-group'><a class='btn btn-default' data-wysihtml5-command='bold' title='CTRL+B'>Bold</a><a class='btn btn-default' data-wysihtml5-command='italic' title='CTRL+I'>Italic</a><a class='btn btn-default' data-wysihtml5-command='underline' title='CTRL+U'>Underline</a></div></li>",lists:"<li><div class='btn-group'><a class='btn btn-default' data-wysihtml5-command='insertUnorderedList' title='Unordered List'><i class='fa fa-list'></i></a><a class='btn btn-default' data-wysihtml5-command='insertOrderedList' title='Ordered List'><i class='fa fa-th-list'></i></a><a class='btn btn-default' data-wysihtml5-command='Outdent' title='Outdent'><i class='fa fa-indent'></i></a><a class='btn btn-default' data-wysihtml5-command='Indent' title='Indent'><i class='fa fa-outdent'></i></a></div></li>",link:"<li><div class='bootstrap-wysihtml5-insert-link-modal modal fade'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><a class='close' data-dismiss='modal'>&times;</a><h3>Insert Link</h3></div><div class='modal-body'><input value='http://' class='bootstrap-wysihtml5-insert-link-url form-control'></div><div class='modal-footer'><a href='#' class='btn btn-sm btn-default' data-dismiss='modal'>Cancel</a><a href='#' class='btn btn-sm btn-primary' data-dismiss='modal'>Insert link</a></div></div></div></div><a class='btn btn-default' data-wysihtml5-command='createLink' title='Link'><i class='fa fa-share-square-o'></i></a></li>",image:"<li><div class='bootstrap-wysihtml5-insert-image-modal modal fade'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><a class='close' data-dismiss='modal'>&times;</a><h3>Insert Image</h3></div><div class='modal-body'><input value='http://' class='bootstrap-wysihtml5-insert-image-url form-control'></div><div class='modal-footer'><a href='#' class='btn btn-sm btn-default' data-dismiss='modal'>Cancel</a><a href='#' class='btn btn-sm btn-primary' data-dismiss='modal'>Insert image</a></div></div></div></div><a class='btn btn-default' data-wysihtml5-command='insertImage' title='Insert image'><i class='fa fa-picture-o'></i></a></li>",html:"<li><div class='btn-group'><a class='btn btn-default' data-wysihtml5-action='change_view' title='Edit HTML'><i class='fa fa-pencil'></i></a></div></li>"},i={"font-styles":!0,emphasis:!0,lists:!0,html:!1,link:!0,image:!0,events:{},parserRules:{tags:{b:{},i:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{set_attributes:{target:"_blank",rel:"nofollow"},check_attributes:{href:"url"}}}},stylesheets:[]},n=function(t,a){this.el=t,this.toolbar=this.createToolbar(t,a||i),this.editor=this.createEditor(a),window.editor=this.editor,e("iframe.wysihtml5-sandbox").each(function(t,a){e(a.contentWindow).off("focus.wysihtml5").on({"focus.wysihtml5":function(){e("li.dropdown").removeClass("open")}})})};n.prototype={constructor:n,createEditor:function(a){a=e.extend(i,a||{}),a.toolbar=this.toolbar[0];var n=new t.Editor(this.el[0],a);if(a&&a.events)for(var o in a.events)n.on(o,a.events[o]);return n},createToolbar:function(t,n){var o=this,r=e("<ul/>",{"class":"wysihtml5-toolbar",style:"display:none"});for(var l in i){var s=!1;void 0!==n[l]?n[l]===!0&&(s=!0):s=i[l],s===!0&&(r.append(a[l]),"html"==l&&this.initHtml(r),"link"==l&&this.initInsertLink(r),"image"==l&&this.initInsertImage(r))}return r.find("a[data-wysihtml5-command='formatBlock']").click(function(t){var a=e(t.srcElement);o.toolbar.find(".current-font").text(a.html())}),this.el.before(r),r},initHtml:function(e){var t="a[data-wysihtml5-action='change_view']";e.find(t).click(function(){e.find("a.btn").not(t).toggleClass("disabled")})},initInsertImage:function(e){var t=this,a=e.find(".bootstrap-wysihtml5-insert-image-modal"),i=a.find(".bootstrap-wysihtml5-insert-image-url"),n=a.find("a.btn-primary"),o=i.val(),r=function(){var e=i.val();i.val(o),t.editor.composer.commands.exec("insertImage",e)};i.keypress(function(e){13==e.which&&(r(),a.modal("hide"))}),n.click(r),a.on("shown.bs.modal",function(){i.focus()}),a.on("hide",function(){t.editor.currentView.element.focus()}),e.find("a[data-wysihtml5-command=insertImage]").click(function(){return a.modal("show"),a.on("click.dismiss.modal",'[data-dismiss="modal"]',function(e){e.stopPropagation()}),!1})},initInsertLink:function(e){var t=this,a=e.find(".bootstrap-wysihtml5-insert-link-modal"),i=a.find(".bootstrap-wysihtml5-insert-link-url"),n=a.find("a.btn-primary"),o=i.val(),r=function(){var e=i.val();i.val(o),t.editor.composer.commands.exec("createLink",{href:e,target:"_blank",rel:"nofollow"})};i.keypress(function(e){13==e.which&&(r(),a.modal("hide"))}),n.click(r),a.on("shown.bs.modal",function(){i.focus()}),a.on("hide",function(){t.editor.currentView.element.focus()}),e.find("a[data-wysihtml5-command=createLink]").click(function(){return a.modal("show"),a.on("click.dismiss.modal",'[data-dismiss="modal"]',function(e){e.stopPropagation()}),!1})}},e.fn.wysihtml5=function(t){return this.each(function(){var a=e(this);a.data("wysihtml5",new n(a,t))})},e.fn.wysihtml5.Constructor=n}(window.jQuery,window.wysihtml5),/*!
 * jQuery Validation Plugin - v1.11.1 - 3/22/2013
 * https://github.com/jzaefferer/jquery-validation
 * Copyright (c) 2013 JΓ¶rn Zaefferer; Licensed MIT
 */
function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var a=e.data(this[0],"validator");return a?a:(this.attr("novalidate","novalidate"),a=new e.validator(t,this[0]),e.data(this[0],"validator",a),a.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){a.settings.submitHandler&&(a.submitButton=t.target),e(t.target).hasClass("cancel")&&(a.cancelSubmit=!0),void 0!==e(t.target).attr("formnovalidate")&&(a.cancelSubmit=!0)}),this.submit(function(t){function i(){var i;return a.settings.submitHandler?(a.submitButton&&(i=e("<input type='hidden'/>").attr("name",a.submitButton.name).val(e(a.submitButton).val()).appendTo(a.currentForm)),a.settings.submitHandler.call(a,a.currentForm,t),a.submitButton&&i.remove(),!1):!0}return a.settings.debug&&t.preventDefault(),a.cancelSubmit?(a.cancelSubmit=!1,i()):a.form()?a.pendingRequest?(a.formSubmitted=!0,!1):i():(a.focusInvalid(),!1)})),a)},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,a=e(this[0].form).validate();return this.each(function(){t=t&&a.element(this)}),t},removeAttrs:function(t){var a={},i=this;return e.each(t.split(/\s/),function(e,t){a[t]=i.attr(t),i.removeAttr(t)}),a},rules:function(t,a){var i=this[0];if(t){var n=e.data(i.form,"validator").settings,o=n.rules,r=e.validator.staticRules(i);switch(t){case"add":e.extend(r,e.validator.normalizeRule(a)),delete r.messages,o[i.name]=r,a.messages&&(n.messages[i.name]=e.extend(n.messages[i.name],a.messages));break;case"remove":if(!a)return delete o[i.name],r;var l={};return e.each(a.split(/\s/),function(e,t){l[t]=r[t],delete r[t]}),l}}var s=e.validator.normalizeRules(e.extend({},e.validator.classRules(i),e.validator.attributeRules(i),e.validator.dataRules(i),e.validator.staticRules(i)),i);if(s.required){var d=s.required;delete s.required,s=e.extend({required:d},s)}return s}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,a){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=a,this.init()},e.validator.format=function(t,a){return 1===arguments.length?function(){var a=e.makeArray(arguments);return a.unshift(t),e.validator.format.apply(this,a)}:(arguments.length>2&&a.constructor!==Array&&(a=e.makeArray(arguments).slice(1)),a.constructor!==Array&&(a=[a]),e.each(a,function(e,a){t=t.replace(RegExp("\\{"+e+"\\}","g"),function(){return a})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,a,i){"radio"===t.type?this.findByName(t.name).addClass(a).removeClass(i):e(t).addClass(a).removeClass(i)},unhighlight:function(t,a,i){"radio"===t.type?this.findByName(t.name).removeClass(a).addClass(i):e(t).removeClass(a).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var a=e.data(this[0].form,"validator"),i="on"+t.type.replace(/^validate/,"");a.settings[i]&&a.settings[i].call(a,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var a=this.groups={};e.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,i){a[i]=t})});var i=this.settings.rules;e.each(i,function(t,a){i[t]=e.validator.normalizeRule(a)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",t).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t)),this.lastElement=t,this.prepareElement(t),this.currentElements=e(t);var a=this.check(t)!==!1;return a?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),a},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var a in t)this.errorList.push({message:t[a],element:this.findByName(a)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var a in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,a={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in a||!t.objectLength(e(this).rules())?!1:(a[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var a=e(t).attr("type"),i=e(t).val();return"radio"===a||"checkbox"===a?e("input[name='"+e(t).attr("name")+"']:checked").val():"string"==typeof i?i.replace(/\r/g,""):i},check:function(t){t=this.validationTargetFor(this.clean(t));var a,i=e(t).rules(),n=!1,o=this.elementValue(t);for(var r in i){var l={method:r,parameters:i[r]};try{if(a=e.validator.methods[r].call(this,o,t,l.parameters),"dependency-mismatch"===a){n=!0;continue}if(n=!1,"pending"===a)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!a)return this.formatAndAdd(t,l),!1}catch(s){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+l.method+"' method.",s),s}}return n?void 0:(this.objectLength(i)&&this.successList.push(t),!0)},customDataMessage:function(t,a){return e(t).data("msg-"+a.toLowerCase())||t.attributes&&e(t).attr("data-msg-"+a.toLowerCase())},customMessage:function(e,t){var a=this.settings.messages[e];return a&&(a.constructor===String?a:a[t])},findDefined:function(){for(var e=0;arguments.length>e;e++)if(void 0!==arguments[e])return arguments[e];return void 0},defaultMessage:function(t,a){return this.findDefined(this.customMessage(t.name,a),this.customDataMessage(t,a),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[a],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,a){var i=this.defaultMessage(t,a.method),n=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,a.parameters,t):n.test(i)&&(i=e.validator.format(i.replace(n,"{$1}"),a.parameters)),this.errorList.push({message:i,element:t}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t;for(e=0;this.errorList[e];e++){var a=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,a.element,this.settings.errorClass,this.settings.validClass),this.showLabel(a.element,a.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,a){var i=this.errorsFor(t);i.length?(i.removeClass(this.settings.validClass).addClass(this.settings.errorClass),i.html(a)):(i=e("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(a||""),this.settings.wrapper&&(i=i.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(i).length||(this.settings.errorPlacement?this.settings.errorPlacement(i,e(t)):i.insertAfter(t))),!a&&this.settings.success&&(i.text(""),"string"==typeof this.settings.success?i.addClass(this.settings.success):this.settings.success(i,t)),this.toShow=this.toShow.add(i)},errorsFor:function(t){var a=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")===a})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,a){switch(a.nodeName.toLowerCase()){case"select":return e("option:selected",a).length;case"input":if(this.checkable(a))return this.findByName(a.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,a){return!!e(t,a.form).length},"function":function(e,t){return e(t)}},optional:function(t){var a=this.elementValue(t);return!e.validator.methods.required.call(this,a,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,a){this.pendingRequest--,0>this.pendingRequest&&(this.pendingRequest=0),delete this.pending[t.name],a&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!a&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,a){t.constructor===String?this.classRuleSettings[t]=a:e.extend(this.classRuleSettings,t)},classRules:function(t){var a={},i=e(t).attr("class");return i&&e.each(i.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(a,e.validator.classRuleSettings[this])}),a},attributeRules:function(t){var a={},i=e(t),n=i[0].getAttribute("type");for(var o in e.validator.methods){var r;"required"===o?(r=i.get(0).getAttribute(o),""===r&&(r=!0),r=!!r):r=i.attr(o),/min|max/.test(o)&&(null===n||/number|range|text/.test(n))&&(r=Number(r)),r?a[o]=r:n===o&&"range"!==n&&(a[o]=!0)}return a.maxlength&&/-1|2147483647|524288/.test(a.maxlength)&&delete a.maxlength,a},dataRules:function(t){var a,i,n={},o=e(t);for(a in e.validator.methods)i=o.data("rule-"+a.toLowerCase()),void 0!==i&&(n[a]=i);return n},staticRules:function(t){var a={},i=e.data(t.form,"validator");return i.settings.rules&&(a=e.validator.normalizeRule(i.settings.rules[t.name])||{}),a},normalizeRules:function(t,a){return e.each(t,function(i,n){if(n===!1)return void delete t[i];if(n.param||n.depends){var o=!0;switch(typeof n.depends){case"string":o=!!e(n.depends,a.form).length;break;case"function":o=n.depends.call(a,a)}o?t[i]=void 0!==n.param?n.param:!0:delete t[i]}}),e.each(t,function(i,n){t[i]=e.isFunction(n)?n(a):n}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var a;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(a=t[this].split(/[\s,]+/),t[this]=[Number(a[0]),Number(a[1])]))}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var a={};e.each(t.split(/\s/),function(){a[this]=!0}),t=a}return t},addMethod:function(t,a,i){e.validator.methods[t]=a,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],3>a.length&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,a,i){if(!this.depend(i,a))return"dependency-mismatch";if("select"===a.nodeName.toLowerCase()){var n=e(a).val();return n&&n.length>0}return this.checkable(a)?this.getLength(t,a)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(""+new Date(e))},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var a=0,i=0,n=!1;e=e.replace(/\D/g,"");for(var o=e.length-1;o>=0;o--){var r=e.charAt(o);i=parseInt(r,10),n&&(i*=2)>9&&(i-=9),a+=i,n=!n}return 0===a%10},minlength:function(t,a,i){var n=e.isArray(t)?t.length:this.getLength(e.trim(t),a);return this.optional(a)||n>=i},maxlength:function(t,a,i){var n=e.isArray(t)?t.length:this.getLength(e.trim(t),a);return this.optional(a)||i>=n},rangelength:function(t,a,i){var n=e.isArray(t)?t.length:this.getLength(e.trim(t),a);return this.optional(a)||n>=i[0]&&i[1]>=n},min:function(e,t,a){return this.optional(t)||e>=a},max:function(e,t,a){return this.optional(t)||a>=e},range:function(e,t,a){return this.optional(t)||e>=a[0]&&a[1]>=e},equalTo:function(t,a,i){var n=e(i);return this.settings.onfocusout&&n.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(a).valid()}),t===n.val()},remote:function(t,a,i){if(this.optional(a))return"dependency-mismatch";var n=this.previousValue(a);if(this.settings.messages[a.name]||(this.settings.messages[a.name]={}),n.originalMessage=this.settings.messages[a.name].remote,this.settings.messages[a.name].remote=n.message,i="string"==typeof i&&{url:i}||i,n.old===t)return n.valid;n.old=t;var o=this;this.startRequest(a);var r={};return r[a.name]=t,e.ajax(e.extend(!0,{url:i,mode:"abort",port:"validate"+a.name,dataType:"json",data:r,success:function(i){o.settings.messages[a.name].remote=n.originalMessage;var r=i===!0||"true"===i;if(r){var l=o.formSubmitted;o.prepareElement(a),o.formSubmitted=l,o.successList.push(a),delete o.invalid[a.name],o.showErrors()}else{var s={},d=i||o.defaultMessage(a,"remote");s[a.name]=n.message=e.isFunction(d)?d(t):d,o.invalid[a.name]=!0,o.showErrors(s)}n.valid=r,o.stopRequest(a,r)}},i)),"pending"}}}),e.format=e.validator.format}(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,a,i){var n=e.port;"abort"===e.mode&&(t[n]&&t[n].abort(),t[n]=i)});else{var a=e.ajax;e.ajax=function(i){var n=("mode"in i?i:e.ajaxSettings).mode,o=("port"in i?i:e.ajaxSettings).port;return"abort"===n?(t[o]&&t[o].abort(),t[o]=a.apply(this,arguments),t[o]):a.apply(this,arguments)}}}(jQuery),function(e){e.extend(e.fn,{validateDelegate:function(t,a,i){return this.bind(a,function(a){var n=e(a.target);return n.is(t)?i.apply(n,arguments):void 0})}})}(jQuery),/*
 * jQuery wizard plug-in 3.0.7 (18-SEPT-2012)
 *
 *
 * Copyright (c) 2012 Jan Sundman (jan.sundman[at]aland.net)
 *
 * http://www.thecodemine.org
 *
 * Licensed under the MIT licens:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 */
function(e){e.widget("ui.formwizard",{_init:function(){var t=this,a=this.options.formOptions.success,i=this.options.formOptions.complete,n=this.options.formOptions.beforeSend,o=this.options.formOptions.beforeSubmit,r=this.options.formOptions.beforeSerialize;return this.options.formOptions=e.extend(this.options.formOptions,{success:function(e,i,n){a&&a(e,i,n),(t.options.formOptions&&t.options.formOptions.resetForm||!t.options.formOptions)&&t._reset()},complete:function(e,a){i&&i(e,a),t._enableNavigation()},beforeSubmit:function(e,a,i){if(o){var n=o(e,a,i);return n||t._enableNavigation(),n}},beforeSend:function(e){if(n){var a=n(e);return a||t._enableNavigation(),a}},beforeSerialize:function(e,a){if(r){var i=r(e,a);return i||t._enableNavigation(),i}}}),this.options.historyEnabled&&e.bbq.removeState("_"+e(this.element).attr("id")),this.steps=this.element.find(".step").hide(),this.firstStep=this.steps.eq(0).attr("id"),this.activatedSteps=new Array,this.isLastStep=!1,this.previousStep=void 0,this.currentStep=this.steps.eq(0).attr("id"),this.nextButton=this.element.find(this.options.next).click(function(){return t._next()}),this.nextButtonInitinalValue=this.nextButton.val(),this.nextButton.val(this.options.textNext),this.backButton=this.element.find(this.options.back).click(function(){return t._back(),!1}),this.backButtonInitinalValue=this.backButton.val(),this.backButton.val(this.options.textBack),this.options.validationEnabled&&void 0==jQuery().validate?(this.options.validationEnabled=!1,void 0!==window.console&&console.log("%s","validationEnabled option set, but the validation plugin is not included")):this.options.validationEnabled&&this.element.validate(this.options.validationOptions),this.options.formPluginEnabled&&void 0==jQuery().ajaxSubmit&&(this.options.formPluginEnabled=!1,void 0!==window.console&&console.log("%s","formPluginEnabled option set but the form plugin is not included")),1==this.options.disableInputFields&&e(this.steps).find(":input:not('.wizard-ignore')").attr("disabled","disabled"),this.options.historyEnabled&&e(window).bind("hashchange",void 0,function(a){var i=a.getState("_"+e(t.element).attr("id"))||t.firstStep;if(i!==t.currentStep){if(t.options.validationEnabled&&i===t._navigate(t.currentStep)&&!t.element.valid())return t._updateHistory(t.currentStep),t.element.validate().focusInvalid(),!1;i!==t.currentStep&&t._show(i)}}),this.element.addClass("ui-formwizard"),this.element.find(":input").addClass("ui-wizard-content"),this.steps.addClass("ui-formwizard-content"),this.backButton.addClass("ui-formwizard-button ui-wizard-content"),this.nextButton.addClass("ui-formwizard-button ui-wizard-content"),this.options.disableUIStyles||(this.element.addClass("ui-helper-reset ui-widget ui-widget-content ui-helper-reset ui-corner-all"),this.element.find(":input").addClass("ui-helper-reset ui-state-default"),this.steps.addClass("ui-helper-reset ui-corner-all"),this.backButton.addClass("ui-helper-reset ui-state-default"),this.nextButton.addClass("ui-helper-reset ui-state-default")),this._show(void 0),e(this)},_next:function(){if(this.options.validationEnabled&&!this.element.valid())return this.element.validate().focusInvalid(),!1;if(void 0!=this.options.remoteAjax){var t=this.options.remoteAjax[this.currentStep],a=this;if(void 0!==t){var i=t.success,n=t.beforeSend,o=t.complete;return t=e.extend({},t,{success:function(e,t){(void 0!==i&&i(e,t)||void 0==i)&&a._continueToNextStep()},beforeSend:function(t){a._disableNavigation(),void 0!==n&&n(t),e(a.element).trigger("before_remote_ajax",{currentStep:a.currentStep})},complete:function(t,i){void 0!==o&&o(t,i),e(a.element).trigger("after_remote_ajax",{currentStep:a.currentStep}),a._enableNavigation()}}),this.element.ajaxSubmit(t),!1}}return this._continueToNextStep()},_back:function(){return this.activatedSteps.length>0&&(this.options.historyEnabled?this._updateHistory(this.activatedSteps[this.activatedSteps.length-2]):this._show(this.activatedSteps[this.activatedSteps.length-2],!0)),!1},_continueToNextStep:function(){if(this.isLastStep){for(var e=0;e<this.activatedSteps.length;e++)this.steps.filter("#"+this.activatedSteps[e]).find(":input").not(".wizard-ignore").removeAttr("disabled");return this.options.formPluginEnabled?(this._disableNavigation(),this.element.ajaxSubmit(this.options.formOptions),!1):!0}var t=this._navigate(this.currentStep);return t==this.currentStep?!1:(this.options.historyEnabled?this._updateHistory(t):this._show(t,!0),!1)},_updateHistory:function(t){var a={};a["_"+e(this.element).attr("id")]=t,e.bbq.pushState(a)},_disableNavigation:function(){this.nextButton.attr("disabled","disabled"),this.backButton.attr("disabled","disabled"),this.options.disableUIStyles||(this.nextButton.removeClass("ui-state-active").addClass("ui-state-disabled"),this.backButton.removeClass("ui-state-active").addClass("ui-state-disabled"))},_enableNavigation:function(){this.nextButton.val(this.isLastStep?this.options.textSubmit:this.options.textNext),e.trim(this.currentStep)!==this.steps.eq(0).attr("id")&&(this.backButton.removeAttr("disabled"),this.options.disableUIStyles||this.backButton.removeClass("ui-state-disabled").addClass("ui-state-active")),this.nextButton.removeAttr("disabled"),this.options.disableUIStyles||this.nextButton.removeClass("ui-state-disabled").addClass("ui-state-active")},_animate:function(e,t,a){this._disableNavigation();var i=this.steps.filter("#"+e),n=this.steps.filter("#"+t);i.find(":input").not(".wizard-ignore").attr("disabled","disabled"),n.find(":input").not(".wizard-ignore").removeAttr("disabled");var o=this;i.animate(o.options.outAnimation,o.options.outDuration,o.options.easing,function(){n.animate(o.options.inAnimation,o.options.inDuration,o.options.easing,function(){o.options.focusFirstInput&&n.find(":input:first").focus(),o._enableNavigation(),a.apply(o)})})},_checkIflastStep:function(t){this.isLastStep=!1,(e("#"+t).hasClass(this.options.submitStepClass)||this.steps.filter(":last").attr("id")==t)&&(this.isLastStep=!0)},_getLink:function(t){var a=void 0,i=this.steps.filter("#"+t).find(this.options.linkClass);return void 0!=i&&(a=i.filter(":radio,:checkbox").size()>0?i.filter(this.options.linkClass+":checked").val():e(i).val()),a},_navigate:function(e){var t=this._getLink(e);if(void 0!=t)return""!=t&&null!=t&&void 0!=t&&void 0!=this.steps.filter("#"+t).attr("id")?t:this.currentStep;if(void 0==t&&!this.isLastStep){var a=this.steps.filter("#"+e).next().attr("id");return a}},_show:function(t){var a=!1,i=void 0!==t;if(void 0==t||""==t?(this.activatedSteps.pop(),t=this.firstStep,this.activatedSteps.push(t)):e.inArray(t,this.activatedSteps)>-1?(a=!0,this.activatedSteps.pop()):this.activatedSteps.push(t),this.currentStep!==t||t===this.firstStep){this.previousStep=this.currentStep,this._checkIflastStep(t),this.currentStep=t;var n=function(){i&&e(this.element).trigger("step_shown",e.extend({isBackNavigation:a},this._state()))};i&&e(this.element).trigger("before_step_shown",e.extend({isBackNavigation:a},this._state())),this._animate(this.previousStep,t,n)}},_reset:function(){this.element.resetForm(),e("label,:input,textarea",this).removeClass("error");for(var t=0;t<this.activatedSteps.length;t++)this.steps.filter("#"+this.activatedSteps[t]).hide().find(":input").attr("disabled","disabled");this.activatedSteps=new Array,this.previousStep=void 0,this.isLastStep=!1,this.options.historyEnabled?this._updateHistory(this.firstStep):this._show(this.firstStep)},_state:function(e){var t={settings:this.options,activatedSteps:this.activatedSteps,isLastStep:this.isLastStep,isFirstStep:this.currentStep===this.firstStep,previousStep:this.previousStep,currentStep:this.currentStep,backButton:this.backButton,nextButton:this.nextButton,steps:this.steps,firstStep:this.firstStep};return void 0!==e?t[e]:t},show:function(e){this.options.historyEnabled?this._updateHistory(e):this._show(e)},state:function(e){return this._state(e)},reset:function(){this._reset()},next:function(){this._next()},back:function(){this._back()},destroy:function(){this.element.find("*").removeAttr("disabled").show(),this.nextButton.unbind("click").val(this.nextButtonInitinalValue).removeClass("ui-state-disabled").addClass("ui-state-active"),this.backButton.unbind("click").val(this.backButtonInitinalValue).removeClass("ui-state-disabled").addClass("ui-state-active"),this.backButtonInitinalValue=void 0,this.nextButtonInitinalValue=void 0,this.activatedSteps=void 0,this.previousStep=void 0,this.currentStep=void 0,this.isLastStep=void 0,this.options=void 0,this.nextButton=void 0,this.backButton=void 0,this.formwizard=void 0,this.element=void 0,this.steps=void 0,this.firstStep=void 0},update_steps:function(){this.steps=this.element.find(".step").addClass("ui-formwizard-content"),this.firstStep=this.steps.eq(0).attr("id"),this.steps.not("#"+this.currentStep).hide().find(":input").addClass("ui-wizard-content").attr("disabled","disabled"),this._checkIflastStep(this.currentStep),this._enableNavigation(),this.options.disableUIStyles||(this.steps.addClass("ui-helper-reset ui-corner-all"),this.steps.find(":input").addClass("ui-helper-reset ui-state-default"))},options:{historyEnabled:!1,validationEnabled:!1,validationOptions:void 0,formPluginEnabled:!1,linkClass:".link",submitStepClass:"submit_step",back:":reset",next:":submit",textSubmit:"Submit",textNext:"Next",textBack:"Back",remoteAjax:void 0,inAnimation:{opacity:"show"},outAnimation:{opacity:"hide"},inDuration:400,outDuration:400,easing:"swing",focusFirstInput:!1,disableInputFields:!0,formOptions:{reset:!0,success:function(){void 0!==window.console&&console.log("%s","form submit successful")},disableUIStyles:!1}}})}(jQuery),/*!
 * jQuery Tags Input Plugin 1.3.3
 *
 * Copyright (c) 2011 XOXCO, Inc
 *
 * Documentation for this plugin lives here:
 * http://xoxco.com/clickable/jquery-tags-input
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/mit-license.php
 * ben@xoxco.com
 */
function(e){var t=new Array,a=new Array;e.fn.doAutosize=function(t){var a=e(this).data("minwidth"),i=e(this).data("maxwidth"),n="",o=e(this),r=e("#"+e(this).data("tester_id"));if(n!==(n=o.val())){var l=n.replace(/&/g,"&").replace(/\s/g," ").replace(/</g,"<").replace(/>/g,">");r.html(l);var s=r.width(),d=s+t.comfortZone>=a?s+t.comfortZone:a,c=o.width(),u=c>d&&d>=a||d>a&&i>d;u&&o.width(d)}},e.fn.resetAutosize=function(t){var a=e(this).data("minwidth")||t.minInputWidth||e(this).width(),i=e(this).data("maxwidth")||t.maxInputWidth||e(this).closest(".tagsinput").width()-t.inputPadding,n=e(this),o=e("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:n.css("fontSize"),fontFamily:n.css("fontFamily"),fontWeight:n.css("fontWeight"),letterSpacing:n.css("letterSpacing"),whiteSpace:"nowrap"}),r=e(this).attr("id")+"_autosize_tester";!e("#"+r).length>0&&(o.attr("id",r),o.appendTo("body")),n.data("minwidth",a),n.data("maxwidth",i),n.data("tester_id",r),n.css("width",a)},e.fn.addTag=function(i,n){return n=jQuery.extend({focus:!1,callback:!0},n),this.each(function(){var o=e(this).attr("id"),r=e(this).val().split(t[o]);if(""==r[0]&&(r=new Array),i=jQuery.trim(i),n.unique){var l=e(r).tagExist(i);1==l&&e("#"+o+"_tag").addClass("not_valid")}else var l=!1;if(""!=i&&1!=l){if(e("<span>").addClass("tag").append(e("<span>").text(i).append("  "),e("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return e("#"+o).removeTag(escape(i))})).insertBefore("#"+o+"_addTag"),r.push(i),e("#"+o+"_tag").val(""),n.focus?e("#"+o+"_tag").focus():e("#"+o+"_tag").blur(),e.fn.tagsInput.updateTagsField(this,r),n.callback&&a[o]&&a[o].onAddTag){var s=a[o].onAddTag;s.call(this,i)}if(a[o]&&a[o].onChange){var d=r.length,s=a[o].onChange;s.call(this,e(this),r[d-1])}}}),!1},e.fn.removeTag=function(n){return n=unescape(n),this.each(function(){var o=e(this).attr("id"),r=e(this).val().split(t[o]);for(e("#"+o+"_tagsinput .tag").remove(),str="",i=0;i<r.length;i++)r[i]!=n&&(str=str+t[o]+r[i]);if(e.fn.tagsInput.importTags(this,str),a[o]&&a[o].onRemoveTag){var l=a[o].onRemoveTag;l.call(this,n)}}),!1},e.fn.tagExist=function(t){return jQuery.inArray(t,e(this))>=0},e.fn.importTags=function(t){id=e(this).attr("id"),e("#"+id+"_tagsinput .tag").remove(),e.fn.tagsInput.importTags(this,t)},e.fn.tagsInput=function(i){var n=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},i);return this.each(function(){n.hide&&e(this).hide();var i=e(this).attr("id");(!i||t[e(this).attr("id")])&&(i=e(this).attr("id","tags"+(new Date).getTime()).attr("id"));var o=jQuery.extend({pid:i,real_input:"#"+i,holder:"#"+i+"_tagsinput",input_wrapper:"#"+i+"_addTag",fake_input:"#"+i+"_tag"},n);t[i]=o.delimiter,(n.onAddTag||n.onRemoveTag||n.onChange)&&(a[i]=new Array,a[i].onAddTag=n.onAddTag,a[i].onRemoveTag=n.onRemoveTag,a[i].onChange=n.onChange);var r='<div id="'+i+'_tagsinput" class="tagsinput"><div id="'+i+'_addTag">';if(n.interactive&&(r=r+'<input id="'+i+'_tag" value="" data-default="'+n.defaultText+'" />'),r+='</div><div class="tags_clear"></div></div>',e(r).insertAfter(this),e(o.holder).css("width",n.width),e(o.holder).css("height",n.height),""!=e(o.real_input).val()&&e.fn.tagsInput.importTags(e(o.real_input),e(o.real_input).val()),n.interactive){if(e(o.fake_input).val(e(o.fake_input).attr("data-default")),e(o.fake_input).css("color",n.placeholderColor),e(o.fake_input).resetAutosize(n),e(o.holder).bind("click",o,function(t){e(t.data.fake_input).focus()}),e(o.fake_input).bind("focus",o,function(t){e(t.data.fake_input).val()==e(t.data.fake_input).attr("data-default")&&e(t.data.fake_input).val(""),e(t.data.fake_input).css("color","#000000")}),void 0!=n.autocomplete_url){autocomplete_options={source:n.autocomplete_url};for(attrname in n.autocomplete)autocomplete_options[attrname]=n.autocomplete[attrname];void 0!==jQuery.Autocompleter?(e(o.fake_input).autocomplete(n.autocomplete_url,n.autocomplete),e(o.fake_input).bind("result",o,function(t,a){a&&e("#"+i).addTag(a[0]+"",{focus:!0,unique:n.unique})})):void 0!==jQuery.ui.autocomplete&&(e(o.fake_input).autocomplete(autocomplete_options),e(o.fake_input).bind("autocompleteselect",o,function(t,a){return e(t.data.real_input).addTag(a.item.value,{focus:!0,unique:n.unique}),!1}))}else e(o.fake_input).bind("blur",o,function(t){var a=e(this).attr("data-default");return""!=e(t.data.fake_input).val()&&e(t.data.fake_input).val()!=a?t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:n.unique}):(e(t.data.fake_input).val(e(t.data.fake_input).attr("data-default")),e(t.data.fake_input).css("color",n.placeholderColor)),!1});e(o.fake_input).bind("keypress",o,function(t){return t.which==t.data.delimiter.charCodeAt(0)||13==t.which?(t.preventDefault(),t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:n.unique}),e(t.data.fake_input).resetAutosize(n),!1):void(t.data.autosize&&e(t.data.fake_input).doAutosize(n))}),o.removeWithBackspace&&e(o.fake_input).bind("keydown",function(t){if(8==t.keyCode&&""==e(this).val()){t.preventDefault();var a=e(this).closest(".tagsinput").find(".tag:last").text(),i=e(this).attr("id").replace(/_tag$/,"");a=a.replace(/[\s]+x$/,""),e("#"+i).removeTag(escape(a)),e(this).trigger("focus")}}),e(o.fake_input).blur(),o.unique&&e(o.fake_input).keydown(function(t){(8==t.keyCode||String.fromCharCode(t.which).match(/\w+|[\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1,/]+/))&&e(this).removeClass("not_valid")})}}),this},e.fn.tagsInput.updateTagsField=function(a,i){var n=e(a).attr("id");e(a).val(i.join(t[n]))},e.fn.tagsInput.importTags=function(n,o){e(n).val("");var r=e(n).attr("id"),l=o.split(t[r]);for(i=0;i<l.length;i++)e(n).addTag(l[i],{focus:!1,callback:!1});if(a[r]&&a[r].onChange){var s=a[r].onChange;s.call(n,n,l[i])}}}(jQuery),/*!
 * jquery.sparkline 2.1.2 - http://omnipotent.net/jquery.sparkline/
 * Licensed under the New BSD License - see above site for details
 */
function(e,t,a){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.sparkline&&e(jQuery)}(function(i){"use strict";var n,o,r,l,s,d,c,u,p,h,m,g,f,v,b,y,k,T,C,w,E,S,D,R,A,I,x,L,_,F,O,N,P={},z=0;n=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:a,normalRangeMax:a,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:a,chartRangeMax:a,chartRangeMinX:a,chartRangeMaxX:a,tooltipFormat:new r('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:a,nullColor:a,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:a,chartRangeMin:a,chartRangeClip:!1,colorMap:a,tooltipFormat:new r('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new r('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:a,thresholdValue:0,chartRangeMax:a,chartRangeMin:a,chartRangeClip:!1,tooltipFormat:new r("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:a,tooltipFormat:new r("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new r('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:a,targetColor:"#4a2",chartRangeMax:a,chartRangeMin:a,tooltipFormat:new r("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},I=".jqstooltip { width: auto !important; height: auto !important; position: absolute;left: 0px;top: 0px;visibility: hidden;background: #000000;color: white;font-size: 11px;text-align: left;white-space: nowrap;padding: 5px;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}",o=function(){var e,t;return e=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(e.prototype=i.extend(new arguments[0],arguments[arguments.length-1]),e._super=arguments[0].prototype):e.prototype=arguments[arguments.length-1],arguments.length>2&&(t=Array.prototype.slice.call(arguments,1,-1),t.unshift(e.prototype),i.extend.apply(i,t))):e.prototype=arguments[0],e.prototype.cls=e,e},i.SPFormatClass=r=o({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(e,t){this.format=e,this.fclass=t},render:function(e,t,i){var n,o,r,l,s,d=this,c=e;return this.format.replace(this.fre,function(){var e;return o=arguments[1],r=arguments[3],n=d.precre.exec(o),n?(s=n[2],o=n[1]):s=!1,l=c[o],l===a?"":r&&t&&t[r]?(e=t[r],e.get?t[r].get(l)||l:t[r][l]||l):(p(l)&&(l=i.get("numberFormatter")?i.get("numberFormatter")(l):v(l,s,i.get("numberDigitGroupCount"),i.get("numberDigitGroupSep"),i.get("numberDecimalMark"))),l)})}}),i.spformat=function(e,t){return new r(e,t)},l=function(e,t,a){return t>e?t:e>a?a:e},s=function(e,a){var i;return 2===a?(i=t.floor(e.length/2),e.length%2?e[i]:(e[i-1]+e[i])/2):e.length%2?(i=(e.length*a+a)/4,i%1?(e[t.floor(i)]+e[t.floor(i)-1])/2:e[i-1]):(i=(e.length*a+2)/4,i%1?(e[t.floor(i)]+e[t.floor(i)-1])/2:e[i-1])},d=function(e){var t;switch(e){case"undefined":e=a;break;case"null":e=null;break;case"true":e=!0;break;case"false":e=!1;break;default:t=parseFloat(e),e==t&&(e=t)}return e},c=function(e){var t,a=[];for(t=e.length;t--;)a[t]=d(e[t]);return a},u=function(e,t){var a,i,n=[];for(a=0,i=e.length;i>a;a++)e[a]!==t&&n.push(e[a]);return n},p=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},v=function(e,t,a,n,o){var r,l;for(e=(t===!1?parseFloat(e).toString():e.toFixed(t)).split(""),r=(r=i.inArray(".",e))<0?e.length:r,r<e.length&&(e[r]=o),l=r-a;l>0;l-=a)e.splice(l,0,n);return e.join("")},h=function(e,t,a){var i;for(i=t.length;i--;)if((!a||null!==t[i])&&t[i]!==e)return!1;return!0},m=function(e){var t,a=0;for(t=e.length;t--;)a+="number"==typeof e[t]?e[t]:0;return a},f=function(e){return i.isArray(e)?e:[e]},g=function(t){var a;e.createStyleSheet?e.createStyleSheet().cssText=t:(a=e.createElement("style"),a.type="text/css",e.getElementsByTagName("head")[0].appendChild(a),a["string"==typeof e.body.style.WebkitAppearance?"innerText":"innerHTML"]=t)},i.fn.simpledraw=function(t,n,o,r){var l,s;if(o&&(l=this.data("_jqs_vcanvas")))return l;if(i.fn.sparkline.canvas===!1)return!1;if(i.fn.sparkline.canvas===a){var d=e.createElement("canvas");if(d.getContext&&d.getContext("2d"))i.fn.sparkline.canvas=function(e,t,a,i){return new F(e,t,a,i)};else{if(!e.namespaces||e.namespaces.v)return i.fn.sparkline.canvas=!1,!1;e.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),i.fn.sparkline.canvas=function(e,t,a){return new O(e,t,a)}}}return t===a&&(t=i(this).innerWidth()),n===a&&(n=i(this).innerHeight()),l=i.fn.sparkline.canvas(t,n,this,r),s=i(this).data("_jqs_mhandler"),s&&s.registerCanvas(l),l},i.fn.cleardraw=function(){var e=this.data("_jqs_vcanvas");e&&e.reset()},i.RangeMapClass=b=o({init:function(e){var t,a,i=[];for(t in e)e.hasOwnProperty(t)&&"string"==typeof t&&t.indexOf(":")>-1&&(a=t.split(":"),a[0]=0===a[0].length?-1/0:parseFloat(a[0]),a[1]=0===a[1].length?1/0:parseFloat(a[1]),a[2]=e[t],i.push(a));this.map=e,this.rangelist=i||!1},get:function(e){var t,i,n,o=this.rangelist;if((n=this.map[e])!==a)return n;if(o)for(t=o.length;t--;)if(i=o[t],i[0]<=e&&i[1]>=e)return i[2];return a}}),i.range_map=function(e){return new b(e)},y=o({init:function(e,t){var a=i(e);this.$el=a,this.options=t,this.currentPageX=0,this.currentPageY=0,this.el=e,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!t.get("disableTooltips"),this.highlightEnabled=!t.get("disableHighlight")},registerSparkline:function(e){this.splist.push(e),this.over&&this.updateDisplay()},registerCanvas:function(e){var t=i(e.canvas);this.canvas=e,this.$canvas=t,t.mouseenter(i.proxy(this.mouseenter,this)),t.mouseleave(i.proxy(this.mouseleave,this)),t.click(i.proxy(this.mouseclick,this))},reset:function(e){this.splist=[],this.tooltip&&e&&(this.tooltip.remove(),this.tooltip=a)},mouseclick:function(e){var t=i.Event("sparklineClick");t.originalEvent=e,t.sparklines=this.splist,this.$el.trigger(t)},mouseenter:function(t){i(e.body).unbind("mousemove.jqs"),i(e.body).bind("mousemove.jqs",i.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new k(this.options),this.tooltip.updatePosition(t.pageX,t.pageY)),this.updateDisplay()},mouseleave:function(){i(e.body).unbind("mousemove.jqs");var t,a,n=this.splist,o=n.length,r=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),a=0;o>a;a++)t=n[a],t.clearRegionHighlight()&&(r=!0);r&&this.canvas.render()},mousemove:function(e){this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,this.tooltip&&this.tooltip.updatePosition(e.pageX,e.pageY),this.updateDisplay()},updateDisplay:function(){var e,t,a,n,o,r=this.splist,l=r.length,s=!1,d=this.$canvas.offset(),c=this.currentPageX-d.left,u=this.currentPageY-d.top;if(this.over){for(a=0;l>a;a++)t=r[a],n=t.setRegionHighlight(this.currentEl,c,u),n&&(s=!0);if(s){if(o=i.Event("sparklineRegionChange"),o.sparklines=this.splist,this.$el.trigger(o),this.tooltip){for(e="",a=0;l>a;a++)t=r[a],e+=t.getCurrentRegionTooltip();this.tooltip.setContent(e)}this.disableHighlight||this.canvas.render()}null===n&&this.mouseleave()}}}),k=o({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(t){var a,n=t.get("tooltipClassname","jqstooltip"),o=this.sizeStyle;this.container=t.get("tooltipContainer")||e.body,this.tooltipOffsetX=t.get("tooltipOffsetX",10),this.tooltipOffsetY=t.get("tooltipOffsetY",12),i("#jqssizetip").remove(),i("#jqstooltip").remove(),this.sizetip=i("<div/>",{id:"jqssizetip",style:o,"class":n}),this.tooltip=i("<div/>",{id:"jqstooltip","class":n}).appendTo(this.container),a=this.tooltip.offset(),this.offsetLeft=a.left,this.offsetTop=a.top,this.hidden=!0,i(window).unbind("resize.jqs scroll.jqs"),i(window).bind("resize.jqs scroll.jqs",i.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=i(window).scrollTop(),this.scrollLeft=i(window).scrollLeft(),this.scrollRight=this.scrollLeft+i(window).width(),this.updatePosition()},getSize:function(e){this.sizetip.html(e).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(e){return e?(this.getSize(e),this.tooltip.html(e).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition()),void 0):(this.tooltip.css("visibility","hidden"),void(this.hidden=!0))},updatePosition:function(e,t){if(e===a){if(this.mousex===a)return;e=this.mousex-this.offsetLeft,t=this.mousey-this.offsetTop}else this.mousex=e-=this.offsetLeft,this.mousey=t-=this.offsetTop;this.height&&this.width&&!this.hidden&&(t-=this.height+this.tooltipOffsetY,e+=this.tooltipOffsetX,t<this.scrollTop&&(t=this.scrollTop),e<this.scrollLeft?e=this.scrollLeft:e+this.width>this.scrollRight&&(e=this.scrollRight-this.width),this.tooltip.css({left:e,top:t}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=a,i(window).unbind("resize.jqs scroll.jqs")}}),x=function(){g(I)},i(x),N=[],i.fn.sparkline=function(t,n){return this.each(function(){var o,r,l=new i.fn.sparkline.options(this,n),s=i(this);if(o=function(){var n,o,r,d,c,u,p;return"html"===t||t===a?(p=this.getAttribute(l.get("tagValuesAttribute")),(p===a||null===p)&&(p=s.html()),n=p.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):n=t,o="auto"===l.get("width")?n.length*l.get("defaultPixelsPerValue"):l.get("width"),"auto"===l.get("height")?l.get("composite")&&i.data(this,"_jqs_vcanvas")||(d=e.createElement("span"),d.innerHTML="a",s.html(d),r=i(d).innerHeight()||i(d).height(),i(d).remove(),d=null):r=l.get("height"),l.get("disableInteraction")?c=!1:(c=i.data(this,"_jqs_mhandler"),c?l.get("composite")||c.reset():(c=new y(this,l),i.data(this,"_jqs_mhandler",c))),l.get("composite")&&!i.data(this,"_jqs_vcanvas")?void(i.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),i.data(this,"_jqs_errnotify",!0))):(u=new(i.fn.sparkline[l.get("type")])(this,n,l,o,r),u.render(),c&&c.registerSparkline(u),void 0)},i(this).html()&&!l.get("disableHiddenCheck")&&i(this).is(":hidden")||!i(this).parents("body").length){if(!l.get("composite")&&i.data(this,"_jqs_pending"))for(r=N.length;r;r--)N[r-1][0]==this&&N.splice(r-1,1);N.push([this,o]),i.data(this,"_jqs_pending",!0)}else o.call(this)})},i.fn.sparkline.defaults=n(),i.sparkline_display_visible=function(){var e,t,a,n=[];for(t=0,a=N.length;a>t;t++)e=N[t][0],i(e).is(":visible")&&!i(e).parents().is(":hidden")?(N[t][1].call(e),i.data(N[t][0],"_jqs_pending",!1),n.push(t)):!i(e).closest("html").length&&!i.data(e,"_jqs_pending")&&(i.data(N[t][0],"_jqs_pending",!1),n.push(t));for(t=n.length;t;t--)N.splice(n[t-1],1)},i.fn.sparkline.options=o({init:function(e,t){var a,n,o,r;this.userOptions=t=t||{},this.tag=e,this.tagValCache={},n=i.fn.sparkline.defaults,o=n.common,this.tagOptionsPrefix=t.enableTagOptions&&(t.tagOptionsPrefix||o.tagOptionsPrefix),r=this.getTagSetting("type"),a=r===P?n[t.type||o.type]:n[r],this.mergedOptions=i.extend({},o,a,t)},getTagSetting:function(e){var t,i,n,o,r=this.tagOptionsPrefix;if(r===!1||r===a)return P;if(this.tagValCache.hasOwnProperty(e))t=this.tagValCache.key;else{if(t=this.tag.getAttribute(r+e),t===a||null===t)t=P;else if("["===t.substr(0,1))for(t=t.substr(1,t.length-2).split(","),i=t.length;i--;)t[i]=d(t[i].replace(/(^\s*)|(\s*$)/g,""));else if("{"===t.substr(0,1))for(n=t.substr(1,t.length-2).split(","),t={},i=n.length;i--;)o=n[i].split(":",2),t[o[0].replace(/(^\s*)|(\s*$)/g,"")]=d(o[1].replace(/(^\s*)|(\s*$)/g,""));else t=d(t);this.tagValCache.key=t}return t},get:function(e,t){var i,n=this.getTagSetting(e);return n!==P?n:(i=this.mergedOptions[e])===a?t:i}}),i.fn.sparkline._base=o({disabled:!1,init:function(e,t,n,o,r){this.el=e,this.$el=i(e),this.values=t,this.options=n,this.width=o,this.height=r,this.currentRegion=a},initTarget:function(){var e=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),e))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(){},setRegionHighlight:function(e,t,i){var n,o=this.currentRegion,r=!this.options.get("disableHighlight");return t>this.canvasWidth||i>this.canvasHeight||0>t||0>i?null:(n=this.getRegion(e,t,i),o!==n?(o!==a&&r&&this.removeHighlight(),this.currentRegion=n,n!==a&&r&&this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return this.currentRegion!==a?(this.removeHighlight(),this.currentRegion=a,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(){},getCurrentRegionTooltip:function(){var e,t,n,o,l,s,d,c,u,p,h,m,g,f,v=this.options,b="",y=[];if(this.currentRegion===a)return"";if(e=this.getCurrentRegionFields(),h=v.get("tooltipFormatter"))return h(this,v,e);if(v.get("tooltipChartTitle")&&(b+='<div class="jqs jqstitle">'+v.get("tooltipChartTitle")+"</div>\n"),t=this.options.get("tooltipFormat"),!t)return"";if(i.isArray(t)||(t=[t]),i.isArray(e)||(e=[e]),d=this.options.get("tooltipFormatFieldlist"),c=this.options.get("tooltipFormatFieldlistKey"),d&&c){for(u=[],s=e.length;s--;)p=e[s][c],-1!=(f=i.inArray(p,d))&&(u[f]=e[s]);e=u}for(n=t.length,g=e.length,s=0;n>s;s++)for(m=t[s],"string"==typeof m&&(m=new r(m)),o=m.fclass||"jqsfield",f=0;g>f;f++)e[f].isNull&&v.get("tooltipSkipNull")||(i.extend(e[f],{prefix:v.get("tooltipPrefix"),suffix:v.get("tooltipSuffix")}),l=m.render(e[f],v.get("tooltipValueLookups"),v),y.push('<div class="'+o+'">'+l+"</div>"));return y.length?b+y.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(e,a){var i,n,o,r,s=a.get("highlightColor"),d=a.get("highlightLighten");if(s)return s;if(d&&(i=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e))){for(o=[],n=4===e.length?16:1,r=0;3>r;r++)o[r]=l(t.round(parseInt(i[r+1],16)*n*d),0,255);return"rgb("+o.join(",")+")"}return e}}),T={changeHighlight:function(e){var t,a=this.currentRegion,n=this.target,o=this.regionShapes[a];o&&(t=this.renderRegion(a,e),i.isArray(t)||i.isArray(o)?(n.replaceWithShapes(o,t),this.regionShapes[a]=i.map(t,function(e){return e.id})):(n.replaceWithShape(o,t),this.regionShapes[a]=t.id))},render:function(){var e,t,a,n,o=this.values,r=this.target,l=this.regionShapes;if(this.cls._super.render.call(this)){for(a=o.length;a--;)if(e=this.renderRegion(a))if(i.isArray(e)){for(t=[],n=e.length;n--;)e[n].append(),t.push(e[n].id);l[a]=t}else e.append(),l[a]=e.id;else l[a]=null;r.render()}}},i.fn.sparkline.line=C=o(i.fn.sparkline._base,{type:"line",init:function(e,t,a,i,n){C._super.init.call(this,e,t,a,i,n),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(e,t){var i,n=this.regionMap;for(i=n.length;i--;)if(null!==n[i]&&t>=n[i][0]&&t<=n[i][1])return n[i][2];return a},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:null===this.yvalues[e],x:this.xvalues[e],y:this.yvalues[e],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:e}},renderHighlight:function(){var e,t,i=this.currentRegion,n=this.target,o=this.vertices[i],r=this.options,l=r.get("spotRadius"),s=r.get("highlightSpotColor"),d=r.get("highlightLineColor");o&&(l&&s&&(e=n.drawCircle(o[0],o[1],l,a,s),this.highlightSpotId=e.id,n.insertAfterShape(this.lastShapeId,e)),d&&(t=n.drawLine(o[0],this.canvasTop,o[0],this.canvasTop+this.canvasHeight,d),this.highlightLineId=t.id,n.insertAfterShape(this.lastShapeId,t)))},removeHighlight:function(){var e=this.target;this.highlightSpotId&&(e.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(e.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var e,a,i,n,o,r=this.values,l=r.length,s=this.xvalues,d=this.yvalues,c=this.yminmax;for(e=0;l>e;e++)a=r[e],i="string"==typeof r[e],n="object"==typeof r[e]&&r[e]instanceof Array,o=i&&r[e].split(":"),i&&2===o.length?(s.push(Number(o[0])),d.push(Number(o[1])),c.push(Number(o[1]))):n?(s.push(a[0]),d.push(a[1]),c.push(a[1])):(s.push(e),null===r[e]||"null"===r[e]?d.push(null):(d.push(Number(a)),c.push(Number(a))));this.options.get("xvalues")&&(s=this.options.get("xvalues")),this.maxy=this.maxyorg=t.max.apply(t,c),this.miny=this.minyorg=t.min.apply(t,c),this.maxx=t.max.apply(t,s),this.minx=t.min.apply(t,s),this.xvalues=s,this.yvalues=d,this.yminmax=c},processRangeOptions:function(){var e=this.options,t=e.get("normalRangeMin"),i=e.get("normalRangeMax");t!==a&&(t<this.miny&&(this.miny=t),i>this.maxy&&(this.maxy=i)),e.get("chartRangeMin")!==a&&(e.get("chartRangeClip")||e.get("chartRangeMin")<this.miny)&&(this.miny=e.get("chartRangeMin")),e.get("chartRangeMax")!==a&&(e.get("chartRangeClip")||e.get("chartRangeMax")>this.maxy)&&(this.maxy=e.get("chartRangeMax")),e.get("chartRangeMinX")!==a&&(e.get("chartRangeClipX")||e.get("chartRangeMinX")<this.minx)&&(this.minx=e.get("chartRangeMinX")),e.get("chartRangeMaxX")!==a&&(e.get("chartRangeClipX")||e.get("chartRangeMaxX")>this.maxx)&&(this.maxx=e.get("chartRangeMaxX"))},drawNormalRange:function(e,i,n,o,r){var l=this.options.get("normalRangeMin"),s=this.options.get("normalRangeMax"),d=i+t.round(n-n*((s-this.miny)/r)),c=t.round(n*(s-l)/r);this.target.drawRect(e,d,o,c,a,this.options.get("normalRangeColor")).append()},render:function(){var e,n,o,r,l,s,d,c,u,p,h,m,g,f,v,y,k,T,w,E,S,D,R,A,I,x=this.options,L=this.target,_=this.canvasWidth,F=this.canvasHeight,O=this.vertices,N=x.get("spotRadius"),P=this.regionMap;if(C._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),R=this.xvalues,A=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(r=l=0,e=this.maxx-this.minx===0?1:this.maxx-this.minx,n=this.maxy-this.miny===0?1:this.maxy-this.miny,o=this.yvalues.length-1,N&&(4*N>_||4*N>F)&&(N=0),N&&(S=x.get("highlightSpotColor")&&!x.get("disableInteraction"),(S||x.get("minSpotColor")||x.get("spotColor")&&A[o]===this.miny)&&(F-=t.ceil(N)),(S||x.get("maxSpotColor")||x.get("spotColor")&&A[o]===this.maxy)&&(F-=t.ceil(N),r+=t.ceil(N)),(S||(x.get("minSpotColor")||x.get("maxSpotColor"))&&(A[0]===this.miny||A[0]===this.maxy))&&(l+=t.ceil(N),_-=t.ceil(N)),(S||x.get("spotColor")||x.get("minSpotColor")||x.get("maxSpotColor")&&(A[o]===this.miny||A[o]===this.maxy))&&(_-=t.ceil(N))),F--,x.get("normalRangeMin")!==a&&!x.get("drawNormalOnTop")&&this.drawNormalRange(l,r,F,_,n),d=[],c=[d],f=v=null,y=A.length,I=0;y>I;I++)u=R[I],h=R[I+1],p=A[I],m=l+t.round((u-this.minx)*(_/e)),g=y-1>I?l+t.round((h-this.minx)*(_/e)):_,v=m+(g-m)/2,P[I]=[f||0,v,I],f=v,null===p?I&&(null!==A[I-1]&&(d=[],c.push(d)),O.push(null)):(p<this.miny&&(p=this.miny),p>this.maxy&&(p=this.maxy),d.length||d.push([m,r+F]),s=[m,r+t.round(F-F*((p-this.miny)/n))],d.push(s),O.push(s));for(k=[],T=[],w=c.length,I=0;w>I;I++)d=c[I],d.length&&(x.get("fillColor")&&(d.push([d[d.length-1][0],r+F]),T.push(d.slice(0)),d.pop()),d.length>2&&(d[0]=[d[0][0],d[1][1]]),k.push(d));for(w=T.length,I=0;w>I;I++)L.drawShape(T[I],x.get("fillColor"),x.get("fillColor")).append();for(x.get("normalRangeMin")!==a&&x.get("drawNormalOnTop")&&this.drawNormalRange(l,r,F,_,n),w=k.length,I=0;w>I;I++)L.drawShape(k[I],x.get("lineColor"),a,x.get("lineWidth")).append();if(N&&x.get("valueSpots"))for(E=x.get("valueSpots"),E.get===a&&(E=new b(E)),I=0;y>I;I++)D=E.get(A[I]),D&&L.drawCircle(l+t.round((R[I]-this.minx)*(_/e)),r+t.round(F-F*((A[I]-this.miny)/n)),N,a,D).append();N&&x.get("spotColor")&&null!==A[o]&&L.drawCircle(l+t.round((R[R.length-1]-this.minx)*(_/e)),r+t.round(F-F*((A[o]-this.miny)/n)),N,a,x.get("spotColor")).append(),this.maxy!==this.minyorg&&(N&&x.get("minSpotColor")&&(u=R[i.inArray(this.minyorg,A)],L.drawCircle(l+t.round((u-this.minx)*(_/e)),r+t.round(F-F*((this.minyorg-this.miny)/n)),N,a,x.get("minSpotColor")).append()),N&&x.get("maxSpotColor")&&(u=R[i.inArray(this.maxyorg,A)],L.drawCircle(l+t.round((u-this.minx)*(_/e)),r+t.round(F-F*((this.maxyorg-this.miny)/n)),N,a,x.get("maxSpotColor")).append())),this.lastShapeId=L.getLastShapeId(),this.canvasTop=r,L.render()}}}),i.fn.sparkline.bar=w=o(i.fn.sparkline._base,T,{type:"bar",init:function(e,n,o,r,s){var p,h,m,g,f,v,y,k,T,C,E,S,D,R,A,I,x,L,_,F,O,N,P=parseInt(o.get("barWidth"),10),z=parseInt(o.get("barSpacing"),10),B=o.get("chartRangeMin"),M=o.get("chartRangeMax"),K=o.get("chartRangeClip"),j=1/0,H=-1/0;for(w._super.init.call(this,e,n,o,r,s),v=0,y=n.length;y>v;v++)F=n[v],p="string"==typeof F&&F.indexOf(":")>-1,(p||i.isArray(F))&&(A=!0,p&&(F=n[v]=c(F.split(":"))),F=u(F,null),h=t.min.apply(t,F),m=t.max.apply(t,F),j>h&&(j=h),m>H&&(H=m));this.stacked=A,this.regionShapes={},this.barWidth=P,this.barSpacing=z,this.totalBarWidth=P+z,this.width=r=n.length*P+(n.length-1)*z,this.initTarget(),K&&(D=B===a?-1/0:B,R=M===a?1/0:M),f=[],g=A?[]:f;var W=[],V=[];for(v=0,y=n.length;y>v;v++)if(A)for(I=n[v],n[v]=_=[],W[v]=0,g[v]=V[v]=0,x=0,L=I.length;L>x;x++)F=_[x]=K?l(I[x],D,R):I[x],null!==F&&(F>0&&(W[v]+=F),0>j&&H>0?0>F?V[v]+=t.abs(F):g[v]+=F:g[v]+=t.abs(F-(0>F?H:j)),f.push(F));else F=K?l(n[v],D,R):n[v],F=n[v]=d(F),null!==F&&f.push(F);this.max=S=t.max.apply(t,f),this.min=E=t.min.apply(t,f),this.stackMax=H=A?t.max.apply(t,W):S,this.stackMin=j=A?t.min.apply(t,f):E,o.get("chartRangeMin")!==a&&(o.get("chartRangeClip")||o.get("chartRangeMin")<E)&&(E=o.get("chartRangeMin")),o.get("chartRangeMax")!==a&&(o.get("chartRangeClip")||o.get("chartRangeMax")>S)&&(S=o.get("chartRangeMax")),this.zeroAxis=T=o.get("zeroAxis",!0),C=0>=E&&S>=0&&T?0:0==T?E:E>0?E:S,this.xaxisOffset=C,k=A?t.max.apply(t,g)+t.max.apply(t,V):S-E,this.canvasHeightEf=T&&0>E?this.canvasHeight-2:this.canvasHeight-1,C>E?(N=A&&S>=0?H:S,O=(N-C)/k*this.canvasHeight,O!==t.ceil(O)&&(this.canvasHeightEf-=2,O=t.ceil(O))):O=this.canvasHeight,this.yoffset=O,i.isArray(o.get("colorMap"))?(this.colorMapByIndex=o.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=o.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===a&&(this.colorMapByValue=new b(this.colorMapByValue))),this.range=k},getRegion:function(e,i){var n=t.floor(i/this.totalBarWidth);return 0>n||n>=this.values.length?a:n},getCurrentRegionFields:function(){var e,t,a=this.currentRegion,i=f(this.values[a]),n=[];for(t=i.length;t--;)e=i[t],n.push({isNull:null===e,value:e,color:this.calcColor(t,e,a),offset:a});return n},calcColor:function(e,t,n){var o,r,l=this.colorMapByIndex,s=this.colorMapByValue,d=this.options;return o=d.get(this.stacked?"stackedBarColor":0>t?"negBarColor":"barColor"),0===t&&d.get("zeroColor")!==a&&(o=d.get("zeroColor")),s&&(r=s.get(t))?o=r:l&&l.length>n&&(o=l[n]),i.isArray(o)?o[e%o.length]:o},renderRegion:function(e,n){var o,r,l,s,d,c,u,p,m,g,f=this.values[e],v=this.options,b=this.xaxisOffset,y=[],k=this.range,T=this.stacked,C=this.target,w=e*this.totalBarWidth,E=this.canvasHeightEf,S=this.yoffset;if(f=i.isArray(f)?f:[f],u=f.length,p=f[0],s=h(null,f),g=h(b,f,!0),s)return v.get("nullColor")?(l=n?v.get("nullColor"):this.calcHighlightColor(v.get("nullColor"),v),o=S>0?S-1:S,C.drawRect(w,o,this.barWidth-1,0,l,l)):a;for(d=S,c=0;u>c;c++){if(p=f[c],T&&p===b){if(!g||m)continue;m=!0}r=k>0?t.floor(E*(t.abs(p-b)/k))+1:1,b>p||p===b&&0===S?(o=d,d+=r):(o=S-r,S-=r),l=this.calcColor(c,p,e),n&&(l=this.calcHighlightColor(l,v)),y.push(C.drawRect(w,o,this.barWidth-1,r-1,l,l))}return 1===y.length?y[0]:y}}),i.fn.sparkline.tristate=E=o(i.fn.sparkline._base,T,{type:"tristate",init:function(e,t,n,o,r){var l=parseInt(n.get("barWidth"),10),s=parseInt(n.get("barSpacing"),10);E._super.init.call(this,e,t,n,o,r),this.regionShapes={},this.barWidth=l,this.barSpacing=s,this.totalBarWidth=l+s,this.values=i.map(t,Number),this.width=o=t.length*l+(t.length-1)*s,i.isArray(n.get("colorMap"))?(this.colorMapByIndex=n.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=n.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===a&&(this.colorMapByValue=new b(this.colorMapByValue))),this.initTarget()},getRegion:function(e,a){return t.floor(a/this.totalBarWidth)},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:this.values[e]===a,value:this.values[e],color:this.calcColor(this.values[e],e),offset:e}},calcColor:function(e,t){var a,i,n=this.values,o=this.options,r=this.colorMapByIndex,l=this.colorMapByValue;return a=l&&(i=l.get(e))?i:r&&r.length>t?r[t]:o.get(n[t]<0?"negBarColor":n[t]>0?"posBarColor":"zeroBarColor")},renderRegion:function(e,a){var i,n,o,r,l,s,d=this.values,c=this.options,u=this.target;return i=u.pixelHeight,o=t.round(i/2),r=e*this.totalBarWidth,d[e]<0?(l=o,n=o-1):d[e]>0?(l=0,n=o-1):(l=o-1,n=2),s=this.calcColor(d[e],e),null!==s?(a&&(s=this.calcHighlightColor(s,c)),u.drawRect(r,l,this.barWidth-1,n-1,s,s)):void 0}}),i.fn.sparkline.discrete=S=o(i.fn.sparkline._base,T,{type:"discrete",init:function(e,n,o,r,l){S._super.init.call(this,e,n,o,r,l),this.regionShapes={},this.values=n=i.map(n,Number),this.min=t.min.apply(t,n),this.max=t.max.apply(t,n),this.range=this.max-this.min,this.width=r="auto"===o.get("width")?2*n.length:this.width,this.interval=t.floor(r/n.length),this.itemWidth=r/n.length,o.get("chartRangeMin")!==a&&(o.get("chartRangeClip")||o.get("chartRangeMin")<this.min)&&(this.min=o.get("chartRangeMin")),o.get("chartRangeMax")!==a&&(o.get("chartRangeClip")||o.get("chartRangeMax")>this.max)&&(this.max=o.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===o.get("lineHeight")?t.round(.3*this.canvasHeight):o.get("lineHeight"))},getRegion:function(e,a){return t.floor(a/this.itemWidth)},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:this.values[e]===a,value:this.values[e],offset:e}},renderRegion:function(e,a){var i,n,o,r,s=this.values,d=this.options,c=this.min,u=this.max,p=this.range,h=this.interval,m=this.target,g=this.canvasHeight,f=this.lineHeight,v=g-f;return n=l(s[e],c,u),r=e*h,i=t.round(v-v*((n-c)/p)),o=d.get(d.get("thresholdColor")&&n<d.get("thresholdValue")?"thresholdColor":"lineColor"),a&&(o=this.calcHighlightColor(o,d)),m.drawLine(r,i,r,i+f,o)}}),i.fn.sparkline.bullet=D=o(i.fn.sparkline._base,{type:"bullet",init:function(e,i,n,o,r){var l,s,d;D._super.init.call(this,e,i,n,o,r),this.values=i=c(i),d=i.slice(),d[0]=null===d[0]?d[2]:d[0],d[1]=null===i[1]?d[2]:d[1],l=t.min.apply(t,i),s=t.max.apply(t,i),l=n.get("base")===a?0>l?l:0:n.get("base"),this.min=l,this.max=s,this.range=s-l,this.shapes={},this.valueShapes={},this.regiondata={},this.width=o="auto"===n.get("width")?"4.0em":o,this.target=this.$el.simpledraw(o,r,n.get("composite")),i.length||(this.disabled=!0),this.initTarget()},getRegion:function(e,t,i){var n=this.target.getShapeAt(e,t,i);return n!==a&&this.shapes[n]!==a?this.shapes[n]:a},getCurrentRegionFields:function(){var e=this.currentRegion;return{fieldkey:e.substr(0,1),value:this.values[e.substr(1)],region:e}},changeHighlight:function(e){var t,a=this.currentRegion,i=this.valueShapes[a];switch(delete this.shapes[i],a.substr(0,1)){case"r":t=this.renderRange(a.substr(1),e);break;case"p":t=this.renderPerformance(e);break;case"t":t=this.renderTarget(e)}this.valueShapes[a]=t.id,this.shapes[t.id]=a,this.target.replaceWithShape(i,t)},renderRange:function(e,a){var i=this.values[e],n=t.round(this.canvasWidth*((i-this.min)/this.range)),o=this.options.get("rangeColors")[e-2];return a&&(o=this.calcHighlightColor(o,this.options)),this.target.drawRect(0,0,n-1,this.canvasHeight-1,o,o)},renderPerformance:function(e){var a=this.values[1],i=t.round(this.canvasWidth*((a-this.min)/this.range)),n=this.options.get("performanceColor");return e&&(n=this.calcHighlightColor(n,this.options)),this.target.drawRect(0,t.round(.3*this.canvasHeight),i-1,t.round(.4*this.canvasHeight)-1,n,n)},renderTarget:function(e){var a=this.values[0],i=t.round(this.canvasWidth*((a-this.min)/this.range)-this.options.get("targetWidth")/2),n=t.round(.1*this.canvasHeight),o=this.canvasHeight-2*n,r=this.options.get("targetColor");return e&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(i,n,this.options.get("targetWidth")-1,o-1,r,r)},render:function(){var e,t,a=this.values.length,i=this.target;if(D._super.render.call(this)){for(e=2;a>e;e++)t=this.renderRange(e).append(),this.shapes[t.id]="r"+e,this.valueShapes["r"+e]=t.id;null!==this.values[1]&&(t=this.renderPerformance().append(),this.shapes[t.id]="p1",this.valueShapes.p1=t.id),null!==this.values[0]&&(t=this.renderTarget().append(),this.shapes[t.id]="t0",this.valueShapes.t0=t.id),i.render()}}}),i.fn.sparkline.pie=R=o(i.fn.sparkline._base,{type:"pie",init:function(e,a,n,o,r){var l,s=0;if(R._super.init.call(this,e,a,n,o,r),this.shapes={},this.valueShapes={},this.values=a=i.map(a,Number),"auto"===n.get("width")&&(this.width=this.height),a.length>0)for(l=a.length;l--;)s+=a[l];this.total=s,this.initTarget(),this.radius=t.floor(t.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(e,t,i){var n=this.target.getShapeAt(e,t,i);return n!==a&&this.shapes[n]!==a?this.shapes[n]:a},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:this.values[e]===a,value:this.values[e],percent:this.values[e]/this.total*100,color:this.options.get("sliceColors")[e%this.options.get("sliceColors").length],offset:e}},changeHighlight:function(e){var t=this.currentRegion,a=this.renderSlice(t,e),i=this.valueShapes[t];delete this.shapes[i],this.target.replaceWithShape(i,a),this.valueShapes[t]=a.id,this.shapes[a.id]=t},renderSlice:function(e,i){var n,o,r,l,s,d=this.target,c=this.options,u=this.radius,p=c.get("borderWidth"),h=c.get("offset"),m=2*t.PI,g=this.values,f=this.total,v=h?2*t.PI*(h/360):0;for(l=g.length,r=0;l>r;r++){if(n=v,o=v,f>0&&(o=v+m*(g[r]/f)),e===r)return s=c.get("sliceColors")[r%c.get("sliceColors").length],i&&(s=this.calcHighlightColor(s,c)),d.drawPieSlice(u,u,u-p,n,o,a,s);v=o}},render:function(){var e,i,n=this.target,o=this.values,r=this.options,l=this.radius,s=r.get("borderWidth");if(R._super.render.call(this)){for(s&&n.drawCircle(l,l,t.floor(l-s/2),r.get("borderColor"),a,s).append(),i=o.length;i--;)o[i]&&(e=this.renderSlice(i).append(),this.valueShapes[i]=e.id,this.shapes[e.id]=i);n.render()}}}),i.fn.sparkline.box=A=o(i.fn.sparkline._base,{type:"box",init:function(e,t,a,n,o){A._super.init.call(this,e,t,a,n,o),this.values=i.map(t,Number),this.width="auto"===a.get("width")?"4.0em":n,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var e=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==a&&e.push({field:"lo",value:this.loutlier}),this.routlier!==a&&e.push({field:"ro",value:this.routlier}),this.lwhisker!==a&&e.push({field:"lw",value:this.lwhisker}),this.rwhisker!==a&&e.push({field:"rw",value:this.rwhisker}),e},render:function(){var e,i,n,o,r,l,d,c,u,p,h,m=this.target,g=this.values,f=g.length,v=this.options,b=this.canvasWidth,y=this.canvasHeight,k=v.get("chartRangeMin")===a?t.min.apply(t,g):v.get("chartRangeMin"),T=v.get("chartRangeMax")===a?t.max.apply(t,g):v.get("chartRangeMax"),C=0;
if(A._super.render.call(this)){if(v.get("raw"))v.get("showOutliers")&&g.length>5?(i=g[0],e=g[1],o=g[2],r=g[3],l=g[4],d=g[5],c=g[6]):(e=g[0],o=g[1],r=g[2],l=g[3],d=g[4]);else if(g.sort(function(e,t){return e-t}),o=s(g,1),r=s(g,2),l=s(g,3),n=l-o,v.get("showOutliers")){for(e=d=a,u=0;f>u;u++)e===a&&g[u]>o-n*v.get("outlierIQR")&&(e=g[u]),g[u]<l+n*v.get("outlierIQR")&&(d=g[u]);i=g[0],c=g[f-1]}else e=g[0],d=g[f-1];this.quartiles=[o,r,l],this.lwhisker=e,this.rwhisker=d,this.loutlier=i,this.routlier=c,h=b/(T-k+1),v.get("showOutliers")&&(C=t.ceil(v.get("spotRadius")),b-=2*t.ceil(v.get("spotRadius")),h=b/(T-k+1),e>i&&m.drawCircle((i-k)*h+C,y/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append(),c>d&&m.drawCircle((c-k)*h+C,y/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append()),m.drawRect(t.round((o-k)*h+C),t.round(.1*y),t.round((l-o)*h),t.round(.8*y),v.get("boxLineColor"),v.get("boxFillColor")).append(),m.drawLine(t.round((e-k)*h+C),t.round(y/2),t.round((o-k)*h+C),t.round(y/2),v.get("lineColor")).append(),m.drawLine(t.round((e-k)*h+C),t.round(y/4),t.round((e-k)*h+C),t.round(y-y/4),v.get("whiskerColor")).append(),m.drawLine(t.round((d-k)*h+C),t.round(y/2),t.round((l-k)*h+C),t.round(y/2),v.get("lineColor")).append(),m.drawLine(t.round((d-k)*h+C),t.round(y/4),t.round((d-k)*h+C),t.round(y-y/4),v.get("whiskerColor")).append(),m.drawLine(t.round((r-k)*h+C),t.round(.1*y),t.round((r-k)*h+C),t.round(.9*y),v.get("medianColor")).append(),v.get("target")&&(p=t.ceil(v.get("spotRadius")),m.drawLine(t.round((v.get("target")-k)*h+C),t.round(y/2-p),t.round((v.get("target")-k)*h+C),t.round(y/2+p),v.get("targetColor")).append(),m.drawLine(t.round((v.get("target")-k)*h+C-p),t.round(y/2),t.round((v.get("target")-k)*h+C+p),t.round(y/2),v.get("targetColor")).append()),m.render()}}}),L=o({init:function(e,t,a,i){this.target=e,this.id=t,this.type=a,this.args=i},append:function(){return this.target.appendShape(this),this}}),_=o({_pxregex:/(\d+)(px)?\s*$/i,init:function(e,t,a){e&&(this.width=e,this.height=t,this.target=a,this.lastShapeId=null,a[0]&&(a=a[0]),i.data(a,"_jqs_vcanvas",this))},drawLine:function(e,t,a,i,n,o){return this.drawShape([[e,t],[a,i]],n,o)},drawShape:function(e,t,a,i){return this._genShape("Shape",[e,t,a,i])},drawCircle:function(e,t,a,i,n,o){return this._genShape("Circle",[e,t,a,i,n,o])},drawPieSlice:function(e,t,a,i,n,o,r){return this._genShape("PieSlice",[e,t,a,i,n,o,r])},drawRect:function(e,t,a,i,n,o){return this._genShape("Rect",[e,t,a,i,n,o])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(e,t){i(t).html(e)},_calculatePixelDims:function(e,t,a){var n;n=this._pxregex.exec(t),this.pixelHeight=n?n[1]:i(a).height(),n=this._pxregex.exec(e),this.pixelWidth=n?n[1]:i(a).width()},_genShape:function(e,t){var a=z++;return t.unshift(a),new L(this,a,e,t)},appendShape:function(){alert("appendShape not implemented")},replaceWithShape:function(){alert("replaceWithShape not implemented")},insertAfterShape:function(){alert("insertAfterShape not implemented")},removeShapeId:function(){alert("removeShapeId not implemented")},getShapeAt:function(){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),F=o(_,{init:function(t,n,o,r){F._super.init.call(this,t,n,o),this.canvas=e.createElement("canvas"),o[0]&&(o=o[0]),i.data(o,"_jqs_vcanvas",this),i(this.canvas).css({display:"inline-block",width:t,height:n,verticalAlign:"top"}),this._insert(this.canvas,o),this._calculatePixelDims(t,n,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=r,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=a,i(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(e,t,i){var n=this.canvas.getContext("2d");return e!==a&&(n.strokeStyle=e),n.lineWidth=i===a?1:i,t!==a&&(n.fillStyle=t),n},reset:function(){var e=this._getContext();e.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=a},_drawShape:function(e,t,i,n,o){var r,l,s=this._getContext(i,n,o);for(s.beginPath(),s.moveTo(t[0][0]+.5,t[0][1]+.5),r=1,l=t.length;l>r;r++)s.lineTo(t[r][0]+.5,t[r][1]+.5);i!==a&&s.stroke(),n!==a&&s.fill(),this.targetX!==a&&this.targetY!==a&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawCircle:function(e,i,n,o,r,l,s){var d=this._getContext(r,l,s);d.beginPath(),d.arc(i,n,o,0,2*t.PI,!1),this.targetX!==a&&this.targetY!==a&&d.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e),r!==a&&d.stroke(),l!==a&&d.fill()},_drawPieSlice:function(e,t,i,n,o,r,l,s){var d=this._getContext(l,s);d.beginPath(),d.moveTo(t,i),d.arc(t,i,n,o,r,!1),d.lineTo(t,i),d.closePath(),l!==a&&d.stroke(),s&&d.fill(),this.targetX!==a&&this.targetY!==a&&d.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawRect:function(e,t,a,i,n,o,r){return this._drawShape(e,[[t,a],[t+i,a],[t+i,a+n],[t,a+n],[t,a]],o,r)},appendShape:function(e){return this.shapes[e.id]=e,this.shapeseq.push(e.id),this.lastShapeId=e.id,e.id},replaceWithShape:function(e,t){var a,i=this.shapeseq;for(this.shapes[t.id]=t,a=i.length;a--;)i[a]==e&&(i[a]=t.id);delete this.shapes[e]},replaceWithShapes:function(e,t){var a,i,n,o=this.shapeseq,r={};for(i=e.length;i--;)r[e[i]]=!0;for(i=o.length;i--;)a=o[i],r[a]&&(o.splice(i,1),delete this.shapes[a],n=i);for(i=t.length;i--;)o.splice(n,0,t[i].id),this.shapes[t[i].id]=t[i]},insertAfterShape:function(e,t){var a,i=this.shapeseq;for(a=i.length;a--;)if(i[a]===e)return i.splice(a+1,0,t.id),void(this.shapes[t.id]=t)},removeShapeId:function(e){var t,a=this.shapeseq;for(t=a.length;t--;)if(a[t]===e){a.splice(t,1);break}delete this.shapes[e]},getShapeAt:function(e,t,a){return this.targetX=t,this.targetY=a,this.render(),this.currentTargetShapeId},render:function(){var e,t,a,i=this.shapeseq,n=this.shapes,o=i.length,r=this._getContext();for(r.clearRect(0,0,this.pixelWidth,this.pixelHeight),a=0;o>a;a++)e=i[a],t=n[e],this["_draw"+t.type].apply(this,t.args);this.interact||(this.shapes={},this.shapeseq=[])}}),O=o(_,{init:function(t,a,n){var o;O._super.init.call(this,t,a,n),n[0]&&(n=n[0]),i.data(n,"_jqs_vcanvas",this),this.canvas=e.createElement("span"),i(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:t,height:a,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,n),this._calculatePixelDims(t,a,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,o='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",o),this.group=i(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(e,t,i,n,o){var r,l,s,d,c,u,p,h=[];for(p=0,u=t.length;u>p;p++)h[p]=""+t[p][0]+","+t[p][1];return r=h.splice(0,1),o=o===a?1:o,l=i===a?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+i+'" ',s=n===a?' filled="false"':' fillColor="'+n+'" filled="true" ',d=h[0]===h[h.length-1]?"x ":"",c='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+e+'" '+l+s+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+r+" l "+h.join(", ")+" "+d+'e"> </v:shape>'},_drawCircle:function(e,t,i,n,o,r,l){var s,d,c;return t-=n,i-=n,s=o===a?' stroked="false" ':' strokeWeight="'+l+'px" strokeColor="'+o+'" ',d=r===a?' filled="false"':' fillColor="'+r+'" filled="true" ',c='<v:oval  id="jqsshape'+e+'" '+s+d+' style="position:absolute;top:'+i+"px; left:"+t+"px; width:"+2*n+"px; height:"+2*n+'px"></v:oval>'},_drawPieSlice:function(e,i,n,o,r,l,s,d){var c,u,p,h,m,g,f,v;if(r===l)return"";if(l-r===2*t.PI&&(r=0,l=2*t.PI),u=i+t.round(t.cos(r)*o),p=n+t.round(t.sin(r)*o),h=i+t.round(t.cos(l)*o),m=n+t.round(t.sin(l)*o),u===h&&p===m){if(l-r<t.PI)return"";u=h=i+o,p=m=n}return u===h&&p===m&&l-r<t.PI?"":(c=[i-o,n-o,i+o,n+o,u,p,h,m],g=s===a?' stroked="false" ':' strokeWeight="1px" strokeColor="'+s+'" ',f=d===a?' filled="false"':' fillColor="'+d+'" filled="true" ',v='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+e+'" '+g+f+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+i+","+n+" wa "+c.join(", ")+' x e"> </v:shape>')},_drawRect:function(e,t,a,i,n,o,r){return this._drawShape(e,[[t,a],[t,a+n],[t+i,a+n],[t+i,a],[t,a]],o,r)},reset:function(){this.group.innerHTML=""},appendShape:function(e){var t=this["_draw"+e.type].apply(this,e.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",t):this.prerender+=t,this.lastShapeId=e.id,e.id},replaceWithShape:function(e,t){var a=i("#jqsshape"+e),n=this["_draw"+t.type].apply(this,t.args);a[0].outerHTML=n},replaceWithShapes:function(e,t){var a,n=i("#jqsshape"+e[0]),o="",r=t.length;for(a=0;r>a;a++)o+=this["_draw"+t[a].type].apply(this,t[a].args);for(n[0].outerHTML=o,a=1;a<e.length;a++)i("#jqsshape"+e[a]).remove()},insertAfterShape:function(e,t){var a=i("#jqsshape"+e),n=this["_draw"+t.type].apply(this,t.args);a[0].insertAdjacentHTML("afterEnd",n)},removeShapeId:function(e){var t=i("#jqsshape"+e);this.group.removeChild(t[0])},getShapeAt:function(e){var t=e.id.substr(8);return t},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math),/*!
 * Magnific Popup v0.9.9 by Dmitry Semenov
 *
 * http://bit.ly/magnific-popup#build=inline+image+ajax+iframe+gallery+retina+imagezoom+fastclick
 */
function(e){var t,a,i,n,o,r,l,s="Close",d="BeforeClose",c="AfterClose",u="BeforeAppend",p="MarkupParse",h="Open",m="Change",g="mfp",f="."+g,v="mfp-ready",b="mfp-removing",y="mfp-prevent-close",k=function(){},T=!!window.jQuery,C=e(window),w=function(e,a){t.ev.on(g+e+f,a)},E=function(t,a,i,n){var o=document.createElement("div");return o.className="mfp-"+t,i&&(o.innerHTML=i),n?a&&a.appendChild(o):(o=e(o),a&&o.appendTo(a)),o},S=function(a,i){t.ev.triggerHandler(g+a,i),t.st.callbacks&&(a=a.charAt(0).toLowerCase()+a.slice(1),t.st.callbacks[a]&&t.st.callbacks[a].apply(t,e.isArray(i)?i:[i]))},D=function(a){return a===l&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),l=a),t.currTemplate.closeBtn},R=function(){e.magnificPopup.instance||(t=new k,t.init(),e.magnificPopup.instance=t)},A=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};k.prototype={constructor:k,init:function(){var a=navigator.appVersion;t.isIE7=-1!==a.indexOf("MSIE 7."),t.isIE8=-1!==a.indexOf("MSIE 8."),t.isLowIE=t.isIE7||t.isIE8,t.isAndroid=/android/gi.test(a),t.isIOS=/iphone|ipad|ipod/gi.test(a),t.supportsTransition=A(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),n=e(document),t.popupsCache={}},open:function(a){i||(i=e(document.body));var o;if(a.isObj===!1){t.items=a.items.toArray(),t.index=0;var l,s=a.items;for(o=0;o<s.length;o++)if(l=s[o],l.parsed&&(l=l.el[0]),l===a.el[0]){t.index=o;break}}else t.items=e.isArray(a.items)?a.items:[a.items],t.index=a.index||0;if(t.isOpen)return void t.updateItemHTML();t.types=[],r="",t.ev=a.mainEl&&a.mainEl.length?a.mainEl.eq(0):n,a.key?(t.popupsCache[a.key]||(t.popupsCache[a.key]={}),t.currTemplate=t.popupsCache[a.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,a),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=E("bg").on("click"+f,function(){t.close()}),t.wrap=E("wrap").attr("tabindex",-1).on("click"+f,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=E("container",t.wrap)),t.contentContainer=E("content"),t.st.preloader&&(t.preloader=E("preloader",t.container,t.st.tLoading));var d=e.magnificPopup.modules;for(o=0;o<d.length;o++){var c=d[o];c=c.charAt(0).toUpperCase()+c.slice(1),t["init"+c].call(t)}S("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(w(p,function(e,t,a,i){a.close_replaceWith=D(i.type)}),r+=" mfp-close-btn-in"):t.wrap.append(D())),t.st.alignTop&&(r+=" mfp-align-top"),t.wrap.css(t.fixedContentPos?{overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}:{top:C.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:n.height(),position:"absolute"}),t.st.enableEscapeKey&&n.on("keyup"+f,function(e){27===e.keyCode&&t.close()}),C.on("resize"+f,function(){t.updateSize()}),t.st.closeOnContentClick||(r+=" mfp-auto-cursor"),r&&t.wrap.addClass(r);var u=t.wH=C.height(),m={};if(t.fixedContentPos&&t._hasScrollBar(u)){var g=t._getScrollbarSize();g&&(m.marginRight=g)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):m.overflow="hidden");var b=t.st.mainClass;return t.isIE7&&(b+=" mfp-ie7"),b&&t._addClassToMFP(b),t.updateItemHTML(),S("BuildControls"),e("html").css(m),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||i),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(v),t._setFocus()):t.bgOverlay.addClass(v),n.on("focusin"+f,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(u),S(h),a},close:function(){t.isOpen&&(S(d),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(b),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){S(s);var a=b+" "+v+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(a+=t.st.mainClass+" "),t._removeClassFromMFP(a),t.fixedContentPos){var i={marginRight:""};t.isIE7?e("body, html").css("overflow",""):i.overflow="",e("html").css(i)}n.off("keyup"+f+" focusin"+f),t.ev.off(f),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),t.st.showCloseBtn&&(!t.st.closeBtnInside||t.currTemplate[t.currItem.type]===!0)&&t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,S(c)},updateSize:function(e){if(t.isIOS){var a=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*a;t.wrap.css("height",i),t.wH=i}else t.wH=e||C.height();t.fixedContentPos||t.wrap.css("height",t.wH),S("Resize")},updateItemHTML:function(){var a=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),a.parsed||(a=t.parseEl(t.index));var i=a.type;if(S("BeforeChange",[t.currItem?t.currItem.type:"",i]),t.currItem=a,!t.currTemplate[i]){var n=t.st[i]?t.st[i].markup:!1;S("FirstMarkupParse",n),t.currTemplate[i]=n?e(n):!0}o&&o!==a.type&&t.container.removeClass("mfp-"+o+"-holder");var r=t["get"+i.charAt(0).toUpperCase()+i.slice(1)](a,t.currTemplate[i]);t.appendContent(r,i),a.preloaded=!0,S(m,a),o=a.type,t.container.prepend(t.contentContainer),S("AfterChange")},appendContent:function(e,a){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[a]===!0?t.content.find(".mfp-close").length||t.content.append(D()):t.content=e:t.content="",S(u),t.container.addClass("mfp-"+a+"-holder"),t.contentContainer.append(t.content)},parseEl:function(a){var i,n=t.items[a];if(n.tagName?n={el:e(n)}:(i=n.type,n={data:n,src:n.src}),n.el){for(var o=t.types,r=0;r<o.length;r++)if(n.el.hasClass("mfp-"+o[r])){i=o[r];break}n.src=n.el.attr("data-mfp-src"),n.src||(n.src=n.el.attr("href"))}return n.type=i||t.st.type||"inline",n.index=a,n.parsed=!0,t.items[a]=n,S("ElementParse",n),t.items[a]},addGroup:function(e,a){var i=function(i){i.mfpEl=this,t._openClick(i,e,a)};a||(a={});var n="click.magnificPopup";a.mainEl=e,a.items?(a.isObj=!0,e.off(n).on(n,i)):(a.isObj=!1,a.delegate?e.off(n).on(n,a.delegate,i):(a.items=e,e.off(n).on(n,i)))},_openClick:function(a,i,n){var o=void 0!==n.midClick?n.midClick:e.magnificPopup.defaults.midClick;if(o||2!==a.which&&!a.ctrlKey&&!a.metaKey){var r=void 0!==n.disableOn?n.disableOn:e.magnificPopup.defaults.disableOn;if(r)if(e.isFunction(r)){if(!r.call(t))return!0}else if(C.width()<r)return!0;a.type&&(a.preventDefault(),t.isOpen&&a.stopPropagation()),n.el=e(a.mfpEl),n.delegate&&(n.items=i.find(n.delegate)),t.open(n)}},updateStatus:function(e,i){if(t.preloader){a!==e&&t.container.removeClass("mfp-s-"+a),!i&&"loading"===e&&(i=t.st.tLoading);var n={status:e,text:i};S("UpdateStatus",n),e=n.status,i=n.text,t.preloader.html(i),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),a=e}},_checkIfClose:function(a){if(!e(a).hasClass(y)){var i=t.st.closeOnContentClick,n=t.st.closeOnBgClick;if(i&&n)return!0;if(!t.content||e(a).hasClass("mfp-close")||t.preloader&&a===t.preloader[0])return!0;if(a===t.content[0]||e.contains(t.content[0],a)){if(i)return!0}else if(n&&e.contains(document,a))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?n.height():document.body.scrollHeight)>(e||C.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(a){return a.target===t.wrap[0]||e.contains(t.wrap[0],a.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,a,i){var n;i.data&&(a=e.extend(i.data,a)),S(p,[t,a,i]),e.each(a,function(e,a){if(void 0===a||a===!1)return!0;if(n=e.split("_"),n.length>1){var i=t.find(f+"-"+n[0]);if(i.length>0){var o=n[1];"replaceWith"===o?i[0]!==a[0]&&i.replaceWith(a):"img"===o?i.is("img")?i.attr("src",a):i.replaceWith('<img src="'+a+'" class="'+i.attr("class")+'" />'):i.attr(n[1],a)}}else t.find(f+"-"+e).html(a)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.id="mfp-sbm",e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:k.prototype,modules:[],open:function(t,a){return R(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=a||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,a){a.options&&(e.magnificPopup.defaults[t]=a.options),e.extend(this.proto,a.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},e.fn.magnificPopup=function(a){R();var i=e(this);if("string"==typeof a)if("open"===a){var n,o=T?i.data("magnificPopup"):i[0].magnificPopup,r=parseInt(arguments[1],10)||0;o.items?n=o.items[r]:(n=i,o.delegate&&(n=n.find(o.delegate)),n=n.eq(r)),t._openClick({mfpEl:n},i,o)}else t.isOpen&&t[a].apply(t,Array.prototype.slice.call(arguments,1));else a=e.extend(!0,{},a),T?i.data("magnificPopup",a):i[0].magnificPopup=a,t.addGroup(i,a);return i};var I,x,L,_="inline",F=function(){L&&(x.after(L.addClass(I)).detach(),L=null)};e.magnificPopup.registerModule(_,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(_),w(s+"."+_,function(){F()})},getInline:function(a,i){if(F(),a.src){var n=t.st.inline,o=e(a.src);if(o.length){var r=o[0].parentNode;r&&r.tagName&&(x||(I=n.hiddenClass,x=E(I),I="mfp-"+I),L=o.after(x).detach().removeClass(I)),t.updateStatus("ready")}else t.updateStatus("error",n.tNotFound),o=e("<div>");return a.inlineElement=o,o}return t.updateStatus("ready"),t._parseMarkup(i,{},a),i}}});var O,N="ajax",P=function(){O&&i.removeClass(O)},z=function(){P(),t.req&&t.req.abort()};e.magnificPopup.registerModule(N,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(N),O=t.st.ajax.cursor,w(s+"."+N,z),w("BeforeChange."+N,z)},getAjax:function(a){O&&i.addClass(O),t.updateStatus("loading");var n=e.extend({url:a.src,success:function(i,n,o){var r={data:i,xhr:o};S("ParseAjax",r),t.appendContent(e(r.data),N),a.finished=!0,P(),t._setFocus(),setTimeout(function(){t.wrap.addClass(v)},16),t.updateStatus("ready"),S("AjaxContentAdded")},error:function(){P(),a.finished=a.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",a.src))}},t.st.ajax.settings);return t.req=e.ajax(n),""}}});var B,M=function(a){if(a.data&&void 0!==a.data.title)return a.data.title;var i=t.st.image.titleSrc;if(i){if(e.isFunction(i))return i.call(t,a);if(a.el)return a.el.attr(i)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=t.st.image,a=".image";t.types.push("image"),w(h+a,function(){"image"===t.currItem.type&&e.cursor&&i.addClass(e.cursor)}),w(s+a,function(){e.cursor&&i.removeClass(e.cursor),C.off("resize"+f)}),w("Resize"+a,t.resizeImage),t.isLowIE&&w("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var a=0;t.isLowIE&&(a=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-a)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,B&&clearInterval(B),e.isCheckingImgSize=!1,S("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var a=0,i=e.img[0],n=function(o){B&&clearInterval(B),B=setInterval(function(){return i.naturalWidth>0?void t._onImageHasSize(e):(a>200&&clearInterval(B),a++,3===a?n(10):40===a?n(50):100===a&&n(500),void 0)},o)};n(1)},getImage:function(a,i){var n=0,o=function(){a&&(a.img[0].complete?(a.img.off(".mfploader"),a===t.currItem&&(t._onImageHasSize(a),t.updateStatus("ready")),a.hasSize=!0,a.loaded=!0,S("ImageLoadComplete")):(n++,200>n?setTimeout(o,100):r()))},r=function(){a&&(a.img.off(".mfploader"),a===t.currItem&&(t._onImageHasSize(a),t.updateStatus("error",l.tError.replace("%url%",a.src))),a.hasSize=!0,a.loaded=!0,a.loadError=!0)},l=t.st.image,s=i.find(".mfp-img");if(s.length){var d=document.createElement("img");d.className="mfp-img",a.img=e(d).on("load.mfploader",o).on("error.mfploader",r),d.src=a.src,s.is("img")&&(a.img=a.img.clone()),d=a.img[0],d.naturalWidth>0?a.hasSize=!0:d.width||(a.hasSize=!1)}return t._parseMarkup(i,{title:M(a),img_replaceWith:a.img},a),t.resizeImage(),a.hasSize?(B&&clearInterval(B),a.loadError?(i.addClass("mfp-loading"),t.updateStatus("error",l.tError.replace("%url%",a.src))):(i.removeClass("mfp-loading"),t.updateStatus("ready")),i):(t.updateStatus("loading"),a.loading=!0,a.hasSize||(a.imgHidden=!0,i.addClass("mfp-loading"),t.findImageSize(a)),i)}}});var K,j=function(){return void 0===K&&(K=void 0!==document.createElement("p").style.MozTransform),K};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,a=t.st.zoom,i=".zoom";if(a.enabled&&t.supportsTransition){var n,o,r=a.duration,l=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+a.duration/1e3+"s "+a.easing,n={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return n["-webkit-"+o]=n["-moz-"+o]=n["-o-"+o]=n[o]=i,t.css(n),t},c=function(){t.content.css("visibility","visible")};w("BuildControls"+i,function(){if(t._allowZoom()){if(clearTimeout(n),t.content.css("visibility","hidden"),e=t._getItemToZoom(),!e)return void c();o=l(e),o.css(t._getOffset()),t.wrap.append(o),n=setTimeout(function(){o.css(t._getOffset(!0)),n=setTimeout(function(){c(),setTimeout(function(){o.remove(),e=o=null,S("ZoomAnimationEnded")},16)},r)},16)}}),w(d+i,function(){if(t._allowZoom()){if(clearTimeout(n),t.st.removalDelay=r,!e){if(e=t._getItemToZoom(),!e)return;o=l(e)}o.css(t._getOffset(!0)),t.wrap.append(o),t.content.css("visibility","hidden"),setTimeout(function(){o.css(t._getOffset())},16)}}),w(s+i,function(){t._allowZoom()&&(c(),o&&o.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return t.currItem.hasSize?t.currItem.img:!1},_getOffset:function(a){var i;i=a?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var n=i.offset(),o=parseInt(i.css("padding-top"),10),r=parseInt(i.css("padding-bottom"),10);n.top-=e(window).scrollTop()-o;var l={width:i.width(),height:(T?i.innerHeight():i[0].offsetHeight)-r-o};return j()?l["-moz-transform"]=l.transform="translate("+n.left+"px,"+n.top+"px)":(l.left=n.left,l.top=n.top),l}}});var H="iframe",W="//about:blank",V=function(e){if(t.currTemplate[H]){var a=t.currTemplate[H].find("iframe");a.length&&(e||(a[0].src=W),t.isIE8&&a.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(H,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(H),w("BeforeChange",function(e,t,a){t!==a&&(t===H?V():a===H&&V(!0))}),w(s+"."+H,function(){V()})},getIframe:function(a,i){var n=a.src,o=t.st.iframe;e.each(o.patterns,function(){return n.indexOf(this.index)>-1?(this.id&&(n="string"==typeof this.id?n.substr(n.lastIndexOf(this.id)+this.id.length,n.length):this.id.call(this,n)),n=this.src.replace("%id%",n),!1):void 0});var r={};return o.srcAction&&(r[o.srcAction]=n),t._parseMarkup(i,r,a),t.updateStatus("ready"),i}}});var U=function(e){var a=t.items.length;return e>a-1?e-a:0>e?a+e:e},q=function(e,t,a){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,a)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var a=t.st.gallery,i=".mfp-gallery",o=Boolean(e.fn.mfpFastClick);return t.direction=!0,a&&a.enabled?(r+=" mfp-gallery",w(h+i,function(){a.navigateByImgClick&&t.wrap.on("click"+i,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),n.on("keydown"+i,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),w("UpdateStatus"+i,function(e,a){a.text&&(a.text=q(a.text,t.currItem.index,t.items.length))}),w(p+i,function(e,i,n,o){var r=t.items.length;n.counter=r>1?q(a.tCounter,o.index,r):""}),w("BuildControls"+i,function(){if(t.items.length>1&&a.arrows&&!t.arrowLeft){var i=a.arrowMarkup,n=t.arrowLeft=e(i.replace(/%title%/gi,a.tPrev).replace(/%dir%/gi,"left")).addClass(y),r=t.arrowRight=e(i.replace(/%title%/gi,a.tNext).replace(/%dir%/gi,"right")).addClass(y),l=o?"mfpFastClick":"click";n[l](function(){t.prev()}),r[l](function(){t.next()}),t.isIE7&&(E("b",n[0],!1,!0),E("a",n[0],!1,!0),E("b",r[0],!1,!0),E("a",r[0],!1,!0)),t.container.append(n.add(r))}}),w(m+i,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),w(s+i,function(){n.off(i),t.wrap.off("click"+i),t.arrowLeft&&o&&t.arrowLeft.add(t.arrowRight).destroyMfpFastClick(),t.arrowRight=t.arrowLeft=null}),void 0):!1},next:function(){t.direction=!0,t.index=U(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=U(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,a=t.st.gallery.preload,i=Math.min(a[0],t.items.length),n=Math.min(a[1],t.items.length);for(e=1;e<=(t.direction?n:i);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?i:n);e++)t._preloadItem(t.index-e)},_preloadItem:function(a){if(a=U(a),!t.items[a].preloaded){var i=t.items[a];i.parsed||(i=t.parseEl(a)),S("LazyLoad",i),"image"===i.type&&(i.img=e('<img class="mfp-img" />').on("load.mfploader",function(){i.hasSize=!0}).on("error.mfploader",function(){i.hasSize=!0,i.loadError=!0,S("LazyLoadError",i)}).attr("src",i.src)),i.preloaded=!0}}}});var $="retina";e.magnificPopup.registerModule($,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,a=e.ratio;a=isNaN(a)?a():a,a>1&&(w("ImageHasSize."+$,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/a,width:"100%"})}),w("ElementParse."+$,function(t,i){i.src=e.replaceSrc(i,a)}))}}}}),function(){var t=1e3,a="ontouchstart"in window,i=function(){C.off("touchmove"+o+" touchend"+o)},n="mfpFastClick",o="."+n;e.fn.mfpFastClick=function(n){return e(this).each(function(){var r,l=e(this);if(a){var s,d,c,u,p,h;l.on("touchstart"+o,function(e){u=!1,h=1,p=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],d=p.clientX,c=p.clientY,C.on("touchmove"+o,function(e){p=e.originalEvent?e.originalEvent.touches:e.touches,h=p.length,p=p[0],(Math.abs(p.clientX-d)>10||Math.abs(p.clientY-c)>10)&&(u=!0,i())}).on("touchend"+o,function(e){i(),u||h>1||(r=!0,e.preventDefault(),clearTimeout(s),s=setTimeout(function(){r=!1},t),n())})})}l.on("click"+o,function(){r||n()})})},e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+o+" click"+o),a&&C.off("touchmove"+o+" touchend"+o)}}(),R()}(window.jQuery||window.Zepto),/*!
 * slimScroll
 * Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 1.3.0
 *
 */
function(e){jQuery.fn.extend({slimScroll:function(a){var i=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},a);return this.each(function(){function n(t){if(c){t=t||window.event;var a=0;t.wheelDelta&&(a=-t.wheelDelta/120),t.detail&&(a=t.detail/3),e(t.target||t.srcTarget||t.srcElement).closest("."+i.wrapperClass).is(k.parent())&&o(a,!0),t.preventDefault&&!y&&t.preventDefault(),y||(t.returnValue=!1)}}function o(e,t,a){y=!1;var n=e,o=k.outerHeight()-C.outerHeight();t&&(n=parseInt(C.css("top"))+e*parseInt(i.wheelStep)/100*C.outerHeight(),n=Math.min(Math.max(n,0),o),n=e>0?Math.ceil(n):Math.floor(n),C.css({top:n+"px"})),f=parseInt(C.css("top"))/(k.outerHeight()-C.outerHeight()),n=f*(k[0].scrollHeight-k.outerHeight()),a&&(n=e,e=n/k[0].scrollHeight*k.outerHeight(),e=Math.min(Math.max(e,0),o),C.css({top:e+"px"})),k.scrollTop(n),k.trigger("slimscrolling",~~n),s(),d()}function r(){window.addEventListener?(this.addEventListener("DOMMouseScroll",n,!1),this.addEventListener("mousewheel",n,!1),this.addEventListener("MozMousePixelScroll",n,!1)):document.attachEvent("onmousewheel",n)}function l(){g=Math.max(k.outerHeight()/k[0].scrollHeight*k.outerHeight(),b),C.css({height:g+"px"});var e=g==k.outerHeight()?"none":"block";C.css({display:e})}function s(){l(),clearTimeout(h),f==~~f?(y=i.allowPageScroll,v!=f&&k.trigger("slimscroll",0==~~f?"top":"bottom")):y=!1,v=f,g>=k.outerHeight()?y=!0:(C.stop(!0,!0).fadeIn("fast"),i.railVisible&&w.stop(!0,!0).fadeIn("fast"))}function d(){i.alwaysVisible||(h=setTimeout(function(){i.disableFadeOut&&c||u||p||(C.fadeOut("slow"),w.fadeOut("slow"))},1e3))}var c,u,p,h,m,g,f,v,b=30,y=!1,k=e(this);if(k.parent().hasClass(i.wrapperClass)){var T=k.scrollTop(),C=k.parent().find("."+i.barClass),w=k.parent().find("."+i.railClass);if(l(),e.isPlainObject(a)){if("height"in a&&"auto"==a.height){k.parent().css("height","auto"),k.css("height","auto");var E=k.parent().parent().height();k.parent().css("height",E),k.css("height",E)}if("scrollTo"in a)T=parseInt(i.scrollTo);else if("scrollBy"in a)T+=parseInt(i.scrollBy);else if("destroy"in a)return C.remove(),w.remove(),void k.unwrap();o(T,!1,!0)}}else{i.height="auto"==i.height?k.parent().height():i.height,T=e("<div></div>").addClass(i.wrapperClass).css({position:"relative",overflow:"hidden",width:i.width,height:i.height}),k.css({overflow:"hidden",width:i.width,height:i.height});var w=e("<div></div>").addClass(i.railClass).css({width:i.size,height:"100%",position:"absolute",top:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.railBorderRadius,background:i.railColor,opacity:i.railOpacity,zIndex:90}),C=e("<div></div>").addClass(i.barClass).css({background:i.color,width:i.size,position:"absolute",top:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.borderRadius,BorderRadius:i.borderRadius,MozBorderRadius:i.borderRadius,WebkitBorderRadius:i.borderRadius,zIndex:99}),E="right"==i.position?{right:i.distance}:{left:i.distance};w.css(E),C.css(E),k.wrap(T),k.parent().append(C),k.parent().append(w),i.railDraggable&&C.bind("mousedown",function(a){var i=e(document);return p=!0,t=parseFloat(C.css("top")),pageY=a.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,C.css("top",currTop),o(0,C.position().top,!1)}),i.bind("mouseup.slimscroll",function(){p=!1,d(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),w.hover(function(){s()},function(){d()}),C.hover(function(){u=!0},function(){u=!1}),k.hover(function(){c=!0,s(),d()},function(){c=!1,d()}),k.bind("touchstart",function(e){e.originalEvent.touches.length&&(m=e.originalEvent.touches[0].pageY)}),k.bind("touchmove",function(e){y||e.originalEvent.preventDefault(),e.originalEvent.touches.length&&(o((m-e.originalEvent.touches[0].pageY)/i.touchScrollStep,!0),m=e.originalEvent.touches[0].pageY)}),l(),"bottom"===i.start?(C.css({top:k.outerHeight()-C.outerHeight()}),o(0,!0)):"top"!==i.start&&(o(e(i.start).position().top,null,!0),i.alwaysVisible||C.hide()),r()}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery),/*! http://mths.be/placeholder v2.0.7 by @mathias */
!function(e,t,a){function i(e){var t={},i=/^jQuery\d+$/;return a.each(e.attributes,function(e,a){a.specified&&!i.test(a.name)&&(t[a.name]=a.value)}),t}function n(e,t){var i=this,n=a(i);if(i.value==n.attr("placeholder")&&n.hasClass("placeholder"))if(n.data("placeholder-password")){if(n=n.hide().next().show().attr("id",n.removeAttr("id").data("placeholder-id")),e===!0)return n[0].value=t;n.focus()}else i.value="",n.removeClass("placeholder"),i==r()&&i.select()}function o(){var e,t=this,o=a(t),r=this.id;if(""==t.value){if("password"==t.type){if(!o.data("placeholder-textinput")){try{e=o.clone().attr({type:"text"})}catch(l){e=a("<input>").attr(a.extend(i(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":o,"placeholder-id":r}).bind("focus.placeholder",n),o.data({"placeholder-textinput":e,"placeholder-id":r}).before(e)}o=o.removeAttr("id").hide().prev().attr("id",r).show()}o.addClass("placeholder"),o[0].value=o.attr("placeholder")}else o.removeClass("placeholder")}function r(){try{return t.activeElement}catch(e){}}var l,s,d="placeholder"in t.createElement("input"),c="placeholder"in t.createElement("textarea"),u=a.fn,p=a.valHooks,h=a.propHooks;d&&c?(s=u.placeholder=function(){return this},s.input=s.textarea=!0):(s=u.placeholder=function(){var e=this;return e.filter((d?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":n,"blur.placeholder":o}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},s.input=d,s.textarea=c,l={get:function(e){var t=a(e),i=t.data("placeholder-password");return i?i[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var i=a(e),l=i.data("placeholder-password");return l?l[0].value=t:i.data("placeholder-enabled")?(""==t?(e.value=t,e!=r()&&o.call(e)):i.hasClass("placeholder")?n.call(e,!0,t)||(e.value=t):e.value=t,i):e.value=t}},d||(p.input=l,h.value=l),c||(p.textarea=l,h.value=l),a(function(){a(t).delegate("form","submit.placeholder",function(){var e=a(".placeholder",this).each(n);setTimeout(function(){e.each(o)},10)})}),a(e).bind("beforeunload.placeholder",function(){a(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),/*
 * Masked Input plugin for jQuery
 * Copyright (c) 2007-2013 Josh Bush (digitalbush.com)
 * Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license)
 * Version: 1.3.1
*/
function(e){function t(){var e=document.createElement("input"),t="onpaste";return e.setAttribute(t,""),"function"==typeof e[t]?"paste":"input"}var a,i=t()+".mask",n=navigator.userAgent,o=/iphone/i.test(n),r=/android/i.test(n);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var a;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(a=this.createTextRange(),a.collapse(!0),a.moveEnd("character",t),a.moveStart("character",e),a.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),e=0-a.duplicate().moveStart("character",-1e5),t=e+a.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,n){var l,s,d,c,u,p;return!t&&this.length>0?(l=e(this[0]),l.data(e.mask.dataName)()):(n=e.extend({placeholder:e.mask.placeholder,completed:null},n),s=e.mask.definitions,d=[],c=p=t.length,u=null,e.each(t.split(""),function(e,t){"?"==t?(p--,c=e):s[t]?(d.push(RegExp(s[t])),null===u&&(u=d.length-1)):d.push(null)}),this.trigger("unmask").each(function(){function l(e){for(;p>++e&&!d[e];);return e}function h(e){for(;--e>=0&&!d[e];);return e}function m(e,t){var a,i;if(!(0>e)){for(a=e,i=l(t);p>a;a++)if(d[a]){if(!(p>i&&d[a].test(C[i])))break;C[a]=C[i],C[i]=n.placeholder,i=l(i)}y(),T.caret(Math.max(u,e))}}function g(e){var t,a,i,o;for(t=e,a=n.placeholder;p>t;t++)if(d[t]){if(i=l(t),o=C[t],C[t]=a,!(p>i&&d[i].test(o)))break;a=o}}function f(e){var t,a,i,n=e.which;8===n||46===n||o&&127===n?(t=T.caret(),a=t.begin,i=t.end,0===i-a&&(a=46!==n?h(a):i=l(a-1),i=46===n?l(i):i),b(a,i),m(a,i-1),e.preventDefault()):27==n&&(T.val(w),T.caret(0,k()),e.preventDefault())}function v(t){var a,i,o,s=t.which,c=T.caret();t.ctrlKey||t.altKey||t.metaKey||32>s||s&&(0!==c.end-c.begin&&(b(c.begin,c.end),m(c.begin,c.end-1)),a=l(c.begin-1),p>a&&(i=String.fromCharCode(s),d[a].test(i)&&(g(a),C[a]=i,y(),o=l(a),r?setTimeout(e.proxy(e.fn.caret,T,o),0):T.caret(o),n.completed&&o>=p&&n.completed.call(T))),t.preventDefault())}function b(e,t){var a;for(a=e;t>a&&p>a;a++)d[a]&&(C[a]=n.placeholder)}function y(){T.val(C.join(""))}function k(e){var t,a,i=T.val(),o=-1;for(t=0,pos=0;p>t;t++)if(d[t]){for(C[t]=n.placeholder;pos++<i.length;)if(a=i.charAt(pos-1),d[t].test(a)){C[t]=a,o=t;break}if(pos>i.length)break}else C[t]===i.charAt(pos)&&t!==c&&(pos++,o=t);return e?y():c>o+1?(T.val(""),b(0,p)):(y(),T.val(T.val().substring(0,o+1))),c?t:u}var T=e(this),C=e.map(t.split(""),function(e){return"?"!=e?s[e]?n.placeholder:e:void 0}),w=T.val();T.data(e.mask.dataName,function(){return e.map(C,function(e,t){return d[t]&&e!=n.placeholder?e:null}).join("")}),T.attr("readonly")||T.one("unmask",function(){T.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){clearTimeout(a);var e;w=T.val(),e=k(),a=setTimeout(function(){y(),e==t.length?T.caret(0,e):T.caret(e)},10)}).bind("blur.mask",function(){k(),T.val()!=w&&T.change()}).bind("keydown.mask",f).bind("keypress.mask",v).bind(i,function(){setTimeout(function(){var e=k(!0);T.caret(e),n.completed&&e==T.val().length&&n.completed.call(T)},0)}),k()}))}})}(jQuery),/* =========================================================
 * bootstrap-slider.js v2.0.0
 * http://www.eyecon.ro/bootstrap-slider
 * =========================================================
 * Copyright 2012 Stefan Petre
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
!function(e){var t=function(t,a){this.element=e(t),this.picker=e('<div class="slider"><div class="slider-track"><div class="slider-selection"></div><div class="slider-handle"></div><div class="slider-handle"></div></div><div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div></div>').insertBefore(this.element).append(this.element),this.id=this.element.data("slider-id")||a.id,this.id&&(this.picker[0].id=this.id),"undefined"!=typeof Modernizr&&Modernizr.touch&&(this.touchCapable=!0);var i=this.element.data("slider-tooltip")||a.tooltip;switch(this.tooltip=this.picker.find(".tooltip"),this.tooltipInner=this.tooltip.find("div.tooltip-inner"),this.orientation=this.element.data("slider-orientation")||a.orientation,this.orientation){case"vertical":this.picker.addClass("slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight",this.tooltip.addClass("right")[0].style.left="100%";break;default:this.picker.addClass("slider-horizontal").css("width",this.element.outerWidth()),this.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth",this.tooltip.addClass("top")[0].style.top=-this.tooltip.outerHeight()-14+"px"}this.min=this.element.data("slider-min")||a.min,this.max=this.element.data("slider-max")||a.max,this.step=this.element.data("slider-step")||a.step,this.value=this.element.data("slider-value")||a.value,this.value[1]&&(this.range=!0),this.selection=this.element.data("slider-selection")||a.selection,this.selectionEl=this.picker.find(".slider-selection"),"none"===this.selection&&this.selectionEl.addClass("hide"),this.selectionElStyle=this.selectionEl[0].style,this.handle1=this.picker.find(".slider-handle:first"),this.handle1Stype=this.handle1[0].style,this.handle2=this.picker.find(".slider-handle:last"),this.handle2Stype=this.handle2[0].style;var n=this.element.data("slider-handle")||a.handle;switch(n){case"round":this.handle1.addClass("round"),this.handle2.addClass("round");break;case"triangle":this.handle1.addClass("triangle"),this.handle2.addClass("triangle")}this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]="after"==this.selection?this.max:this.min),this.diff=this.max-this.min,this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff],this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos],this.formater=a.formater,this.layout(),this.picker.on(this.touchCapable?{touchstart:e.proxy(this.mousedown,this)}:{mousedown:e.proxy(this.mousedown,this)}),"show"===i?this.picker.on({mouseenter:e.proxy(this.showTooltip,this),mouseleave:e.proxy(this.hideTooltip,this)}):this.tooltip.addClass("hide")};t.prototype={constructor:t,over:!1,inDrag:!1,showTooltip:function(){this.tooltip.addClass("in"),this.over=!0},hideTooltip:function(){this.inDrag===!1&&this.tooltip.removeClass("in"),this.over=!1},layout:function(){this.handle1Stype[this.stylePos]=this.percentage[0]+"%",this.handle2Stype[this.stylePos]=this.percentage[1]+"%","vertical"==this.orientation?(this.selectionElStyle.top=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.height=Math.abs(this.percentage[0]-this.percentage[1])+"%"):(this.selectionElStyle.left=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.width=Math.abs(this.percentage[0]-this.percentage[1])+"%"),this.range?(this.tooltipInner.text(this.formater(this.value[0])+" : "+this.formater(this.value[1])),this.tooltip[0].style[this.stylePos]=this.size*(this.percentage[0]+(this.percentage[1]-this.percentage[0])/2)/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px"):(this.tooltipInner.text(this.formater(this.value[0])),this.tooltip[0].style[this.stylePos]=this.size*this.percentage[0]/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px")},mousedown:function(t){this.touchCapable&&"touchstart"===t.type&&(t=t.originalEvent),this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos];var a=this.getPercentage(t);if(this.range){var i=Math.abs(this.percentage[0]-a),n=Math.abs(this.percentage[1]-a);this.dragged=n>i?0:1}else this.dragged=0;this.percentage[this.dragged]=a,this.layout(),e(document).on(this.touchCapable?{touchmove:e.proxy(this.mousemove,this),touchend:e.proxy(this.mouseup,this)}:{mousemove:e.proxy(this.mousemove,this),mouseup:e.proxy(this.mouseup,this)}),this.inDrag=!0;var o=this.calculateValue();return this.element.trigger({type:"slideStart",value:o}).trigger({type:"slide",value:o}),!1},mousemove:function(e){this.touchCapable&&"touchmove"===e.type&&(e=e.originalEvent);var t=this.getPercentage(e);this.range&&(0===this.dragged&&this.percentage[1]<t?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>t&&(this.percentage[1]=this.percentage[0],this.dragged=0)),this.percentage[this.dragged]=t,this.layout();var a=this.calculateValue();return this.element.trigger({type:"slide",value:a}).data("value",a).prop("value",a),!1},mouseup:function(){e(document).off(this.touchCapable?{touchmove:this.mousemove,touchend:this.mouseup}:{mousemove:this.mousemove,mouseup:this.mouseup}),this.inDrag=!1,0==this.over&&this.hideTooltip(),this.element;var t=this.calculateValue();return this.element.trigger({type:"slideStop",value:t}).data("value",t).prop("value",t),!1},calculateValue:function(){var e;return this.range?(e=[this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.min+Math.round(this.diff*this.percentage[1]/100/this.step)*this.step],this.value=e):(e=this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.value=[e,this.value[1]]),e},getPercentage:function(e){this.touchCapable&&(e=e.touches[0]);var t=100*(e[this.mousePos]-this.offset[this.stylePos])/this.size;return t=Math.round(t/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,t))},getValue:function(){return this.range?this.value:this.value[0]},setValue:function(e){this.value=e,this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]="after"==this.selection?this.max:this.min),this.diff=this.max-this.min,this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff],this.layout()}},e.fn.slider=function(a,i){return this.each(function(){var n=e(this),o=n.data("slider"),r="object"==typeof a&&a;o||n.data("slider",o=new t(this,e.extend({},e.fn.slider.defaults,r))),"string"==typeof a&&o[a](i)})},e.fn.slider.defaults={min:0,max:10,step:1,orientation:"horizontal",value:5,selection:"before",tooltip:"show",handle:"round",formater:function(e){return e}},e.fn.slider.Constructor=t}(window.jQuery),/*!
 * Prism: Lightweight, robust, elegant syntax highlighting
 * MIT license http://www.opensource.org/licenses/mit-license.php/
 * @author Lea Verou http://lea.verou.me
 */
function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=self.Prism={util:{type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){var a=t.util.type(e);switch(a){case"Object":var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=t.util.clone(e[n]));return i;case"Array":return e.slice()}return e}},languages:{extend:function(e,a){var i=t.util.clone(t.languages[e]);for(var n in a)i[n]=a[n];return i},insertBefore:function(e,a,i,n){n=n||t.languages;var o=n[e],r={};for(var l in o)if(o.hasOwnProperty(l)){if(l==a)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s]);r[l]=o[l]}return n[e]=r},DFS:function(e,a){for(var i in e)a.call(e,i,e[i]),"Object"===t.util.type(e)&&t.languages.DFS(e[i],a)}},highlightAll:function(e,a){for(var i,n=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),o=0;i=n[o++];)t.highlightElement(i,e===!0,a)},highlightElement:function(i,n,o){for(var r,l,s=i;s&&!e.test(s.className);)s=s.parentNode;if(s&&(r=(s.className.match(e)||[,""])[1],l=t.languages[r]),l){i.className=i.className.replace(e,"").replace(/\s+/g," ")+" language-"+r,s=i.parentNode,/pre/i.test(s.nodeName)&&(s.className=s.className.replace(e,"").replace(/\s+/g," ")+" language-"+r);var d=i.textContent;if(d){d=d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ");var c={element:i,language:r,grammar:l,code:d};if(t.hooks.run("before-highlight",c),n&&self.Worker){var u=new Worker(t.filename);u.onmessage=function(e){c.highlightedCode=a.stringify(JSON.parse(e.data),r),t.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,o&&o.call(c.element),t.hooks.run("after-highlight",c)},u.postMessage(JSON.stringify({language:c.language,code:c.code}))}else c.highlightedCode=t.highlight(c.code,c.grammar,c.language),t.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,o&&o.call(i),t.hooks.run("after-highlight",c)}}},highlight:function(e,i,n){return a.stringify(t.tokenize(e,i),n)},tokenize:function(e,a){var i=t.Token,n=[e],o=a.rest;if(o){for(var r in o)a[r]=o[r];delete a.rest}e:for(var r in a)if(a.hasOwnProperty(r)&&a[r]){var l=a[r],s=l.inside,d=!!l.lookbehind,c=0;l=l.pattern||l;for(var u=0;u<n.length;u++){var p=n[u];if(n.length>e.length)break e;if(!(p instanceof i)){l.lastIndex=0;var h=l.exec(p);if(h){d&&(c=h[1].length);var m=h.index-1+c,h=h[0].slice(c),g=h.length,f=m+g,v=p.slice(0,m+1),b=p.slice(f+1),y=[u,1];v&&y.push(v);var k=new i(r,s?t.tokenize(h,s):h);y.push(k),b&&y.push(b),Array.prototype.splice.apply(n,y)}}}}return n},hooks:{all:{},add:function(e,a){var i=t.hooks.all;i[e]=i[e]||[],i[e].push(a)},run:function(e,a){var i=t.hooks.all[e];if(i&&i.length)for(var n,o=0;n=i[o++];)n(a)}}},a=t.Token=function(e,t){this.type=e,this.content=t};if(a.stringify=function(e,i,n){if("string"==typeof e)return e;if("[object Array]"==Object.prototype.toString.call(e))return e.map(function(t){return a.stringify(t,i,e)}).join("");var o={type:e.type,content:a.stringify(e.content,i,n),tag:"span",classes:["token",e.type],attributes:{},language:i,parent:n};"comment"==o.type&&(o.attributes.spellcheck="true"),t.hooks.run("wrap",o);var r="";for(var l in o.attributes)r+=l+'="'+(o.attributes[l]||"")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'" '+r+">"+o.content+"</"+o.tag+">"},!self.document)return void self.addEventListener("message",function(e){var a=JSON.parse(e.data),i=a.language,n=a.code;self.postMessage(JSON.stringify(t.tokenize(n,t.languages[i]))),self.close()},!1);var i=document.getElementsByTagName("script");i=i[i.length-1],i&&(t.filename=i.src,document.addEventListener&&!i.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll))}(),Prism.hooks.add("after-highlight",function(e){var t=e.element.parentNode;if(t&&/pre/i.test(t.nodeName)&&-1!==t.className.indexOf("line-numbers")){var a,i=1+e.code.split("\n").length;lines=new Array(i),lines=lines.join("<span></span>"),a=document.createElement("span"),a.className="line-numbers-rows",a.innerHTML=lines,t.hasAttribute("data-start")&&(t.style.counterReset="linenumber "+(parseInt(t.getAttribute("data-start"),10)-1)),e.element.appendChild(a)}}),Prism.languages.markup={comment:/&lt;!--[\w\W]*?-->/g,prolog:/&lt;\?.+?\?>/,doctype:/&lt;!DOCTYPE.+?>/,cdata:/&lt;!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/&lt;\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|\w+))?\s*)*\/?>/gi,inside:{tag:{pattern:/^&lt;\/?[\w:-]+/i,inside:{punctuation:/^&lt;\/?/,namespace:/^[\w-]+?:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,inside:{punctuation:/=|>|"/g}},punctuation:/\/?>/g,"attr-name":{pattern:/[\w:-]+/g,inside:{namespace:/^[\w-]+?:/}}}},entity:/&amp;#?[\da-z]{1,8};/gi},Prism.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Prism.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*{))/gi,inside:{punctuation:/[;:]/g}},url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\};]*(?=\s*\{)/g,property:/(\b|\B)[\w-]+(?=\s*:)/gi,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,ignore:/&(lt|gt|amp);/gi,punctuation:/[\{\};:]/g},Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{style:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/style(>|&gt;)/gi,inside:{tag:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)|(&lt;|<)\/style(>|&gt;)/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css}}}),Prism.languages.css.selector={pattern:/[^\{\}\s][^\{\}]*(?=\s*\{)/g,inside:{"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/g,"pseudo-class":/:[-\w]+(?:\(.*\))?/g,"class":/\.[-:\.\w]+/g,id:/#[-:\.\w]+/g}},Prism.languages.insertBefore("css","ignore",{hexcode:/#[\da-f]{3,6}/gi,entity:/\\[\da-f]{1,8}/gi,number:/[\d%\.]+/g,"function":/(attr|calc|cross-fade|cycle|element|hsla?|image|lang|linear-gradient|matrix3d|matrix|perspective|radial-gradient|repeating-linear-gradient|repeating-radial-gradient|rgba?|rotatex|rotatey|rotatez|rotate3d|rotate|scalex|scaley|scalez|scale3d|scale|skewx|skewy|skew|steps|translatex|translatey|translatez|translate3d|translate|url|var)/gi}),Prism.languages.clike={comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|(^|[^:])\/\/.*?(\r?\n|$))/g,lookbehind:!0},string:/("|')(\\?.)*?\1/g,"class-name":{pattern:/((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/gi,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,"function":{pattern:/[a-z0-9_]+\(/gi,inside:{punctuation:/\(/}},number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,operator:/[-+]{1,2}|!|&lt;=?|>=?|={1,3}|(&amp;){1,2}|\|?\||\?|\*|\/|\~|\^|\%/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(var|let|if|else|while|do|for|return|in|instanceof|function|new|with|typeof|try|throw|catch|finally|null|break|continue)\b/g,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?|NaN|-?Infinity)\b/g}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/script(>|&gt;)/gi,inside:{tag:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)|(&lt;|<)\/script(>|&gt;)/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript}}}),Prism.languages.php=Prism.languages.extend("clike",{keyword:/\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|extends|private|protected|parent|static|throw|null|echo|print|trait|namespace|use|final|yield|goto)\b/gi,constant:/[A-Z0-9_]{2,}/g}),Prism.languages.insertBefore("php","keyword",{deliminator:/(\?>|\?&gt;|&lt;\?php|<\?php)/gi,"this":/\$this/,variable:/(\$\w+)\b/gi,scope:{pattern:/\b[a-z0-9_\\]+::/gi,inside:{keyword:/(static|self|parent)/,punctuation:/(::|\\)/}},"package":{pattern:/(\\|namespace\s+|use\s+)[a-z0-9_\\]+/gi,lookbehind:!0,inside:{punctuation:/\\/}}}),Prism.languages.insertBefore("php","operator",{property:{pattern:/(-&gt;)[a-z0-9_]+/gi,lookbehind:!0}}),Prism.languages.markup&&Prism.languages.insertBefore("php","comment",{markup:{pattern:/(\?>|\?&gt;)[\w\W]*?(?=(&lt;\?php|<\?php))/gi,lookbehind:!0,inside:{markup:{pattern:/&lt;\/?[\w:-]+\s*[\w\W]*?&gt;/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.php}}}),/*!
 * Retina.js v1.1.0
 *
 * Copyright 2013 Imulus, LLC
 * Released under the MIT license
 *
 * Retina.js is an open source script that makes it easy to serve
 * high-resolution images to devices with retina displays.
 */
!function(){function e(){}function t(e,t){this.path=e,"undefined"!=typeof t&&null!==t?(this.at_2x_path=t,this.perform_check=!1):(this.at_2x_path=e.replace(/\.\w+$/,function(e){return"@2x"+e}),this.perform_check=!0)}function a(e){this.el=e,this.path=new t(this.el.getAttribute("src"),this.el.getAttribute("data-at2x"));var a=this;this.path.check_2x_variant(function(e){e&&a.swap()})}var i="undefined"==typeof exports?window:exports,n={check_mime_type:!0};i.Retina=e,e.configure=function(e){null==e&&(e={});for(var t in e)n[t]=e[t]},e.init=function(e){null==e&&(e=i);var t=e.onload||new Function;e.onload=function(){var e,i,n=document.getElementsByTagName("img"),o=[];for(e=0;e<n.length;e++)i=n[e],o.push(new a(i));t()}},e.isRetina=function(){var e="(-webkit-min-device-pixel-ratio: 1.5),                      (min--moz-device-pixel-ratio: 1.5),                      (-o-min-device-pixel-ratio: 3/2),                      (min-resolution: 1.5dppx)";return i.devicePixelRatio>1?!0:i.matchMedia&&i.matchMedia(e).matches?!0:!1},i.RetinaImagePath=t,t.confirmed_paths=[],t.prototype.is_external=function(){return!(!this.path.match(/^https?\:/i)||this.path.match("//"+document.domain))},t.prototype.check_2x_variant=function(e){var a,i=this;return this.is_external()?e(!1):this.perform_check||"undefined"==typeof this.at_2x_path||null===this.at_2x_path?this.at_2x_path in t.confirmed_paths?e(!0):(a=new XMLHttpRequest,a.open("HEAD",this.at_2x_path),a.onreadystatechange=function(){if(4!=a.readyState)return e(!1);if(a.status>=200&&a.status<=399){if(n.check_mime_type){var o=a.getResponseHeader("Content-Type");if(null==o||!o.match(/^image/i))return e(!1)}return t.confirmed_paths.push(i.at_2x_path),e(!0)}return e(!1)},void a.send()):e(!0)},i.RetinaImage=a,a.prototype.swap=function(e){function t(){a.el.complete?$(a.el).is(":visible")&&(a.el.setAttribute("width",a.el.offsetWidth),a.el.setAttribute("height",a.el.offsetHeight),a.el.setAttribute("src",e)):setTimeout(t,5)}"undefined"==typeof e&&(e=this.path.at_2x_path);var a=this;t()},e.isRetina()&&e.init(i)}(),/*! NProgress 0.1.2 (c) 2013, Rico Sta. Cruz
 *  http://ricostacruz.com/nprogress
 */
!function(e){"function"==typeof module?module.exports=e(this.jQuery||require("jquery")):this.NProgress=e(this.jQuery)}(function(e){function t(e,t,a){return t>e?t:e>a?a:e}function a(e){return 100*(-1+e)}function i(e,t,i){var n;return n="translate3d"===o.positionUsing?{transform:"translate3d("+a(e)+"%,0,0)"}:"translate"===o.positionUsing?{transform:"translate("+a(e)+"%,0)"}:{"margin-left":a(e)+"%"},n.transition="all "+t+"ms "+i,n}var n={};n.version="0.1.2";var o=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};return n.configure=function(t){return e.extend(o,t),this},n.status=null,n.set=function(e){var a=n.isStarted();e=t(e,o.minimum,1),n.status=1===e?null:e;var r=n.render(!a),l=r.find('[role="bar"]'),s=o.speed,d=o.easing;return r[0].offsetWidth,r.queue(function(t){""===o.positionUsing&&(o.positionUsing=n.getPositioningCSS()),l.css(i(e,s,d)),1===e?(r.css({transition:"none",opacity:1}),r[0].offsetWidth,setTimeout(function(){r.css({transition:"all "+s+"ms linear",opacity:0}),setTimeout(function(){n.remove(),t()},s)},s)):setTimeout(t,s)}),this},n.isStarted=function(){return"number"==typeof n.status},n.start=function(){n.status||n.set(0);var e=function(){setTimeout(function(){n.status&&(n.trickle(),e())},o.trickleSpeed)};return o.trickle&&e(),this},n.done=function(e){return e||n.status?n.inc(.3+.5*Math.random()).set(1):this},n.inc=function(e){var a=n.status;return a?("number"!=typeof e&&(e=(1-a)*t(Math.random()*a,.1,.95)),a=t(a+e,0,.994),n.set(a)):n.start()},n.trickle=function(){return n.inc(Math.random()*o.trickleRate)},n.render=function(t){if(n.isRendered())return e("#nprogress");e("html").addClass("nprogress-busy");var i=e("<div id='nprogress'>").html(o.template),r=t?"-100":a(n.status||0);return i.find('[role="bar"]').css({transition:"all 0 linear",transform:"translate3d("+r+"%,0,0)"}),o.showSpinner||i.find('[role="spinner"]').remove(),i.appendTo(document.body),i},n.remove=function(){e("html").removeClass("nprogress-busy"),e("#nprogress").remove()},n.isRendered=function(){return e("#nprogress").length>0},n.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"},n});